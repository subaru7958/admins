(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();var xu={exports:{}},pr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.transitional.element"),Y0=Symbol.for("react.fragment");function gu(e,t,a){var s=null;if(a!==void 0&&(s=""+a),t.key!==void 0&&(s=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:$0,type:e,key:s,ref:t!==void 0?t:null,props:a}}pr.Fragment=Y0;pr.jsx=gu;pr.jsxs=gu;xu.exports=pr;var l=xu.exports,yu={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.transitional.element"),X0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),K0=Symbol.for("react.consumer"),F0=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),W0=Symbol.for("react.memo"),bu=Symbol.for("react.lazy"),zc=Symbol.iterator;function I0(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var pu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vu=Object.assign,ju={};function Ql(e,t,a){this.props=e,this.context=t,this.refs=ju,this.updater=a||pu}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nu(){}Nu.prototype=Ql.prototype;function Co(e,t,a){this.props=e,this.context=t,this.refs=ju,this.updater=a||pu}var To=Co.prototype=new Nu;To.constructor=Co;vu(To,Ql.prototype);To.isPureReactComponent=!0;var Lc=Array.isArray,Ae={H:null,A:null,T:null,S:null,V:null},wu=Object.prototype.hasOwnProperty;function ko(e,t,a,s,n,r){return a=r.ref,{$$typeof:Eo,type:e,key:t,ref:a!==void 0?a:null,props:r}}function eh(e,t){return ko(e.type,t,void 0,void 0,void 0,e.props)}function Do(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eo}function th(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Uc=/\/+/g;function Gr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?th(""+e.key):t.toString(36)}function Bc(){}function ah(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Bc,Bc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function dl(e,t,a,s,n){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Eo:case X0:i=!0;break;case bu:return i=e._init,dl(i(e._payload),t,a,s,n)}}if(i)return n=n(e),i=s===""?"."+Gr(e,0):s,Lc(n)?(a="",i!=null&&(a=i.replace(Uc,"$&/")+"/"),dl(n,t,a,"",function(d){return d})):n!=null&&(Do(n)&&(n=eh(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(Uc,"$&/")+"/")+i)),t.push(n)),1;i=0;var o=s===""?".":s+":";if(Lc(e))for(var c=0;c<e.length;c++)s=e[c],r=o+Gr(s,c),i+=dl(s,t,a,r,n);else if(c=I0(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,r=o+Gr(s,c++),i+=dl(s,t,a,r,n);else if(r==="object"){if(typeof e.then=="function")return dl(ah(e),t,a,s,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function dn(e,t,a){if(e==null)return e;var s=[],n=0;return dl(e,s,"","",function(r){return t.call(a,r,n++)}),s}function lh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sh(){}oe.Children={map:dn,forEach:function(e,t,a){dn(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return dn(e,function(){t++}),t},toArray:function(e){return dn(e,function(t){return t})||[]},only:function(e){if(!Do(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ql;oe.Fragment=Q0;oe.Profiler=V0;oe.PureComponent=Co;oe.StrictMode=Z0;oe.Suspense=P0;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;oe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ae.H.useMemoCache(e)}};oe.cache=function(e){return function(){return e.apply(null,arguments)}};oe.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=vu({},e.props),n=e.key,r=void 0;if(t!=null)for(i in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(n=""+t.key),t)!wu.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(s[i]=t[i]);var i=arguments.length-2;if(i===1)s.children=a;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];s.children=o}return ko(e.type,n,void 0,void 0,r,s)};oe.createContext=function(e){return e={$$typeof:F0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:K0,_context:e},e};oe.createElement=function(e,t,a){var s,n={},r=null;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)wu.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(n[s]=t[s]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];n.children=o}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)n[s]===void 0&&(n[s]=i[s]);return ko(e,r,void 0,void 0,null,n)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:J0,render:e}};oe.isValidElement=Do;oe.lazy=function(e){return{$$typeof:bu,_payload:{_status:-1,_result:e},_init:lh}};oe.memo=function(e,t){return{$$typeof:W0,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Ae.T,a={};Ae.T=a;try{var s=e(),n=Ae.S;n!==null&&n(a,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(sh,Hc)}catch(r){Hc(r)}finally{Ae.T=t}};oe.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()};oe.use=function(e){return Ae.H.use(e)};oe.useActionState=function(e,t,a){return Ae.H.useActionState(e,t,a)};oe.useCallback=function(e,t){return Ae.H.useCallback(e,t)};oe.useContext=function(e){return Ae.H.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e,t){return Ae.H.useDeferredValue(e,t)};oe.useEffect=function(e,t,a){var s=Ae.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};oe.useId=function(){return Ae.H.useId()};oe.useImperativeHandle=function(e,t,a){return Ae.H.useImperativeHandle(e,t,a)};oe.useInsertionEffect=function(e,t){return Ae.H.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Ae.H.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Ae.H.useMemo(e,t)};oe.useOptimistic=function(e,t){return Ae.H.useOptimistic(e,t)};oe.useReducer=function(e,t,a){return Ae.H.useReducer(e,t,a)};oe.useRef=function(e){return Ae.H.useRef(e)};oe.useState=function(e){return Ae.H.useState(e)};oe.useSyncExternalStore=function(e,t,a){return Ae.H.useSyncExternalStore(e,t,a)};oe.useTransition=function(){return Ae.H.useTransition()};oe.version="19.1.1";yu.exports=oe;var m=yu.exports,Su={exports:{}},vr={},Eu={exports:{}},Cu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,X){var A=_.length;_.push(X);e:for(;0<A;){var T=A-1>>>1,q=_[T];if(0<n(q,X))_[T]=X,_[A]=q,A=T;else break e}}function a(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var X=_[0],A=_.pop();if(A!==X){_[0]=A;e:for(var T=0,q=_.length,te=q>>>1;T<te;){var le=2*(T+1)-1,ne=_[le],K=le+1,ie=_[K];if(0>n(ne,A))K<q&&0>n(ie,ne)?(_[T]=ie,_[K]=A,T=K):(_[T]=ne,_[le]=A,T=le);else if(K<q&&0>n(ie,A))_[T]=ie,_[K]=A,T=K;else break e}}return X}function n(_,X){var A=_.sortIndex-X.sortIndex;return A!==0?A:_.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],f=1,b=null,u=3,y=!1,N=!1,p=!1,C=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function v(_){for(var X=a(d);X!==null;){if(X.callback===null)s(d);else if(X.startTime<=_)s(d),X.sortIndex=X.expirationTime,t(c,X);else break;X=a(d)}}function w(_){if(p=!1,v(_),!N)if(a(c)!==null)N=!0,O||(O=!0,re());else{var X=a(d);X!==null&&Z(w,X.startTime-_)}}var O=!1,k=-1,S=5,j=-1;function M(){return C?!0:!(e.unstable_now()-j<S)}function J(){if(C=!1,O){var _=e.unstable_now();j=_;var X=!0;try{e:{N=!1,p&&(p=!1,x(k),k=-1),y=!0;var A=u;try{t:{for(v(_),b=a(c);b!==null&&!(b.expirationTime>_&&M());){var T=b.callback;if(typeof T=="function"){b.callback=null,u=b.priorityLevel;var q=T(b.expirationTime<=_);if(_=e.unstable_now(),typeof q=="function"){b.callback=q,v(_),X=!0;break t}b===a(c)&&s(c),v(_)}else s(c);b=a(c)}if(b!==null)X=!0;else{var te=a(d);te!==null&&Z(w,te.startTime-_),X=!1}}break e}finally{b=null,u=A,y=!1}X=void 0}}finally{X?re():O=!1}}}var re;if(typeof h=="function")re=function(){h(J)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,F=ge.port2;ge.port1.onmessage=J,re=function(){F.postMessage(null)}}else re=function(){g(J,0)};function Z(_,X){k=g(function(){_(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_next=function(_){switch(u){case 1:case 2:case 3:var X=3;break;default:X=u}var A=u;u=X;try{return _()}finally{u=A}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(_,X){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=u;u=_;try{return X()}finally{u=A}},e.unstable_scheduleCallback=function(_,X,A){var T=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?T+A:T):A=T,_){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=A+q,_={id:f++,callback:X,priorityLevel:_,startTime:A,expirationTime:q,sortIndex:-1},A>T?(_.sortIndex=A,t(d,_),a(c)===null&&_===a(d)&&(p?(x(k),k=-1):p=!0,Z(w,A-T))):(_.sortIndex=q,t(c,_),N||y||(N=!0,O||(O=!0,re()))),_},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(_){var X=u;return function(){var A=u;u=X;try{return _.apply(this,arguments)}finally{u=A}}}})(Cu);Eu.exports=Cu;var nh=Eu.exports,Tu={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=m;function ku(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xa(){}var st={d:{f:xa,r:function(){throw Error(ku(522))},D:xa,C:xa,L:xa,m:xa,X:xa,S:xa,M:xa},p:0,findDOMNode:null},ih=Symbol.for("react.portal");function oh(e,t,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ih,key:s==null?null:""+s,children:e,containerInfo:t,implementation:a}}var fs=rh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function jr(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st;nt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ku(299));return oh(e,t,null,a)};nt.flushSync=function(e){var t=fs.T,a=st.p;try{if(fs.T=null,st.p=2,e)return e()}finally{fs.T=t,st.p=a,st.d.f()}};nt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,st.d.C(e,t))};nt.prefetchDNS=function(e){typeof e=="string"&&st.d.D(e)};nt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,s=jr(a,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?st.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:n,fetchPriority:r}):a==="script"&&st.d.X(e,{crossOrigin:s,integrity:n,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};nt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=jr(t.as,t.crossOrigin);st.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&st.d.M(e)};nt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,s=jr(a,t.crossOrigin);st.d.L(e,a,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};nt.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=jr(t.as,t.crossOrigin);st.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else st.d.m(e)};nt.requestFormReset=function(e){st.d.r(e)};nt.unstable_batchedUpdates=function(e,t){return e(t)};nt.useFormState=function(e,t,a){return fs.H.useFormState(e,t,a)};nt.useFormStatus=function(){return fs.H.useHostTransitionStatus()};nt.version="19.1.1";function Du(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Du)}catch(e){console.error(e)}}Du(),Tu.exports=nt;var ch=Tu.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $e=nh,Au=m,dh=ch;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ys(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Ou(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qc(e){if(Ys(e)!==e)throw Error(R(188))}function uh(e){var t=e.alternate;if(!t){if(t=Ys(e),t===null)throw Error(R(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return qc(n),e;if(r===s)return qc(n),t;r=r.sibling}throw Error(R(188))}if(a.return!==s.return)a=n,s=r;else{for(var i=!1,o=n.child;o;){if(o===a){i=!0,a=n,s=r;break}if(o===s){i=!0,s=n,a=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===a){i=!0,a=r,s=n;break}if(o===s){i=!0,s=r,a=n;break}o=o.sibling}if(!i)throw Error(R(189))}}if(a.alternate!==s)throw Error(R(190))}if(a.tag!==3)throw Error(R(188));return a.stateNode.current===a?e:t}function _u(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_u(e),t!==null)return t;e=e.sibling}return null}var ke=Object.assign,mh=Symbol.for("react.element"),un=Symbol.for("react.transitional.element"),cs=Symbol.for("react.portal"),hl=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),Ei=Symbol.for("react.profiler"),fh=Symbol.for("react.provider"),zu=Symbol.for("react.consumer"),It=Symbol.for("react.context"),Ao=Symbol.for("react.forward_ref"),Ci=Symbol.for("react.suspense"),Ti=Symbol.for("react.suspense_list"),Mo=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),ki=Symbol.for("react.activity"),hh=Symbol.for("react.memo_cache_sentinel"),Gc=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Gc&&e[Gc]||e["@@iterator"],typeof e=="function"?e:null)}var xh=Symbol.for("react.client.reference");function Di(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hl:return"Fragment";case Ei:return"Profiler";case Ru:return"StrictMode";case Ci:return"Suspense";case Ti:return"SuspenseList";case ki:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case cs:return"Portal";case It:return(e.displayName||"Context")+".Provider";case zu:return(e._context.displayName||"Context")+".Consumer";case Ao:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mo:return t=e.displayName||null,t!==null?t:Di(e.type)||"Memo";case ba:t=e._payload,e=e._init;try{return Di(e(t))}catch{}}return null}var ds=Array.isArray,ae=Au.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=dh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Za={pending:!1,data:null,method:null,action:null},Ai=[],xl=-1;function Zt(e){return{current:e}}function Ke(e){0>xl||(e.current=Ai[xl],Ai[xl]=null,xl--)}function Me(e,t){xl++,Ai[xl]=e.current,e.current=t}var Yt=Zt(null),ks=Zt(null),ka=Zt(null),$n=Zt(null);function Yn(e,t){switch(Me(ka,t),Me(ks,e),Me(Yt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zd(t),e=If(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ke(Yt),Me(Yt,e)}function Rl(){Ke(Yt),Ke(ks),Ke(ka)}function Mi(e){e.memoizedState!==null&&Me($n,e);var t=Yt.current,a=If(t,e.type);t!==a&&(Me(ks,e),Me(Yt,a))}function Xn(e){ks.current===e&&(Ke(Yt),Ke(ks)),$n.current===e&&(Ke($n),Bs._currentValue=Za)}var Oi=Object.prototype.hasOwnProperty,Oo=$e.unstable_scheduleCallback,$r=$e.unstable_cancelCallback,gh=$e.unstable_shouldYield,yh=$e.unstable_requestPaint,Xt=$e.unstable_now,bh=$e.unstable_getCurrentPriorityLevel,Lu=$e.unstable_ImmediatePriority,Uu=$e.unstable_UserBlockingPriority,Qn=$e.unstable_NormalPriority,ph=$e.unstable_LowPriority,Bu=$e.unstable_IdlePriority,vh=$e.log,jh=$e.unstable_setDisableYieldValue,Xs=null,yt=null;function Sa(e){if(typeof vh=="function"&&jh(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Xs,e)}catch{}}var bt=Math.clz32?Math.clz32:Sh,Nh=Math.log,wh=Math.LN2;function Sh(e){return e>>>=0,e===0?32:31-(Nh(e)/wh|0)|0}var mn=256,fn=4194304;function Ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nr(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?n=Ya(s):(i&=o,i!==0?n=Ya(i):a||(a=o&~e,a!==0&&(n=Ya(a))))):(o=s&~r,o!==0?n=Ya(o):i!==0?n=Ya(i):a||(a=s&~e,a!==0&&(n=Ya(a)))),n===0?0:t!==0&&t!==n&&!(t&r)&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function Qs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Eh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var e=mn;return mn<<=1,!(mn&4194048)&&(mn=256),e}function qu(){var e=fn;return fn<<=1,!(fn&62914560)&&(fn=4194304),e}function Yr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Zs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,t,a,s,n,r){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,d=e.hiddenUpdates;for(a=i&~a;0<a;){var f=31-bt(a),b=1<<f;o[f]=0,c[f]=-1;var u=d[f];if(u!==null)for(d[f]=null,f=0;f<u.length;f++){var y=u[f];y!==null&&(y.lane&=-536870913)}a&=~b}s!==0&&Gu(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function Gu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function $u(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-bt(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function _o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ro(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Yu(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:c0(e.type))}function Th(e,t){var a=pe.p;try{return pe.p=e,t()}finally{pe.p=a}}var qa=Math.random().toString(36).slice(2),et="__reactFiber$"+qa,dt="__reactProps$"+qa,Zl="__reactContainer$"+qa,_i="__reactEvents$"+qa,kh="__reactListeners$"+qa,Dh="__reactHandles$"+qa,$c="__reactResources$"+qa,Vs="__reactMarker$"+qa;function zo(e){delete e[et],delete e[dt],delete e[_i],delete e[kh],delete e[Dh]}function gl(e){var t=e[et];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Zl]||a[et]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Fd(e);e!==null;){if(a=e[et])return a;e=Fd(e)}return t}e=a,a=e.parentNode}return null}function Vl(e){if(e=e[et]||e[Zl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function Cl(e){var t=e[$c];return t||(t=e[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Vs]=!0}var Xu=new Set,Qu={};function sl(e,t){zl(e,t),zl(e+"Capture",t)}function zl(e,t){for(Qu[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var Ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Xc={};function Mh(e){return Oi.call(Xc,e)?!0:Oi.call(Yc,e)?!1:Ah.test(e)?Xc[e]=!0:(Yc[e]=!0,!1)}function Tn(e,t,a){if(Mh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function hn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ft(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var Xr,Qc;function ul(e){if(Xr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Xr=t&&t[1]||"",Qc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+Qc}var Qr=!1;function Zr(e,t){if(!e||Qr)return"";Qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var b=function(){throw Error()};if(Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(y){var u=y}Reflect.construct(e,[],b)}else{try{b.call()}catch(y){u=y}e.call(b.prototype)}}else{try{throw Error()}catch(y){u=y}(b=e())&&typeof b.catch=="function"&&b.catch(function(){})}}catch(y){if(y&&u&&typeof y.stack=="string")return[y.stack,u.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var c=i.split(`
`),d=o.split(`
`);for(n=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;if(s===c.length||n===d.length)for(s=c.length-1,n=d.length-1;1<=s&&0<=n&&c[s]!==d[n];)n--;for(;1<=s&&0<=n;s--,n--)if(c[s]!==d[n]){if(s!==1||n!==1)do if(s--,n--,0>n||c[s]!==d[n]){var f=`
`+c[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=n);break}}}finally{Qr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ul(a):""}function Oh(e){switch(e.tag){case 26:case 27:case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 15:return Zr(e.type,!1);case 11:return Zr(e.type.render,!1);case 1:return Zr(e.type,!0);case 31:return ul("Activity");default:return""}}function Zc(e){try{var t="";do t+=Oh(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function St(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _h(e){var t=Zu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){s=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zn(e){e._valueTracker||(e._valueTracker=_h(e))}function Vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Zu(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Vn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rh=/[\n"\\]/g;function Tt(e){return e.replace(Rh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ri(e,t,a,s,n,r,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+St(t)):e.value!==""+St(t)&&(e.value=""+St(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?zi(e,i,St(t)):a!=null?zi(e,i,St(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+St(o):e.removeAttribute("name")}function Ku(e,t,a,s,n,r,i,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+St(a):"",t=t!=null?""+St(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function zi(e,t,a){t==="number"&&Vn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tl(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+St(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Fu(e,t,a){if(t!=null&&(t=""+St(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+St(a):""}function Ju(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(R(92));if(ds(s)){if(1<s.length)throw Error(R(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=St(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Ll(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||zh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Pu(e,t,a){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Vc(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&Vc(e,r,t[r])}function Lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(e){return Uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Li=null;function Uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,kl=null;function Kc(e){var t=Vl(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ri(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[dt]||null;if(!n)throw Error(R(90));Ri(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Vu(s)}break e;case"textarea":Fu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Tl(e,!!a.multiple,t,!1)}}}var Vr=!1;function Wu(e,t,a){if(Vr)return e(t,a);Vr=!0;try{var s=e(t);return s}finally{if(Vr=!1,(yl!==null||kl!==null)&&(Or(),yl&&(t=yl,e=kl,kl=yl=null,Kc(t),e)))for(t=0;t<e.length;t++)Kc(e[t])}}function Ds(e,t){var a=e.stateNode;if(a===null)return null;var s=a[dt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(R(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ui=!1;if(ia)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ui=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ui=!1}var Ea=null,Bo=null,Dn=null;function Iu(){if(Dn)return Dn;var e,t=Bo,a=t.length,s,n="value"in Ea?Ea.value:Ea.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var i=a-e;for(s=1;s<=i&&t[a-s]===n[r-s];s++);return Dn=n.slice(e,1<s?1-s:void 0)}function An(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xn(){return!0}function Fc(){return!1}function ut(e){function t(a,s,n,r,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?xn:Fc,this.isPropagationStopped=Fc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xn)},persist:function(){},isPersistent:xn}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=ut(nl),Ks=ke({},nl,{view:0,detail:0}),Bh=ut(Ks),Kr,Fr,as,Sr=ke({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Kr=e.screenX-as.screenX,Fr=e.screenY-as.screenY):Fr=Kr=0,as=e),Kr)},movementY:function(e){return"movementY"in e?e.movementY:Fr}}),Jc=ut(Sr),Hh=ke({},Sr,{dataTransfer:0}),qh=ut(Hh),Gh=ke({},Ks,{relatedTarget:0}),Jr=ut(Gh),$h=ke({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=ut($h),Xh=ke({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qh=ut(Xh),Zh=ke({},nl,{data:0}),Pc=ut(Zh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fh[e])?!!t[e]:!1}function Ho(){return Jh}var Ph=ke({},Ks,{key:function(e){if(e.key){var t=Vh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=An(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?An(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?An(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wh=ut(Ph),Ih=ke({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=ut(Ih),ex=ke({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),tx=ut(ex),ax=ke({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lx=ut(ax),sx=ke({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=ut(sx),rx=ke({},nl,{newState:0,oldState:0}),ix=ut(rx),ox=[9,13,27,32],qo=ia&&"CompositionEvent"in window,hs=null;ia&&"documentMode"in document&&(hs=document.documentMode);var cx=ia&&"TextEvent"in window&&!hs,em=ia&&(!qo||hs&&8<hs&&11>=hs),Ic=String.fromCharCode(32),ed=!1;function tm(e,t){switch(e){case"keyup":return ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function dx(e,t){switch(e){case"compositionend":return am(t);case"keypress":return t.which!==32?null:(ed=!0,Ic);case"textInput":return e=t.data,e===Ic&&ed?null:e;default:return null}}function ux(e,t){if(bl)return e==="compositionend"||!qo&&tm(e,t)?(e=Iu(),Dn=Bo=Ea=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return em&&t.locale!=="ko"?null:t.data;default:return null}}var mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mx[e.type]:t==="textarea"}function lm(e,t,a,s){yl?kl?kl.push(s):kl=[s]:yl=s,t=ur(t,"onChange"),0<t.length&&(a=new wr("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var xs=null,As=null;function fx(e){Jf(e,0)}function Er(e){var t=us(e);if(Vu(t))return e}function ad(e,t){if(e==="change")return t}var sm=!1;if(ia){var Pr;if(ia){var Wr="oninput"in document;if(!Wr){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Wr=typeof ld.oninput=="function"}Pr=Wr}else Pr=!1;sm=Pr&&(!document.documentMode||9<document.documentMode)}function sd(){xs&&(xs.detachEvent("onpropertychange",nm),As=xs=null)}function nm(e){if(e.propertyName==="value"&&Er(As)){var t=[];lm(t,As,e,Uo(e)),Wu(fx,t)}}function hx(e,t,a){e==="focusin"?(sd(),xs=t,As=a,xs.attachEvent("onpropertychange",nm)):e==="focusout"&&sd()}function xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Er(As)}function gx(e,t){if(e==="click")return Er(t)}function yx(e,t){if(e==="input"||e==="change")return Er(t)}function bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:bx;function Ms(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!Oi.call(t,n)||!jt(e[n],t[n]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var a=nd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=nd(a)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vn(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var px=ia&&"documentMode"in document&&11>=document.documentMode,pl=null,Bi=null,gs=null,Hi=!1;function id(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hi||pl==null||pl!==Vn(s)||(s=pl,"selectionStart"in s&&Go(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gs&&Ms(gs,s)||(gs=s,s=ur(Bi,"onSelect"),0<s.length&&(t=new wr("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=pl)))}function $a(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Ir={},om={};ia&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function rl(e){if(Ir[e])return Ir[e];if(!vl[e])return e;var t=vl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in om)return Ir[e]=t[a];return e}var cm=rl("animationend"),dm=rl("animationiteration"),um=rl("animationstart"),vx=rl("transitionrun"),jx=rl("transitionstart"),Nx=rl("transitioncancel"),mm=rl("transitionend"),fm=new Map,qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qi.push("scrollEnd");function Ut(e,t){fm.set(e,t),sl(t,[e])}var od=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var a=od.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Zc(t)},od.set(e,t),t)}return{value:e,source:t,stack:Zc(t)}}var wt=[],jl=0,$o=0;function Cr(){for(var e=jl,t=$o=jl=0;t<e;){var a=wt[t];wt[t++]=null;var s=wt[t];wt[t++]=null;var n=wt[t];wt[t++]=null;var r=wt[t];if(wt[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}r!==0&&hm(a,n,r)}}function Tr(e,t,a,s){wt[jl++]=e,wt[jl++]=t,wt[jl++]=a,wt[jl++]=s,$o|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Yo(e,t,a,s){return Tr(e,t,a,s),Kn(e)}function Kl(e,t){return Tr(e,null,null,t),Kn(e)}function hm(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-bt(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Kn(e){if(50<Cs)throw Cs=0,io=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Nl={};function wx(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,a,s){return new wx(e,t,a,s)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=gt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xm(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mn(e,t,a,s,n,r){var i=0;if(s=e,typeof e=="function")Xo(e)&&(i=1);else if(typeof e=="string")i=Eg(e,a,Yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ki:return e=gt(31,a,t,n),e.elementType=ki,e.lanes=r,e;case hl:return Va(a.children,n,r,t);case Ru:i=8,n|=24;break;case Ei:return e=gt(12,a,t,n|2),e.elementType=Ei,e.lanes=r,e;case Ci:return e=gt(13,a,t,n),e.elementType=Ci,e.lanes=r,e;case Ti:return e=gt(19,a,t,n),e.elementType=Ti,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fh:case It:i=10;break e;case zu:i=9;break e;case Ao:i=11;break e;case Mo:i=14;break e;case ba:i=16,s=null;break e}i=29,a=Error(R(130,e===null?"null":typeof e,"")),s=null}return t=gt(i,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function Va(e,t,a,s){return e=gt(7,e,s,t),e.lanes=a,e}function ei(e,t,a){return e=gt(6,e,null,t),e.lanes=a,e}function ti(e,t,a){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wl=[],Sl=0,Fn=null,Jn=0,Et=[],Ct=0,Ka=null,ea=1,ta="";function Xa(e,t){wl[Sl++]=Jn,wl[Sl++]=Fn,Fn=e,Jn=t}function gm(e,t,a){Et[Ct++]=ea,Et[Ct++]=ta,Et[Ct++]=Ka,Ka=e;var s=ea;e=ta;var n=32-bt(s)-1;s&=~(1<<n),a+=1;var r=32-bt(t)+n;if(30<r){var i=n-n%5;r=(s&(1<<i)-1).toString(32),s>>=i,n-=i,ea=1<<32-bt(t)+n|a<<n|s,ta=r+e}else ea=1<<r|a<<n|s,ta=e}function Qo(e){e.return!==null&&(Xa(e,1),gm(e,1,0))}function Zo(e){for(;e===Fn;)Fn=wl[--Sl],wl[Sl]=null,Jn=wl[--Sl],wl[Sl]=null;for(;e===Ka;)Ka=Et[--Ct],Et[Ct]=null,ta=Et[--Ct],Et[Ct]=null,ea=Et[--Ct],Et[Ct]=null}var lt=null,Re=null,be=!1,Fa=null,Gt=!1,Gi=Error(R(519));function Ia(e){var t=Error(R(418,""));throw Os(kt(t,e)),Gi}function cd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[et]=e,t[dt]=s,a){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(a=0;a<zs.length;a++)ue(zs[a],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),Ku(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Zn(t);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),Ju(t,s.value,s.defaultValue,s.children),Zn(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Wf(t.textContent,a)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=zr),t=!0):t=!1,t||Ia(e)}function dd(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:lt=lt.return}}function ls(e){if(e!==lt)return!1;if(!be)return dd(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ho(e.type,e.memoizedProps)),a=!a),a&&Re&&Ia(e),dd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Re=zt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Re=null}}else t===27?(t=Re,Ga(e.type)?(e=yo,yo=null,Re=e):Re=t):Re=lt?zt(e.stateNode.nextSibling):null;return!0}function Fs(){Re=lt=null,be=!1}function ud(){var e=Fa;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Fa=null),e}function Os(e){Fa===null?Fa=[e]:Fa.push(e)}var $i=Zt(null),il=null,aa=null;function va(e,t,a){Me($i,t._currentValue),t._currentValue=a}function na(e){e._currentValue=$i.current,Ke($i)}function Yi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Xi(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var i=n.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=n;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=a,o=r.alternate,o!==null&&(o.lanes|=a),Yi(r.return,a,e),s||(i=null);break e}r=o.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(R(341));i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),Yi(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Js(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if(n.flags&524288)r=!0;else if(n.flags&262144)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(R(387));if(i=i.memoizedProps,i!==null){var o=n.type;jt(n.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(n===$n.current){if(i=n.alternate,i===null)throw Error(R(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}n=n.return}e!==null&&Xi(t,e,a,s),t.flags|=262144}function Pn(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function el(e){il=e,aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return ym(il,e)}function gn(e,t){return il===null&&el(e),ym(e,t)}function ym(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},aa===null){if(e===null)throw Error(R(308));aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else aa=aa.next=t;return a}var Sx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ex=$e.unstable_scheduleCallback,Cx=$e.unstable_NormalPriority,qe={$$typeof:It,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new Sx,data:new Map,refCount:0}}function Ps(e){e.refCount--,e.refCount===0&&Ex(Cx,function(){e.controller.abort()})}var ys=null,Qi=0,Ul=0,Dl=null;function Tx(e,t){if(ys===null){var a=ys=[];Qi=0,Ul=gc(),Dl={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Qi++,t.then(md,md),t}function md(){if(--Qi===0&&ys!==null){Dl!==null&&(Dl.status="fulfilled");var e=ys;ys=null,Ul=0,Dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kx(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var fd=ae.S;ae.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tx(e,t),fd!==null&&fd(e,t)};var Ja=Zt(null);function Ko(){var e=Ja.current;return e!==null?e:Te.pooledCache}function On(e,t){t===null?Me(Ja,Ja.current):Me(Ja,t.pool)}function bm(){var e=Ko();return e===null?null:{parent:qe._currentValue,pool:e}}var Ws=Error(R(460)),pm=Error(R(474)),kr=Error(R(542)),Zi={then:function(){}};function hd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yn(){}function vm(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(yn,yn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e}throw bs=t,Ws}}var bs=null;function xd(){if(bs===null)throw Error(R(459));var e=bs;return bs=null,e}function gd(e){if(e===Ws||e===kr)throw Error(R(483))}var pa=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ne&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Kn(e),hm(e,null,a),t}return Tr(e,s,t,a),Kn(e)}function ps(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,$u(e,a)}}function ai(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=i:r=r.next=i,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ki=!1;function vs(){if(Ki){var e=Dl;if(e!==null)throw e}}function js(e,t,a,s){Ki=!1;var n=e.updateQueue;pa=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?r=d:i.next=d,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=c))}if(r!==null){var b=n.baseState;i=0,f=d=c=null,o=r;do{var u=o.lane&-536870913,y=u!==o.lane;if(y?(he&u)===u:(s&u)===u){u!==0&&u===Ul&&(Ki=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var N=e,p=o;u=t;var C=a;switch(p.tag){case 1:if(N=p.payload,typeof N=="function"){b=N.call(C,b,u);break e}b=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=p.payload,u=typeof N=="function"?N.call(C,b,u):N,u==null)break e;b=ke({},b,u);break e;case 2:pa=!0}}u=o.callback,u!==null&&(e.flags|=64,y&&(e.flags|=8192),y=n.callbacks,y===null?n.callbacks=[u]:y.push(u))}else y={lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=y,c=b):f=f.next=y,i|=u;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;y=o,o=y.next,y.next=null,n.lastBaseUpdate=y,n.shared.pending=null}}while(1);f===null&&(c=b),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=f,r===null&&(n.shared.lanes=0),Ba|=i,e.lanes=i,e.memoizedState=b}}function jm(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function Nm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jm(a[e],t)}var Bl=Zt(null),Wn=Zt(0);function yd(e,t){e=da,Me(Wn,e),Me(Bl,t),da=e|t.baseLanes}function Fi(){Me(Wn,da),Me(Bl,Bl.current)}function Jo(){da=Wn.current,Ke(Bl),Ke(Wn)}var La=0,ce=null,Se=null,Be=null,In=!1,Al=!1,tl=!1,er=0,_s=0,Ml=null,Dx=0;function Le(){throw Error(R(321))}function Po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function Wo(e,t,a,s,n,r){return La=r,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?Im:ef,tl=!1,r=a(s,n),tl=!1,Al&&(r=Sm(t,a,s,n)),wm(e),r}function wm(e){ae.H=tr;var t=Se!==null&&Se.next!==null;if(La=0,Be=Se=ce=null,In=!1,_s=0,Ml=null,t)throw Error(R(300));e===null||Ve||(e=e.dependencies,e!==null&&Pn(e)&&(Ve=!0))}function Sm(e,t,a,s){ce=e;var n=0;do{if(Al&&(Ml=null),_s=0,Al=!1,25<=n)throw Error(R(301));if(n+=1,Be=Se=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ae.H=Lx,r=t(a,s)}while(Al);return r}function Ax(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?Is(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(ce.flags|=1024),t}function Io(){var e=er!==0;return er=0,e}function ec(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function tc(e){if(In){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}In=!1}La=0,Be=Se=ce=null,Al=!1,_s=er=0,Ml=null}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?ce.memoizedState=Be=e:Be=Be.next=e,Be}function He(){if(Se===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Be===null?ce.memoizedState:Be.next;if(t!==null)Be=t,Se=e;else{if(e===null)throw ce.alternate===null?Error(R(467)):Error(R(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Be===null?ce.memoizedState=Be=e:Be=Be.next=e}return Be}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(e){var t=_s;return _s+=1,Ml===null&&(Ml=[]),e=vm(Ml,e,t),t=ce,(Be===null?t.memoizedState:Be.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?Im:ef),e}function Dr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Is(e);if(e.$$typeof===It)return tt(e)}throw Error(R(438,String(e)))}function lc(e){var t=null,a=ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ac(),ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=hh;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function _n(e){var t=He();return sc(t,Se,e)}function sc(e,t,a){var s=e.queue;if(s===null)throw Error(R(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var i=n.next;n.next=r.next,r.next=i}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var o=i=null,c=null,d=t,f=!1;do{var b=d.lane&-536870913;if(b!==d.lane?(he&b)===b:(La&b)===b){var u=d.revertLane;if(u===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),b===Ul&&(f=!0);else if((La&u)===u){d=d.next,u===Ul&&(f=!0);continue}else b={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(o=c=b,i=r):c=c.next=b,ce.lanes|=u,Ba|=u;b=d.action,tl&&a(r,b),r=d.hasEagerState?d.eagerState:a(r,b)}else u={lane:b,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(o=c=u,i=r):c=c.next=u,ce.lanes|=b,Ba|=b;d=d.next}while(d!==null&&d!==t);if(c===null?i=r:c.next=o,!jt(r,e.memoizedState)&&(Ve=!0,f&&(a=Dl,a!==null)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=c,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function li(e){var t=He(),a=t.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do r=e(r,i.action),i=i.next;while(i!==n);jt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function Em(e,t,a){var s=ce,n=He(),r=be;if(r){if(a===void 0)throw Error(R(407));a=a()}else a=t();var i=!jt((Se||n).memoizedState,a);i&&(n.memoizedState=a,Ve=!0),n=n.queue;var o=km.bind(null,s,n,e);if(en(2048,8,o,[e]),n.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(s.flags|=2048,Hl(9,Ar(),Tm.bind(null,s,n,a,t),null),Te===null)throw Error(R(349));r||La&124||Cm(s,t,a)}return a}function Cm(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ce.updateQueue,t===null?(t=ac(),ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Tm(e,t,a,s){t.value=a,t.getSnapshot=s,Dm(t)&&Am(e)}function km(e,t,a){return a(function(){Dm(t)&&Am(e)})}function Dm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function Am(e){var t=Kl(e,2);t!==null&&vt(t,e,2)}function Ji(e){var t=it();if(typeof e=="function"){var a=e;if(e=a(),tl){Sa(!0);try{a()}finally{Sa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Mm(e,t,a,s){return e.baseState=a,sc(e,Se,typeof s=="function"?s:oa)}function Mx(e,t,a,s,n){if(Mr(e))throw Error(R(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};ae.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,Om(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Om(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=ae.T,i={};ae.T=i;try{var o=a(n,s),c=ae.S;c!==null&&c(i,o),bd(e,t,o)}catch(d){Pi(e,t,d)}finally{ae.T=r}}else try{r=a(n,s),bd(e,t,r)}catch(d){Pi(e,t,d)}}function bd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){pd(e,t,s)},function(s){return Pi(e,t,s)}):pd(e,t,a)}function pd(e,t,a){t.status="fulfilled",t.value=a,_m(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Om(e,a)))}function Pi(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,_m(t),t=t.next;while(t!==s)}e.action=null}function _m(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rm(e,t){return t}function vd(e,t){if(be){var a=Te.formState;if(a!==null){e:{var s=ce;if(be){if(Re){t:{for(var n=Re,r=Gt;n.nodeType!==8;){if(!r){n=null;break t}if(n=zt(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Re=zt(n.nextSibling),s=n.data==="F!";break e}}Ia(s)}s=!1}s&&(t=a[0])}}return a=it(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:t},a.queue=s,a=Jm.bind(null,ce,s),s.dispatch=a,s=Ji(!1),r=oc.bind(null,ce,!1,s.queue),s=it(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=Mx.bind(null,ce,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function jd(e){var t=He();return zm(t,Se,e)}function zm(e,t,a){if(t=sc(e,t,Rm)[0],e=_n(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Is(t)}catch(i){throw i===Ws?kr:i}else s=t;t=He();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(ce.flags|=2048,Hl(9,Ar(),Ox.bind(null,n,a),null)),[s,r,e]}function Ox(e,t){e.action=t}function Nd(e){var t=He(),a=Se;if(a!==null)return zm(t,a,e);He(),t=t.memoizedState,a=He();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Hl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ce.updateQueue,t===null&&(t=ac(),ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Ar(){return{destroy:void 0,resource:void 0}}function Lm(){return He().memoizedState}function Rn(e,t,a,s){var n=it();s=s===void 0?null:s,ce.flags|=e,n.memoizedState=Hl(1|t,Ar(),a,s)}function en(e,t,a,s){var n=He();s=s===void 0?null:s;var r=n.memoizedState.inst;Se!==null&&s!==null&&Po(s,Se.memoizedState.deps)?n.memoizedState=Hl(t,r,a,s):(ce.flags|=e,n.memoizedState=Hl(1|t,r,a,s))}function wd(e,t){Rn(8390656,8,e,t)}function Um(e,t){en(2048,8,e,t)}function Bm(e,t){return en(4,2,e,t)}function Hm(e,t){return en(4,4,e,t)}function qm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gm(e,t,a){a=a!=null?a.concat([e]):null,en(4,4,qm.bind(null,t,e),a)}function nc(){}function $m(e,t){var a=He();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Po(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Ym(e,t){var a=He();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Po(t,s[1]))return s[0];if(s=e(),tl){Sa(!0);try{e()}finally{Sa(!1)}}return a.memoizedState=[s,t],s}function rc(e,t,a){return a===void 0||La&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Rf(),ce.lanes|=e,Ba|=e,a)}function Xm(e,t,a,s){return jt(a,t)?a:Bl.current!==null?(e=rc(e,a,s),jt(e,t)||(Ve=!0),e):La&42?(e=Rf(),ce.lanes|=e,Ba|=e,t):(Ve=!0,e.memoizedState=a)}function Qm(e,t,a,s,n){var r=pe.p;pe.p=r!==0&&8>r?r:8;var i=ae.T,o={};ae.T=o,oc(e,!1,t,a);try{var c=n(),d=ae.S;if(d!==null&&d(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=kx(c,s);Ns(e,t,f,pt(e))}else Ns(e,t,s,pt(e))}catch(b){Ns(e,t,{then:function(){},status:"rejected",reason:b},pt())}finally{pe.p=r,ae.T=i}}function _x(){}function Wi(e,t,a,s){if(e.tag!==5)throw Error(R(476));var n=Zm(e).queue;Qm(e,n,t,Za,a===null?_x:function(){return Vm(e),a(s)})}function Zm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Za,baseState:Za,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:Za},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vm(e){var t=Zm(e).next.queue;Ns(e,t,{},pt())}function ic(){return tt(Bs)}function Km(){return He().memoizedState}function Fm(){return He().memoizedState}function Rx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=pt();e=Da(a);var s=Aa(t,e,a);s!==null&&(vt(s,t,a),ps(s,t,a)),t={cache:Vo()},e.payload=t;return}t=t.return}}function zx(e,t,a){var s=pt();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mr(e)?Pm(t,a):(a=Yo(e,t,a,s),a!==null&&(vt(a,e,s),Wm(a,t,s)))}function Jm(e,t,a){var s=pt();Ns(e,t,a,s)}function Ns(e,t,a,s){var n={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mr(e))Pm(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,o=r(i,a);if(n.hasEagerState=!0,n.eagerState=o,jt(o,i))return Tr(e,t,n,0),Te===null&&Cr(),!1}catch{}finally{}if(a=Yo(e,t,n,s),a!==null)return vt(a,e,s),Wm(a,t,s),!0}return!1}function oc(e,t,a,s){if(s={lane:2,revertLane:gc(),action:s,hasEagerState:!1,eagerState:null,next:null},Mr(e)){if(t)throw Error(R(479))}else t=Yo(e,a,s,2),t!==null&&vt(t,e,2)}function Mr(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Pm(e,t){Al=In=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Wm(e,t,a){if(a&4194048){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,$u(e,a)}}var tr={readContext:tt,use:Dr,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},Im={readContext:tt,use:Dr,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:wd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Rn(4194308,4,qm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Rn(4194308,4,e,t)},useInsertionEffect:function(e,t){Rn(4,2,e,t)},useMemo:function(e,t){var a=it();t=t===void 0?null:t;var s=e();if(tl){Sa(!0);try{e()}finally{Sa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=it();if(a!==void 0){var n=a(t);if(tl){Sa(!0);try{a(t)}finally{Sa(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=zx.bind(null,ce,e),[s.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:function(e){e=Ji(e);var t=e.queue,a=Jm.bind(null,ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:nc,useDeferredValue:function(e,t){var a=it();return rc(a,e,t)},useTransition:function(){var e=Ji(!1);return e=Qm.bind(null,ce,e.queue,!0,!1),it().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ce,n=it();if(be){if(a===void 0)throw Error(R(407));a=a()}else{if(a=t(),Te===null)throw Error(R(349));he&124||Cm(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,wd(km.bind(null,s,r,e),[e]),s.flags|=2048,Hl(9,Ar(),Tm.bind(null,s,r,a,t),null),a},useId:function(){var e=it(),t=Te.identifierPrefix;if(be){var a=ta,s=ea;a=(s&~(1<<32-bt(s)-1)).toString(32)+a,t=""+t+"R"+a,a=er++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Dx++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ic,useFormState:vd,useActionState:vd,useOptimistic:function(e){var t=it();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=oc.bind(null,ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:lc,useCacheRefresh:function(){return it().memoizedState=Rx.bind(null,ce)}},ef={readContext:tt,use:Dr,useCallback:$m,useContext:tt,useEffect:Um,useImperativeHandle:Gm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:Ym,useReducer:_n,useRef:Lm,useState:function(){return _n(oa)},useDebugValue:nc,useDeferredValue:function(e,t){var a=He();return Xm(a,Se.memoizedState,e,t)},useTransition:function(){var e=_n(oa)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Is(e),t]},useSyncExternalStore:Em,useId:Km,useHostTransitionStatus:ic,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var a=He();return Mm(a,Se,e,t)},useMemoCache:lc,useCacheRefresh:Fm},Lx={readContext:tt,use:Dr,useCallback:$m,useContext:tt,useEffect:Um,useImperativeHandle:Gm,useInsertionEffect:Bm,useLayoutEffect:Hm,useMemo:Ym,useReducer:li,useRef:Lm,useState:function(){return li(oa)},useDebugValue:nc,useDeferredValue:function(e,t){var a=He();return Se===null?rc(a,e,t):Xm(a,Se.memoizedState,e,t)},useTransition:function(){var e=li(oa)[0],t=He().memoizedState;return[typeof e=="boolean"?e:Is(e),t]},useSyncExternalStore:Em,useId:Km,useHostTransitionStatus:ic,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,t){var a=He();return Se!==null?Mm(a,Se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lc,useCacheRefresh:Fm},Ol=null,Rs=0;function bn(e){var t=Rs;return Rs+=1,Ol===null&&(Ol=[]),vm(Ol,e,t)}function ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pn(e,t){throw t.$$typeof===mh?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sd(e){var t=e._init;return t(e._payload)}function tf(e){function t(g,x){if(e){var h=g.deletions;h===null?(g.deletions=[x],g.flags|=16):h.push(x)}}function a(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function s(g){for(var x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function n(g,x){return g=sa(g,x),g.index=0,g.sibling=null,g}function r(g,x,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<x?(g.flags|=67108866,x):h):(g.flags|=67108866,x)):(g.flags|=1048576,x)}function i(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,x,h,v){return x===null||x.tag!==6?(x=ei(h,g.mode,v),x.return=g,x):(x=n(x,h),x.return=g,x)}function c(g,x,h,v){var w=h.type;return w===hl?f(g,x,h.props.children,v,h.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ba&&Sd(w)===x.type)?(x=n(x,h.props),ss(x,h),x.return=g,x):(x=Mn(h.type,h.key,h.props,null,g.mode,v),ss(x,h),x.return=g,x)}function d(g,x,h,v){return x===null||x.tag!==4||x.stateNode.containerInfo!==h.containerInfo||x.stateNode.implementation!==h.implementation?(x=ti(h,g.mode,v),x.return=g,x):(x=n(x,h.children||[]),x.return=g,x)}function f(g,x,h,v,w){return x===null||x.tag!==7?(x=Va(h,g.mode,v,w),x.return=g,x):(x=n(x,h),x.return=g,x)}function b(g,x,h){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=ei(""+x,g.mode,h),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case un:return h=Mn(x.type,x.key,x.props,null,g.mode,h),ss(h,x),h.return=g,h;case cs:return x=ti(x,g.mode,h),x.return=g,x;case ba:var v=x._init;return x=v(x._payload),b(g,x,h)}if(ds(x)||es(x))return x=Va(x,g.mode,h,null),x.return=g,x;if(typeof x.then=="function")return b(g,bn(x),h);if(x.$$typeof===It)return b(g,gn(g,x),h);pn(g,x)}return null}function u(g,x,h,v){var w=x!==null?x.key:null;if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return w!==null?null:o(g,x,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case un:return h.key===w?c(g,x,h,v):null;case cs:return h.key===w?d(g,x,h,v):null;case ba:return w=h._init,h=w(h._payload),u(g,x,h,v)}if(ds(h)||es(h))return w!==null?null:f(g,x,h,v,null);if(typeof h.then=="function")return u(g,x,bn(h),v);if(h.$$typeof===It)return u(g,x,gn(g,h),v);pn(g,h)}return null}function y(g,x,h,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return g=g.get(h)||null,o(x,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case un:return g=g.get(v.key===null?h:v.key)||null,c(x,g,v,w);case cs:return g=g.get(v.key===null?h:v.key)||null,d(x,g,v,w);case ba:var O=v._init;return v=O(v._payload),y(g,x,h,v,w)}if(ds(v)||es(v))return g=g.get(h)||null,f(x,g,v,w,null);if(typeof v.then=="function")return y(g,x,h,bn(v),w);if(v.$$typeof===It)return y(g,x,h,gn(x,v),w);pn(x,v)}return null}function N(g,x,h,v){for(var w=null,O=null,k=x,S=x=0,j=null;k!==null&&S<h.length;S++){k.index>S?(j=k,k=null):j=k.sibling;var M=u(g,k,h[S],v);if(M===null){k===null&&(k=j);break}e&&k&&M.alternate===null&&t(g,k),x=r(M,x,S),O===null?w=M:O.sibling=M,O=M,k=j}if(S===h.length)return a(g,k),be&&Xa(g,S),w;if(k===null){for(;S<h.length;S++)k=b(g,h[S],v),k!==null&&(x=r(k,x,S),O===null?w=k:O.sibling=k,O=k);return be&&Xa(g,S),w}for(k=s(k);S<h.length;S++)j=y(k,g,S,h[S],v),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?S:j.key),x=r(j,x,S),O===null?w=j:O.sibling=j,O=j);return e&&k.forEach(function(J){return t(g,J)}),be&&Xa(g,S),w}function p(g,x,h,v){if(h==null)throw Error(R(151));for(var w=null,O=null,k=x,S=x=0,j=null,M=h.next();k!==null&&!M.done;S++,M=h.next()){k.index>S?(j=k,k=null):j=k.sibling;var J=u(g,k,M.value,v);if(J===null){k===null&&(k=j);break}e&&k&&J.alternate===null&&t(g,k),x=r(J,x,S),O===null?w=J:O.sibling=J,O=J,k=j}if(M.done)return a(g,k),be&&Xa(g,S),w;if(k===null){for(;!M.done;S++,M=h.next())M=b(g,M.value,v),M!==null&&(x=r(M,x,S),O===null?w=M:O.sibling=M,O=M);return be&&Xa(g,S),w}for(k=s(k);!M.done;S++,M=h.next())M=y(k,g,S,M.value,v),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?S:M.key),x=r(M,x,S),O===null?w=M:O.sibling=M,O=M);return e&&k.forEach(function(re){return t(g,re)}),be&&Xa(g,S),w}function C(g,x,h,v){if(typeof h=="object"&&h!==null&&h.type===hl&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case un:e:{for(var w=h.key;x!==null;){if(x.key===w){if(w=h.type,w===hl){if(x.tag===7){a(g,x.sibling),v=n(x,h.props.children),v.return=g,g=v;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ba&&Sd(w)===x.type){a(g,x.sibling),v=n(x,h.props),ss(v,h),v.return=g,g=v;break e}a(g,x);break}else t(g,x);x=x.sibling}h.type===hl?(v=Va(h.props.children,g.mode,v,h.key),v.return=g,g=v):(v=Mn(h.type,h.key,h.props,null,g.mode,v),ss(v,h),v.return=g,g=v)}return i(g);case cs:e:{for(w=h.key;x!==null;){if(x.key===w)if(x.tag===4&&x.stateNode.containerInfo===h.containerInfo&&x.stateNode.implementation===h.implementation){a(g,x.sibling),v=n(x,h.children||[]),v.return=g,g=v;break e}else{a(g,x);break}else t(g,x);x=x.sibling}v=ti(h,g.mode,v),v.return=g,g=v}return i(g);case ba:return w=h._init,h=w(h._payload),C(g,x,h,v)}if(ds(h))return N(g,x,h,v);if(es(h)){if(w=es(h),typeof w!="function")throw Error(R(150));return h=w.call(h),p(g,x,h,v)}if(typeof h.then=="function")return C(g,x,bn(h),v);if(h.$$typeof===It)return C(g,x,gn(g,h),v);pn(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint"?(h=""+h,x!==null&&x.tag===6?(a(g,x.sibling),v=n(x,h),v.return=g,g=v):(a(g,x),v=ei(h,g.mode,v),v.return=g,g=v),i(g)):a(g,x)}return function(g,x,h,v){try{Rs=0;var w=C(g,x,h,v);return Ol=null,w}catch(k){if(k===Ws||k===kr)throw k;var O=gt(29,k,null,g.mode);return O.lanes=v,O.return=g,O}finally{}}}var ql=tf(!0),af=tf(!1),At=Zt(null),Qt=null;function ja(e){var t=e.alternate;Me(Ge,Ge.current&1),Me(At,e),Qt===null&&(t===null||Bl.current!==null||t.memoizedState!==null)&&(Qt=e)}function lf(e){if(e.tag===22){if(Me(Ge,Ge.current),Me(At,e),Qt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Qt=e)}}else Na()}function Na(){Me(Ge,Ge.current),Me(At,At.current)}function la(e){Ke(At),Qt===e&&(Qt=null),Ke(Ge)}var Ge=Zt(0);function ar(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||go(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function si(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ke({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ii={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=pt(),n=Da(s);n.payload=t,a!=null&&(n.callback=a),t=Aa(e,n,s),t!==null&&(vt(t,e,s),ps(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=pt(),n=Da(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Aa(e,n,s),t!==null&&(vt(t,e,s),ps(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=pt(),s=Da(a);s.tag=2,t!=null&&(s.callback=t),t=Aa(e,s,a),t!==null&&(vt(t,e,a),ps(t,e,a))}};function Ed(e,t,a,s,n,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,i):t.prototype&&t.prototype.isPureReactComponent?!Ms(a,s)||!Ms(n,r):!0}function Cd(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function al(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=ke({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sf(e){lr(e)}function nf(e){console.error(e)}function rf(e){lr(e)}function sr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Td(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function eo(e,t,a){return a=Da(a),a.tag=3,a.payload={element:null},a.callback=function(){sr(e,t)},a}function of(e){return e=Da(e),e.tag=3,e}function cf(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){Td(t,a,s)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Td(t,a,s),typeof n!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function Ux(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Js(t,a,n,!0),a=At.current,a!==null){switch(a.tag){case 13:return Qt===null?oo():a.alternate===null&&ze===0&&(ze=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===Zi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),xi(e,s,n)),!1;case 22:return a.flags|=65536,s===Zi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),xi(e,s,n)),!1}throw Error(R(435,a.tag))}return xi(e,s,n),oo(),!1}if(be)return t=At.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Gi&&(e=Error(R(422),{cause:s}),Os(kt(e,a)))):(s!==Gi&&(t=Error(R(423),{cause:s}),Os(kt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=kt(s,a),n=eo(e.stateNode,s,n),ai(e,n),ze!==4&&(ze=2)),!1;var r=Error(R(520),{cause:s});if(r=kt(r,a),Es===null?Es=[r]:Es.push(r),ze!==4&&(ze=2),t===null)return!0;s=kt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=eo(a.stateNode,s,e),ai(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ma===null||!Ma.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=of(n),cf(n,e,a,s),ai(a,n),!1}a=a.return}while(a!==null);return!1}var df=Error(R(461)),Ve=!1;function Pe(e,t,a,s){t.child=e===null?af(t,null,a,s):ql(t,e.child,a,s)}function kd(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var i={};for(var o in s)o!=="ref"&&(i[o]=s[o])}else i=s;return el(t),s=Wo(e,t,a,i,r,n),o=Io(),e!==null&&!Ve?(ec(e,t,n),ca(e,t,n)):(be&&o&&Qo(t),t.flags|=1,Pe(e,t,s,n),t.child)}function Dd(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!Xo(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,uf(e,t,r,s,n)):(e=Mn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!cc(e,n)){var i=r.memoizedProps;if(a=a.compare,a=a!==null?a:Ms,a(i,s)&&e.ref===t.ref)return ca(e,t,n)}return t.flags|=1,e=sa(r,s),e.ref=t.ref,e.return=t,t.child=e}function uf(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if(Ms(r,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=r,cc(e,n))e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,ca(e,t,n)}return to(e,t,a,s,n)}function mf(e,t,a){var s=t.pendingProps,n=s.children,r=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;t.childLanes=r&~s}else t.childLanes=0,t.child=null;return Ad(e,t,s,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&On(t,r!==null?r.cachePool:null),r!==null?yd(t,r):Fi(),lf(t);else return t.lanes=t.childLanes=536870912,Ad(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(On(t,r.cachePool),yd(t,r),Na(),t.memoizedState=null):(e!==null&&On(t,null),Fi(),Na());return Pe(e,t,n,a),t.child}function Ad(e,t,a,s){var n=Ko();return n=n===null?null:{parent:qe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&On(t,null),Fi(),lf(t),e!==null&&Js(e,t,s,!0),null}function zn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(R(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function to(e,t,a,s,n){return el(t),a=Wo(e,t,a,s,void 0,n),s=Io(),e!==null&&!Ve?(ec(e,t,n),ca(e,t,n)):(be&&s&&Qo(t),t.flags|=1,Pe(e,t,a,n),t.child)}function Md(e,t,a,s,n,r){return el(t),t.updateQueue=null,a=Sm(t,s,a,n),wm(e),s=Io(),e!==null&&!Ve?(ec(e,t,r),ca(e,t,r)):(be&&s&&Qo(t),t.flags|=1,Pe(e,t,a,r),t.child)}function Od(e,t,a,s,n){if(el(t),t.stateNode===null){var r=Nl,i=a.contextType;typeof i=="object"&&i!==null&&(r=tt(i)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ii,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Fo(t),i=a.contextType,r.context=typeof i=="object"&&i!==null?tt(i):Nl,r.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(si(t,a,i,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&Ii.enqueueReplaceState(r,r.state,null),js(t,s,r,n),vs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,c=al(a,o);r.props=c;var d=r.context,f=a.contextType;i=Nl,typeof f=="object"&&f!==null&&(i=tt(f));var b=a.getDerivedStateFromProps;f=typeof b=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||d!==i)&&Cd(t,r,s,i),pa=!1;var u=t.memoizedState;r.state=u,js(t,s,r,n),vs(),d=t.memoizedState,o||u!==d||pa?(typeof b=="function"&&(si(t,a,b,s),d=t.memoizedState),(c=pa||Ed(t,a,c,s,u,d,i))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),r.props=s,r.state=d,r.context=i,s=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Vi(e,t),i=t.memoizedProps,f=al(a,i),r.props=f,b=t.pendingProps,u=r.context,d=a.contextType,c=Nl,typeof d=="object"&&d!==null&&(c=tt(d)),o=a.getDerivedStateFromProps,(d=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==b||u!==c)&&Cd(t,r,s,c),pa=!1,u=t.memoizedState,r.state=u,js(t,s,r,n),vs();var y=t.memoizedState;i!==b||u!==y||pa||e!==null&&e.dependencies!==null&&Pn(e.dependencies)?(typeof o=="function"&&(si(t,a,o,s),y=t.memoizedState),(f=pa||Ed(t,a,f,s,u,y,c)||e!==null&&e.dependencies!==null&&Pn(e.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),r.props=s,r.state=y,r.context=c,s=f):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,zn(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=ql(t,e.child,null,n),t.child=ql(t,null,a,n)):Pe(e,t,a,n),t.memoizedState=r.state,e=t.child):e=ca(e,t,n),e}function _d(e,t,a,s){return Fs(),t.flags|=256,Pe(e,t,a,s),t.child}var ni={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ri(e){return{baseLanes:e,cachePool:bm()}}function ii(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function ff(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(n?ja(t):Na(),be){var o=Re,c;if(c=o){e:{for(c=o,o=Gt;c.nodeType!==8;){if(!o){o=null;break e}if(c=zt(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(t.memoizedState={dehydrated:o,treeContext:Ka!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=gt(18,null,null,0),c.stateNode=o,c.return=t,t.child=c,lt=t,Re=null,c=!0):c=!1}c||Ia(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return go(o)?t.lanes=32:t.lanes=536870912,null;la(t)}return o=s.children,s=s.fallback,n?(Na(),n=t.mode,o=nr({mode:"hidden",children:o},n),s=Va(s,n,a,null),o.return=t,s.return=t,o.sibling=s,t.child=o,n=t.child,n.memoizedState=ri(a),n.childLanes=ii(e,i,a),t.memoizedState=ni,s):(ja(t),ao(t,o))}if(c=e.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(r)t.flags&256?(ja(t),t.flags&=-257,t=oi(e,t,a)):t.memoizedState!==null?(Na(),t.child=e.child,t.flags|=128,t=null):(Na(),n=s.fallback,o=t.mode,s=nr({mode:"visible",children:s.children},o),n=Va(n,o,a,null),n.flags|=2,s.return=t,n.return=t,s.sibling=n,t.child=s,ql(t,e.child,null,a),s=t.child,s.memoizedState=ri(a),s.childLanes=ii(e,i,a),t.memoizedState=ni,t=n);else if(ja(t),go(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var d=i.dgst;i=d,s=Error(R(419)),s.stack="",s.digest=i,Os({value:s,source:null,stack:null}),t=oi(e,t,a)}else if(Ve||Js(e,t,a,!1),i=(a&e.childLanes)!==0,Ve||i){if(i=Te,i!==null&&(s=a&-a,s=s&42?1:_o(s),s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,Kl(e,s),vt(i,e,s),df;o.data==="$?"||oo(),t=oi(e,t,a)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Re=zt(o.nextSibling),lt=t,be=!0,Fa=null,Gt=!1,e!==null&&(Et[Ct++]=ea,Et[Ct++]=ta,Et[Ct++]=Ka,ea=e.id,ta=e.overflow,Ka=t),t=ao(t,s.children),t.flags|=4096);return t}return n?(Na(),n=s.fallback,o=t.mode,c=e.child,d=c.sibling,s=sa(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,d!==null?n=sa(d,n):(n=Va(n,o,a,null),n.flags|=2),n.return=t,s.return=t,s.sibling=n,t.child=s,s=n,n=t.child,o=e.child.memoizedState,o===null?o=ri(a):(c=o.cachePool,c!==null?(d=qe._currentValue,c=c.parent!==d?{parent:d,pool:d}:c):c=bm(),o={baseLanes:o.baseLanes|a,cachePool:c}),n.memoizedState=o,n.childLanes=ii(e,i,a),t.memoizedState=ni,s):(ja(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function ao(e,t){return t=nr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nr(e,t){return e=gt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function oi(e,t,a){return ql(t,e.child,null,a),e=ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Yi(e.return,t,a)}function ci(e,t,a,s,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=a,r.tailMode=n)}function hf(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;if(Pe(e,t,s.children,a),s=Ge.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,a,t);else if(e.tag===19)Rd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(Me(Ge,s),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ar(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),ci(t,!1,n,a,r);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ar(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}ci(t,!0,a,null,r);break;case"together":ci(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(a&t.childLanes))if(e!==null){if(Js(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function cc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pn(e)))}function Bx(e,t,a){switch(t.tag){case 3:Yn(t,t.stateNode.containerInfo),va(t,qe,e.memoizedState.cache),Fs();break;case 27:case 5:Mi(t);break;case 4:Yn(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ja(t),t.flags|=128,null):a&t.child.childLanes?ff(e,t,a):(ja(t),e=ca(e,t,a),e!==null?e.sibling:null);ja(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Js(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return hf(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Me(Ge,Ge.current),s)break;return null;case 22:case 23:return t.lanes=0,mf(e,t,a);case 24:va(t,qe,e.memoizedState.cache)}return ca(e,t,a)}function xf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!cc(e,a)&&!(t.flags&128))return Ve=!1,Bx(e,t,a);Ve=!!(e.flags&131072)}else Ve=!1,be&&t.flags&1048576&&gm(t,Jn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,typeof s=="function")Xo(s)?(e=al(s,e),t.tag=1,t=Od(null,t,s,e,a)):(t.tag=0,t=to(null,t,s,e,a));else{if(s!=null){if(n=s.$$typeof,n===Ao){t.tag=11,t=kd(null,t,s,e,a);break e}else if(n===Mo){t.tag=14,t=Dd(null,t,s,e,a);break e}}throw t=Di(s)||s,Error(R(306,t,""))}}return t;case 0:return to(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=al(s,t.pendingProps),Od(e,t,s,n,a);case 3:e:{if(Yn(t,t.stateNode.containerInfo),e===null)throw Error(R(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Vi(e,t),js(t,s,null,a);var i=t.memoizedState;if(s=i.cache,va(t,qe,s),s!==r.cache&&Xi(t,[qe],a,!0),vs(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=_d(e,t,s,a);break e}else if(s!==n){n=kt(Error(R(424)),t),Os(n),t=_d(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=zt(e.firstChild),lt=t,be=!0,Fa=null,Gt=!0,a=af(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fs(),s===n){t=ca(e,t,a);break e}Pe(e,t,s,a)}t=t.child}return t;case 26:return zn(e,t),e===null?(a=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,s=mr(ka.current).createElement(a),s[et]=t,s[dt]=e,Ie(s,a,e),Qe(s),t.stateNode=s):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mi(t),e===null&&be&&(s=t.stateNode=t0(t.type,t.pendingProps,ka.current),lt=t,Gt=!0,n=Re,Ga(t.type)?(yo=n,Re=zt(s.firstChild)):Re=n),Pe(e,t,t.pendingProps.children,a),zn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((n=s=Re)&&(s=mg(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,lt=t,Re=zt(s.firstChild),Gt=!1,n=!0):n=!1),n||Ia(t)),Mi(t),n=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,ho(n,r)?s=null:i!==null&&ho(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=Wo(e,t,Ax,null,null,a),Bs._currentValue=n),zn(e,t),Pe(e,t,s,a),t.child;case 6:return e===null&&be&&((e=a=Re)&&(a=fg(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,lt=t,Re=null,e=!0):e=!1),e||Ia(t)),null;case 13:return ff(e,t,a);case 4:return Yn(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ql(t,null,s,a):Pe(e,t,s,a),t.child;case 11:return kd(e,t,t.type,t.pendingProps,a);case 7:return Pe(e,t,t.pendingProps,a),t.child;case 8:return Pe(e,t,t.pendingProps.children,a),t.child;case 12:return Pe(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,va(t,t.type,s.value),Pe(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,el(t),n=tt(n),s=s(n),t.flags|=1,Pe(e,t,s,a),t.child;case 14:return Dd(e,t,t.type,t.pendingProps,a);case 15:return uf(e,t,t.type,t.pendingProps,a);case 19:return hf(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=nr(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=sa(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return mf(e,t,a);case 24:return el(t),s=tt(qe),e===null?(n=Ko(),n===null&&(n=Te,r=Vo(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},Fo(t),va(t,qe,n)):(e.lanes&a&&(Vi(e,t),js(t,null,null,a),vs()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),va(t,qe,s)):(s=r.cache,va(t,qe,s),s!==n.cache&&Xi(t,[qe],a,!0))),Pe(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function Jt(e){e.flags|=4}function zd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!s0(t)){if(t=At.current,t!==null&&((he&4194048)===he?Qt!==null:(he&62914560)!==he&&!(he&536870912)||t!==Qt))throw bs=Zi,pm;e.flags|=8192}}function vn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qu():536870912,e.lanes|=t,Gl|=t)}function ns(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Hx(e,t,a){var s=t.pendingProps;switch(Zo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),na(qe),Rl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ls(t)?Jt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ud())),Oe(t),null;case 26:return a=t.memoizedState,e===null?(Jt(t),a!==null?(Oe(t),zd(t,a)):(Oe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Jt(t),Oe(t),zd(t,a)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==s&&Jt(t),Oe(t),t.flags&=-16777217),null;case 27:Xn(t),a=ka.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Jt(t);else{if(!s){if(t.stateNode===null)throw Error(R(166));return Oe(t),null}e=Yt.current,ls(t)?cd(t):(e=t0(n,s,a),t.stateNode=e,Jt(t))}return Oe(t),null;case 5:if(Xn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Jt(t);else{if(!s){if(t.stateNode===null)throw Error(R(166));return Oe(t),null}if(e=Yt.current,ls(t))cd(t);else{switch(n=mr(ka.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?n.createElement(a,{is:s.is}):n.createElement(a)}}e[et]=t,e[dt]=s;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Ie(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jt(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Jt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(R(166));if(e=ka.current,ls(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=lt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[et]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Wf(e.nodeValue,a)),e||Ia(t)}else e=mr(e).createTextNode(s),e[et]=t,t.stateNode=e}return Oe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ls(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(R(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(R(317));n[et]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),n=!1}else n=ud(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(la(t),t):(la(t),null)}if(la(t),t.flags&128)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),vn(t,t.updateQueue),Oe(t),null;case 4:return Rl(),e===null&&yc(t.stateNode.containerInfo),Oe(t),null;case 10:return na(t.type),Oe(t),null;case 19:if(Ke(Ge),n=t.memoizedState,n===null)return Oe(t),null;if(s=(t.flags&128)!==0,r=n.rendering,r===null)if(s)ns(n,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=ar(e),r!==null){for(t.flags|=128,ns(n,!1),e=r.updateQueue,t.updateQueue=e,vn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)xm(a,e),a=a.sibling;return Me(Ge,Ge.current&1|2),t.child}e=e.sibling}n.tail!==null&&Xt()>ir&&(t.flags|=128,s=!0,ns(n,!1),t.lanes=4194304)}else{if(!s)if(e=ar(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,vn(t,e),ns(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!be)return Oe(t),null}else 2*Xt()-n.renderingStartTime>ir&&a!==536870912&&(t.flags|=128,s=!0,ns(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Xt(),t.sibling=null,e=Ge.current,Me(Ge,s?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return la(t),Jo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?a&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),a=t.updateQueue,a!==null&&vn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&Ke(Ja),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),na(qe),Oe(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function qx(e,t){switch(Zo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(qe),Rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xn(t),null;case 13:if(la(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ge),null;case 4:return Rl(),null;case 10:return na(t.type),null;case 22:case 23:return la(t),Jo(),e!==null&&Ke(Ja),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return na(qe),null;case 25:return null;default:return null}}function gf(e,t){switch(Zo(t),t.tag){case 3:na(qe),Rl();break;case 26:case 27:case 5:Xn(t);break;case 4:Rl();break;case 13:la(t);break;case 19:Ke(Ge);break;case 10:na(t.type);break;case 22:case 23:la(t),Jo(),e!==null&&Ke(Ja);break;case 24:na(qe)}}function tn(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,i=a.inst;s=r(),i.destroy=s}a=a.next}while(a!==n)}}catch(o){Ee(t,t.return,o)}}function Ua(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var i=s.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,n=t;var c=a,d=o;try{d()}catch(f){Ee(n,c,f)}}}s=s.next}while(s!==r)}}catch(f){Ee(t,t.return,f)}}function yf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Nm(t,a)}catch(s){Ee(e,e.return,s)}}}function bf(e,t,a){a.props=al(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ee(e,t,s)}}function ws(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){Ee(e,t,n)}}function $t(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){Ee(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ee(e,t,n)}else a.current=null}function pf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){Ee(e,e.return,n)}}function di(e,t,a){try{var s=e.stateNode;ig(s,e.type,a,t),s[dt]=t}catch(n){Ee(e,e.return,n)}}function vf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function ui(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=zr));else if(s!==4&&(s===27&&Ga(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(lo(e,t,a),e=e.sibling;e!==null;)lo(e,t,a),e=e.sibling}function rr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ga(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rr(e,t,a),e=e.sibling;e!==null;)rr(e,t,a),e=e.sibling}function jf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ie(t,s,a),t[et]=e,t[dt]=a}catch(r){Ee(e,e.return,r)}}var Wt=!1,Ue=!1,mi=!1,Ld=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Gx(e,t){if(e=e.containerInfo,mo=gr,e=im(e),Go(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var i=0,o=-1,c=-1,d=0,f=0,b=e,u=null;t:for(;;){for(var y;b!==a||n!==0&&b.nodeType!==3||(o=i+n),b!==r||s!==0&&b.nodeType!==3||(c=i+s),b.nodeType===3&&(i+=b.nodeValue.length),(y=b.firstChild)!==null;)u=b,b=y;for(;;){if(b===e)break t;if(u===a&&++d===n&&(o=i),u===r&&++f===s&&(c=i),(y=b.nextSibling)!==null)break;b=u,u=b.parentNode}b=y}a=o===-1||c===-1?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(fo={focusedElem:e,selectionRange:a},gr=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){switch(t=Xe,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var N=al(a.type,n,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(N,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(p){Ee(a,a.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)xo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}}function Nf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ga(e,a),s&4&&tn(5,a);break;case 1:if(ga(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){Ee(a,a.return,i)}else{var n=al(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Ee(a,a.return,i)}}s&64&&yf(a),s&512&&ws(a,a.return);break;case 3:if(ga(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Nm(e,t)}catch(i){Ee(a,a.return,i)}}break;case 27:t===null&&s&4&&jf(a);case 26:case 5:ga(e,a),t===null&&s&4&&pf(a),s&512&&ws(a,a.return);break;case 12:ga(e,a);break;case 13:ga(e,a),s&4&&Ef(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jx.bind(null,a),hg(e,a))));break;case 22:if(s=a.memoizedState!==null||Wt,!s){t=t!==null&&t.memoizedState!==null||Ue,n=Wt;var r=Ue;Wt=s,(Ue=t)&&!r?ya(e,a,(a.subtreeFlags&8772)!==0):ga(e,a),Wt=n,Ue=r}break;case 30:break;default:ga(e,a)}}function wf(e){var t=e.alternate;t!==null&&(e.alternate=null,wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,ot=!1;function Pt(e,t,a){for(a=a.child;a!==null;)Sf(e,t,a),a=a.sibling}function Sf(e,t,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Xs,a)}catch{}switch(a.tag){case 26:Ue||$t(a,t),Pt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||$t(a,t);var s=De,n=ot;Ga(a.type)&&(De=a.stateNode,ot=!1),Pt(e,t,a),Ts(a.stateNode),De=s,ot=n;break;case 5:Ue||$t(a,t);case 6:if(s=De,n=ot,De=null,Pt(e,t,a),De=s,ot=n,De!==null)if(ot)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(a.stateNode)}catch(r){Ee(a,t,r)}else try{De.removeChild(a.stateNode)}catch(r){Ee(a,t,r)}break;case 18:De!==null&&(ot?(e=De,Kd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Gs(e)):Kd(De,a.stateNode));break;case 4:s=De,n=ot,De=a.stateNode.containerInfo,ot=!0,Pt(e,t,a),De=s,ot=n;break;case 0:case 11:case 14:case 15:Ue||Ua(2,a,t),Ue||Ua(4,a,t),Pt(e,t,a);break;case 1:Ue||($t(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&bf(a,t,s)),Pt(e,t,a);break;case 21:Pt(e,t,a);break;case 22:Ue=(s=Ue)||a.memoizedState!==null,Pt(e,t,a),Ue=s;break;default:Pt(e,t,a)}}function Ef(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gs(e)}catch(a){Ee(t,t.return,a)}}function $x(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ld),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ld),t;default:throw Error(R(435,e.tag))}}function fi(e,t){var a=$x(e);t.forEach(function(s){var n=Px.bind(null,e,s);a.has(s)||(a.add(s),s.then(n,n))})}function ft(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(Ga(o.type)){De=o.stateNode,ot=!1;break e}break;case 5:De=o.stateNode,ot=!1;break e;case 3:case 4:De=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(De===null)throw Error(R(160));Sf(r,i,n),De=null,ot=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Cf(t,e),t=t.sibling}var Rt=null;function Cf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),ht(e),s&4&&(Ua(3,e,e.return),tn(3,e),Ua(5,e,e.return));break;case 1:ft(t,e),ht(e),s&512&&(Ue||a===null||$t(a,a.return)),s&64&&Wt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Rt;if(ft(t,e),ht(e),s&512&&(Ue||a===null||$t(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Vs]||r[et]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),Ie(r,s,a),r[et]=e,Qe(r),s=r;break e;case"link":var i=Id("link","href",n).get(s+(a.href||""));if(i){for(var o=0;o<i.length;o++)if(r=i[o],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(o,1);break t}}r=n.createElement(s),Ie(r,s,a),n.head.appendChild(r);break;case"meta":if(i=Id("meta","content",n).get(s+(a.content||""))){for(o=0;o<i.length;o++)if(r=i[o],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(o,1);break t}}r=n.createElement(s),Ie(r,s,a),n.head.appendChild(r);break;default:throw Error(R(468,s))}r[et]=e,Qe(r),s=r}e.stateNode=s}else eu(n,e.type,e.stateNode);else e.stateNode=Wd(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?eu(n,e.type,e.stateNode):Wd(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&di(e,e.memoizedProps,a.memoizedProps)}break;case 27:ft(t,e),ht(e),s&512&&(Ue||a===null||$t(a,a.return)),a!==null&&s&4&&di(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ft(t,e),ht(e),s&512&&(Ue||a===null||$t(a,a.return)),e.flags&32){n=e.stateNode;try{Ll(n,"")}catch(y){Ee(e,e.return,y)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,di(e,n,a!==null?a.memoizedProps:n)),s&1024&&(mi=!0);break;case 6:if(ft(t,e),ht(e),s&4){if(e.stateNode===null)throw Error(R(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(y){Ee(e,e.return,y)}}break;case 3:if(Bn=null,n=Rt,Rt=fr(t.containerInfo),ft(t,e),Rt=n,ht(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Gs(t.containerInfo)}catch(y){Ee(e,e.return,y)}mi&&(mi=!1,Tf(e));break;case 4:s=Rt,Rt=fr(e.stateNode.containerInfo),ft(t,e),ht(e),Rt=s;break;case 12:ft(t,e),ht(e);break;case 13:ft(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=Xt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,fi(e,s)));break;case 22:n=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,d=Wt,f=Ue;if(Wt=d||n,Ue=f||c,ft(t,e),Ue=f,Wt=d,ht(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||c||Wt||Ue||Qa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(r=c.stateNode,n)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var b=c.memoizedProps.style,u=b!=null&&b.hasOwnProperty("display")?b.display:null;o.style.display=u==null||typeof u=="boolean"?"":(""+u).trim()}}catch(y){Ee(c,c.return,y)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(y){Ee(c,c.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,fi(e,a))));break;case 19:ft(t,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,fi(e,s)));break;case 30:break;case 21:break;default:ft(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(vf(s)){a=s;break}s=s.return}if(a==null)throw Error(R(160));switch(a.tag){case 27:var n=a.stateNode,r=ui(e);rr(e,r,n);break;case 5:var i=a.stateNode;a.flags&32&&(Ll(i,""),a.flags&=-33);var o=ui(e);rr(e,o,i);break;case 3:case 4:var c=a.stateNode.containerInfo,d=ui(e);lo(e,d,c);break;default:throw Error(R(161))}}catch(f){Ee(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nf(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ua(4,t,t.return),Qa(t);break;case 1:$t(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&bf(t,t.return,a),Qa(t);break;case 27:Ts(t.stateNode);case 26:case 5:$t(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function ya(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:ya(n,r,a),tn(4,r);break;case 1:if(ya(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(d){Ee(s,s.return,d)}if(s=r,n=s.updateQueue,n!==null){var o=s.stateNode;try{var c=n.shared.hiddenCallbacks;if(c!==null)for(n.shared.hiddenCallbacks=null,n=0;n<c.length;n++)jm(c[n],o)}catch(d){Ee(s,s.return,d)}}a&&i&64&&yf(r),ws(r,r.return);break;case 27:jf(r);case 26:case 5:ya(n,r,a),a&&s===null&&i&4&&pf(r),ws(r,r.return);break;case 12:ya(n,r,a);break;case 13:ya(n,r,a),a&&i&4&&Ef(n,r);break;case 22:r.memoizedState===null&&ya(n,r,a),ws(r,r.return);break;case 30:break;default:ya(n,r,a)}t=t.sibling}}function dc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ps(a))}function uc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ps(e))}function qt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kf(e,t,a,s),t=t.sibling}function kf(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:qt(e,t,a,s),n&2048&&tn(9,t);break;case 1:qt(e,t,a,s);break;case 3:qt(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ps(e)));break;case 12:if(n&2048){qt(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ee(t,t.return,c)}}else qt(e,t,a,s);break;case 13:qt(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?qt(e,t,a,s):Ss(e,t):r._visibility&2?qt(e,t,a,s):(r._visibility|=2,ml(e,t,a,s,(t.subtreeFlags&10256)!==0)),n&2048&&dc(i,t);break;case 24:qt(e,t,a,s),n&2048&&uc(t.alternate,t);break;default:qt(e,t,a,s)}}function ml(e,t,a,s,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,i=t,o=a,c=s,d=i.flags;switch(i.tag){case 0:case 11:case 15:ml(r,i,o,c,n),tn(8,i);break;case 23:break;case 22:var f=i.stateNode;i.memoizedState!==null?f._visibility&2?ml(r,i,o,c,n):Ss(r,i):(f._visibility|=2,ml(r,i,o,c,n)),n&&d&2048&&dc(i.alternate,i);break;case 24:ml(r,i,o,c,n),n&&d&2048&&uc(i.alternate,i);break;default:ml(r,i,o,c,n)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:Ss(a,s),n&2048&&dc(s.alternate,s);break;case 24:Ss(a,s),n&2048&&uc(s.alternate,s);break;default:Ss(a,s)}t=t.sibling}}var ms=8192;function ol(e){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)Df(e),e=e.sibling}function Df(e){switch(e.tag){case 26:ol(e),e.flags&ms&&e.memoizedState!==null&&Tg(Rt,e.memoizedState,e.memoizedProps);break;case 5:ol(e);break;case 3:case 4:var t=Rt;Rt=fr(e.stateNode.containerInfo),ol(e),Rt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ms,ms=16777216,ol(e),ms=t):ol(e));break;default:ol(e)}}function Af(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Xe=s,Of(s,e)}Af(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mf(e),e=e.sibling}function Mf(e){switch(e.tag){case 0:case 11:case 15:rs(e),e.flags&2048&&Ua(9,e,e.return);break;case 3:rs(e);break;case 12:rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ln(e)):rs(e);break;default:rs(e)}}function Ln(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Xe=s,Of(s,e)}Af(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ua(8,t,t.return),Ln(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ln(t));break;default:Ln(t)}e=e.sibling}}function Of(e,t){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ps(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Xe=s;else e:for(a=e;Xe!==null;){s=Xe;var n=s.sibling,r=s.return;if(wf(s),s===a){Xe=null;break e}if(n!==null){n.return=r,Xe=n;break e}Xe=r}}}var Yx={getCacheForType:function(e){var t=tt(qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Xx=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Te=null,me=null,he=0,je=0,xt=null,Ca=!1,Fl=!1,mc=!1,da=0,ze=0,Ba=0,Pa=0,fc=0,Dt=0,Gl=0,Es=null,ct=null,so=!1,hc=0,ir=1/0,or=null,Ma=null,We=0,Oa=null,$l=null,_l=0,no=0,ro=null,_f=null,Cs=0,io=null;function pt(){if(Ne&2&&he!==0)return he&-he;if(ae.T!==null){var e=Ul;return e!==0?e:gc()}return Yu()}function Rf(){Dt===0&&(Dt=!(he&536870912)||be?Hu():536870912);var e=At.current;return e!==null&&(e.flags|=32),Dt}function vt(e,t,a){(e===Te&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(Yl(e,0),Ta(e,he,Dt,!1)),Zs(e,a),(!(Ne&2)||e!==Te)&&(e===Te&&(!(Ne&2)&&(Pa|=a),ze===4&&Ta(e,he,Dt,!1)),Vt(e))}function zf(e,t,a){if(Ne&6)throw Error(R(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Qs(e,t),n=s?Vx(e,t):hi(e,t,!0),r=s;do{if(n===0){Fl&&!s&&Ta(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!Qx(a)){n=hi(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;n=Es;var c=o.current.memoizedState.isDehydrated;if(c&&(Yl(o,i).flags|=256),i=hi(o,i,!1),i!==2){if(mc&&!c){o.errorRecoveryDisabledLanes|=r,Pa|=r,n=4;break e}r=ct,ct=n,r!==null&&(ct===null?ct=r:ct.push.apply(ct,r))}n=i}if(r=!1,n!==2)continue}}if(n===1){Yl(e,0),Ta(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:Ta(s,t,Dt,!Ca);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(n=hc+300-Xt(),10<n)){if(Ta(s,t,Dt,!Ca),Nr(s,0,!0)!==0)break e;s.timeoutHandle=e0(Ud.bind(null,s,a,ct,or,so,t,Dt,Pa,Gl,Ca,r,2,-0,0),n);break e}Ud(s,a,ct,or,so,t,Dt,Pa,Gl,Ca,r,0,-0,0)}}break}while(1);Vt(e)}function Ud(e,t,a,s,n,r,i,o,c,d,f,b,u,y){if(e.timeoutHandle=-1,b=t.subtreeFlags,(b&8192||(b&16785408)===16785408)&&(Us={stylesheets:null,count:0,unsuspend:Cg},Df(t),b=kg(),b!==null)){e.cancelPendingCommit=b(Hd.bind(null,e,t,r,a,s,n,i,o,c,f,1,u,y)),Ta(e,r,i,!d);return}Hd(e,t,r,a,s,n,i,o,c)}function Qx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!jt(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ta(e,t,a,s){t&=~fc,t&=~Pa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-bt(n),i=1<<r;s[r]=-1,n&=~i}a!==0&&Gu(e,a,t)}function Or(){return Ne&6?!0:(an(0,!1),!1)}function xc(){if(me!==null){if(je===0)var e=me.return;else e=me,aa=il=null,tc(e),Ol=null,Rs=0,e=me;for(;e!==null;)gf(e.alternate,e),e=e.return;me=null}}function Yl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xc(),Te=e,me=a=sa(e.current,null),he=t,je=0,xt=null,Ca=!1,Fl=Qs(e,t),mc=!1,Gl=Dt=fc=Pa=Ba=ze=0,ct=Es=null,so=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-bt(s),r=1<<n;t|=e[n],s&=~r}return da=t,Cr(),a}function Lf(e,t){ce=null,ae.H=tr,t===Ws||t===kr?(t=xd(),je=3):t===pm?(t=xd(),je=4):je=t===df?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,me===null&&(ze=1,sr(e,kt(t,e.current)))}function Uf(){var e=ae.H;return ae.H=tr,e===null?tr:e}function Bf(){var e=ae.A;return ae.A=Yx,e}function oo(){ze=4,Ca||(he&4194048)!==he&&At.current!==null||(Fl=!0),!(Ba&134217727)&&!(Pa&134217727)||Te===null||Ta(Te,he,Dt,!1)}function hi(e,t,a){var s=Ne;Ne|=2;var n=Uf(),r=Bf();(Te!==e||he!==t)&&(or=null,Yl(e,t)),t=!1;var i=ze;e:do try{if(je!==0&&me!==null){var o=me,c=xt;switch(je){case 8:xc(),i=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var d=je;if(je=0,xt=null,El(e,o,c,d),a&&Fl){i=0;break e}break;default:d=je,je=0,xt=null,El(e,o,c,d)}}Zx(),i=ze;break}catch(f){Lf(e,f)}while(1);return t&&e.shellSuspendCounter++,aa=il=null,Ne=s,ae.H=n,ae.A=r,me===null&&(Te=null,he=0,Cr()),i}function Zx(){for(;me!==null;)Hf(me)}function Vx(e,t){var a=Ne;Ne|=2;var s=Uf(),n=Bf();Te!==e||he!==t?(or=null,ir=Xt()+500,Yl(e,t)):Fl=Qs(e,t);e:do try{if(je!==0&&me!==null){t=me;var r=xt;t:switch(je){case 1:je=0,xt=null,El(e,t,r,1);break;case 2:case 9:if(hd(r)){je=0,xt=null,Bd(t);break}t=function(){je!==2&&je!==9||Te!==e||(je=7),Vt(e)},r.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:hd(r)?(je=0,xt=null,Bd(t)):(je=0,xt=null,El(e,t,r,7));break;case 5:var i=null;switch(me.tag){case 26:i=me.memoizedState;case 5:case 27:var o=me;if(!i||s0(i)){je=0,xt=null;var c=o.sibling;if(c!==null)me=c;else{var d=o.return;d!==null?(me=d,_r(d)):me=null}break t}}je=0,xt=null,El(e,t,r,5);break;case 6:je=0,xt=null,El(e,t,r,6);break;case 8:xc(),ze=6;break e;default:throw Error(R(462))}}Kx();break}catch(f){Lf(e,f)}while(1);return aa=il=null,ae.H=s,ae.A=n,Ne=a,me!==null?0:(Te=null,he=0,Cr(),ze)}function Kx(){for(;me!==null&&!gh();)Hf(me)}function Hf(e){var t=xf(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?_r(e):me=t}function Bd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Md(a,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Md(a,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:tc(t);default:gf(a,t),t=me=xm(t,da),t=xf(a,t,da)}e.memoizedProps=e.pendingProps,t===null?_r(e):me=t}function El(e,t,a,s){aa=il=null,tc(t),Ol=null,Rs=0;var n=t.return;try{if(Ux(e,n,t,a,he)){ze=1,sr(e,kt(a,e.current)),me=null;return}}catch(r){if(n!==null)throw me=n,r;ze=1,sr(e,kt(a,e.current)),me=null;return}t.flags&32768?(be||s===1?e=!0:Fl||he&536870912?e=!1:(Ca=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),qf(t,e)):_r(t)}function _r(e){var t=e;do{if(t.flags&32768){qf(t,Ca);return}e=t.return;var a=Hx(t.alternate,t,da);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ze===0&&(ze=5)}function qf(e,t){do{var a=qx(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);ze=6,me=null}function Hd(e,t,a,s,n,r,i,o,c){e.cancelPendingCommit=null;do Rr();while(We!==0);if(Ne&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(r=t.lanes|t.childLanes,r|=$o,Ch(e,a,r,i,o,c),e===Te&&(me=Te=null,he=0),$l=t,Oa=e,_l=a,no=r,ro=n,_f=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Wx(Qn,function(){return Qf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=ae.T,ae.T=null,n=pe.p,pe.p=2,i=Ne,Ne|=4;try{Gx(e,t,a)}finally{Ne=i,pe.p=n,ae.T=s}}We=1,Gf(),$f(),Yf()}}function Gf(){if(We===1){We=0;var e=Oa,t=$l,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=ae.T,ae.T=null;var s=pe.p;pe.p=2;var n=Ne;Ne|=4;try{Cf(t,e);var r=fo,i=im(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&rm(o.ownerDocument.documentElement,o)){if(c!==null&&Go(o)){var d=c.start,f=c.end;if(f===void 0&&(f=d),"selectionStart"in o)o.selectionStart=d,o.selectionEnd=Math.min(f,o.value.length);else{var b=o.ownerDocument||document,u=b&&b.defaultView||window;if(u.getSelection){var y=u.getSelection(),N=o.textContent.length,p=Math.min(c.start,N),C=c.end===void 0?p:Math.min(c.end,N);!y.extend&&p>C&&(i=C,C=p,p=i);var g=rd(o,p),x=rd(o,C);if(g&&x&&(y.rangeCount!==1||y.anchorNode!==g.node||y.anchorOffset!==g.offset||y.focusNode!==x.node||y.focusOffset!==x.offset)){var h=b.createRange();h.setStart(g.node,g.offset),y.removeAllRanges(),p>C?(y.addRange(h),y.extend(x.node,x.offset)):(h.setEnd(x.node,x.offset),y.addRange(h))}}}}for(b=[],y=o;y=y.parentNode;)y.nodeType===1&&b.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<b.length;o++){var v=b[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}gr=!!mo,fo=mo=null}finally{Ne=n,pe.p=s,ae.T=a}}e.current=t,We=2}}function $f(){if(We===2){We=0;var e=Oa,t=$l,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=ae.T,ae.T=null;var s=pe.p;pe.p=2;var n=Ne;Ne|=4;try{Nf(e,t.alternate,t)}finally{Ne=n,pe.p=s,ae.T=a}}We=3}}function Yf(){if(We===4||We===3){We=0,yh();var e=Oa,t=$l,a=_l,s=_f;t.subtreeFlags&10256||t.flags&10256?We=5:(We=0,$l=Oa=null,Xf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ma=null),Ro(a),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Xs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ae.T,n=pe.p,pe.p=2,ae.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var o=s[i];r(o.value,{componentStack:o.stack})}}finally{ae.T=t,pe.p=n}}_l&3&&Rr(),Vt(e),n=e.pendingLanes,a&4194090&&n&42?e===io?Cs++:(Cs=0,io=e):Cs=0,an(0,!1)}}function Xf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ps(t)))}function Rr(e){return Gf(),$f(),Yf(),Qf()}function Qf(){if(We!==5)return!1;var e=Oa,t=no;no=0;var a=Ro(_l),s=ae.T,n=pe.p;try{pe.p=32>a?32:a,ae.T=null,a=ro,ro=null;var r=Oa,i=_l;if(We=0,$l=Oa=null,_l=0,Ne&6)throw Error(R(331));var o=Ne;if(Ne|=4,Mf(r.current),kf(r,r.current,i,a),Ne=o,an(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Xs,r)}catch{}return!0}finally{pe.p=n,ae.T=s,Xf(e,t)}}function qd(e,t,a){t=kt(a,t),t=eo(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Zs(e,2),Vt(e))}function Ee(e,t,a){if(e.tag===3)qd(e,e,a);else for(;t!==null;){if(t.tag===3){qd(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ma===null||!Ma.has(s))){e=kt(a,e),a=of(2),s=Aa(t,a,2),s!==null&&(cf(a,s,t,e),Zs(s,2),Vt(s));break}}t=t.return}}function xi(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Xx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(mc=!0,n.add(a),e=Fx.bind(null,e,t,a),t.then(e,e))}function Fx(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Te===e&&(he&a)===a&&(ze===4||ze===3&&(he&62914560)===he&&300>Xt()-hc?!(Ne&2)&&Yl(e,0):fc|=a,Gl===he&&(Gl=0)),Vt(e)}function Zf(e,t){t===0&&(t=qu()),e=Kl(e,t),e!==null&&(Zs(e,t),Vt(e))}function Jx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Zf(e,a)}function Px(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(R(314))}s!==null&&s.delete(t),Zf(e,a)}function Wx(e,t){return Oo(e,t)}var cr=null,fl=null,co=!1,dr=!1,gi=!1,Wa=0;function Vt(e){e!==fl&&e.next===null&&(fl===null?cr=fl=e:fl=fl.next=e),dr=!0,co||(co=!0,eg())}function an(e,t){if(!gi&&dr){gi=!0;do for(var a=!1,s=cr;s!==null;){if(!t)if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var i=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-bt(42|e)+1)-1,r&=n&~(i&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Gd(s,r))}else r=he,r=Nr(s,s===Te?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Qs(s,r)||(a=!0,Gd(s,r));s=s.next}while(a);gi=!1}}function Ix(){Vf()}function Vf(){dr=co=!1;var e=0;Wa!==0&&(og()&&(e=Wa),Wa=0);for(var t=Xt(),a=null,s=cr;s!==null;){var n=s.next,r=Kf(s,t);r===0?(s.next=null,a===null?cr=n:a.next=n,n===null&&(fl=a)):(a=s,(e!==0||r&3)&&(dr=!0)),s=n}an(e,!1)}function Kf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-bt(r),o=1<<i,c=n[i];c===-1?(!(o&a)||o&s)&&(n[i]=Eh(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(t=Te,a=he,a=Nr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&$r(s),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Qs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&$r(s),Ro(a)){case 2:case 8:a=Uu;break;case 32:a=Qn;break;case 268435456:a=Bu;break;default:a=Qn}return s=Ff.bind(null,e),a=Oo(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&$r(s),e.callbackPriority=2,e.callbackNode=null,2}function Ff(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Rr()&&e.callbackNode!==a)return null;var s=he;return s=Nr(e,e===Te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(zf(e,s,t),Kf(e,Xt()),e.callbackNode!=null&&e.callbackNode===a?Ff.bind(null,e):null)}function Gd(e,t){if(Rr())return null;zf(e,t,!0)}function eg(){dg(function(){Ne&6?Oo(Lu,Ix):Vf()})}function gc(){return Wa===0&&(Wa=Hu()),Wa}function $d(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kn(""+e)}function Yd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function tg(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=$d((n[dt]||null).action),i=s.submitter;i&&(t=(t=i[dt]||null)?$d(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var o=new wr("action","action",null,s,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wa!==0){var c=i?Yd(n,i):new FormData(n);Wi(a,{pending:!0,data:c,method:n.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=i?Yd(n,i):new FormData(n),Wi(a,{pending:!0,data:c,method:n.method,action:r},r,c))},currentTarget:n}]})}}for(var yi=0;yi<qi.length;yi++){var bi=qi[yi],ag=bi.toLowerCase(),lg=bi[0].toUpperCase()+bi.slice(1);Ut(ag,"on"+lg)}Ut(cm,"onAnimationEnd");Ut(dm,"onAnimationIteration");Ut(um,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(vx,"onTransitionRun");Ut(jx,"onTransitionStart");Ut(Nx,"onTransitionCancel");Ut(mm,"onTransitionEnd");zl("onMouseEnter",["mouseout","mouseover"]);zl("onMouseLeave",["mouseout","mouseover"]);zl("onPointerEnter",["pointerout","pointerover"]);zl("onPointerLeave",["pointerout","pointerover"]);sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function Jf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=d;try{r(n)}catch(f){lr(f)}n.currentTarget=null,r=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==r&&n.isPropagationStopped())break e;r=o,n.currentTarget=d;try{r(n)}catch(f){lr(f)}n.currentTarget=null,r=c}}}}function ue(e,t){var a=t[_i];a===void 0&&(a=t[_i]=new Set);var s=e+"__bubble";a.has(s)||(Pf(t,e,2,!1),a.add(s))}function pi(e,t,a){var s=0;t&&(s|=4),Pf(a,e,s,t)}var jn="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[jn]){e[jn]=!0,Xu.forEach(function(a){a!=="selectionchange"&&(sg.has(a)||pi(a,!1,e),pi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jn]||(t[jn]=!0,pi("selectionchange",!1,t))}}function Pf(e,t,a,s){switch(c0(t)){case 2:var n=Mg;break;case 8:n=Og;break;default:n=jc}a=n.bind(null,t,a,e),n=void 0,!Ui||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function vi(e,t,a,s,n){var r=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===n)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;o!==null;){if(i=gl(o),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){s=r=i;continue e}o=o.parentNode}}s=s.return}Wu(function(){var d=r,f=Uo(a),b=[];e:{var u=fm.get(e);if(u!==void 0){var y=wr,N=e;switch(e){case"keypress":if(An(a)===0)break e;case"keydown":case"keyup":y=Wh;break;case"focusin":N="focus",y=Jr;break;case"focusout":N="blur",y=Jr;break;case"beforeblur":case"afterblur":y=Jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=tx;break;case cm:case dm:case um:y=Yh;break;case mm:y=lx;break;case"scroll":case"scrollend":y=Bh;break;case"wheel":y=nx;break;case"copy":case"cut":case"paste":y=Qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Wc;break;case"toggle":case"beforetoggle":y=ix}var p=(t&4)!==0,C=!p&&(e==="scroll"||e==="scrollend"),g=p?u!==null?u+"Capture":null:u;p=[];for(var x=d,h;x!==null;){var v=x;if(h=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||h===null||g===null||(v=Ds(x,g),v!=null&&p.push(Ls(x,v,h))),C)break;x=x.return}0<p.length&&(u=new y(u,N,null,a,f),b.push({event:u,listeners:p}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",u&&a!==Li&&(N=a.relatedTarget||a.fromElement)&&(gl(N)||N[Zl]))break e;if((y||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,y?(N=a.relatedTarget||a.toElement,y=d,N=N?gl(N):null,N!==null&&(C=Ys(N),p=N.tag,N!==C||p!==5&&p!==27&&p!==6)&&(N=null)):(y=null,N=d),y!==N)){if(p=Jc,v="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=Wc,v="onPointerLeave",g="onPointerEnter",x="pointer"),C=y==null?u:us(y),h=N==null?u:us(N),u=new p(v,x+"leave",y,a,f),u.target=C,u.relatedTarget=h,v=null,gl(f)===d&&(p=new p(g,x+"enter",N,a,f),p.target=h,p.relatedTarget=C,v=p),C=v,y&&N)t:{for(p=y,g=N,x=0,h=p;h;h=cl(h))x++;for(h=0,v=g;v;v=cl(v))h++;for(;0<x-h;)p=cl(p),x--;for(;0<h-x;)g=cl(g),h--;for(;x--;){if(p===g||g!==null&&p===g.alternate)break t;p=cl(p),g=cl(g)}p=null}else p=null;y!==null&&Xd(b,u,y,p,!1),N!==null&&C!==null&&Xd(b,C,N,p,!0)}}e:{if(u=d?us(d):window,y=u.nodeName&&u.nodeName.toLowerCase(),y==="select"||y==="input"&&u.type==="file")var w=ad;else if(td(u))if(sm)w=yx;else{w=xx;var O=hx}else y=u.nodeName,!y||y.toLowerCase()!=="input"||u.type!=="checkbox"&&u.type!=="radio"?d&&Lo(d.elementType)&&(w=ad):w=gx;if(w&&(w=w(e,d))){lm(b,w,a,f);break e}O&&O(e,u,d),e==="focusout"&&d&&u.type==="number"&&d.memoizedProps.value!=null&&zi(u,"number",u.value)}switch(O=d?us(d):window,e){case"focusin":(td(O)||O.contentEditable==="true")&&(pl=O,Bi=d,gs=null);break;case"focusout":gs=Bi=pl=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,id(b,a,f);break;case"selectionchange":if(px)break;case"keydown":case"keyup":id(b,a,f)}var k;if(qo)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bl?tm(e,a)&&(S="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(S="onCompositionStart");S&&(em&&a.locale!=="ko"&&(bl||S!=="onCompositionStart"?S==="onCompositionEnd"&&bl&&(k=Iu()):(Ea=f,Bo="value"in Ea?Ea.value:Ea.textContent,bl=!0)),O=ur(d,S),0<O.length&&(S=new Pc(S,e,null,a,f),b.push({event:S,listeners:O}),k?S.data=k:(k=am(a),k!==null&&(S.data=k)))),(k=cx?dx(e,a):ux(e,a))&&(S=ur(d,"onBeforeInput"),0<S.length&&(O=new Pc("onBeforeInput","beforeinput",null,a,f),b.push({event:O,listeners:S}),O.data=k)),tg(b,e,d,a,f)}Jf(b,t)})}function Ls(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ur(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Ds(e,a),n!=null&&s.unshift(Ls(e,n,r)),n=Ds(e,t),n!=null&&s.push(Ls(e,n,r))),e.tag===3)return s;e=e.return}return[]}function cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xd(e,t,a,s,n){for(var r=t._reactName,i=[];a!==null&&a!==s;){var o=a,c=o.alternate,d=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||d===null||(c=d,n?(d=Ds(a,r),d!=null&&i.unshift(Ls(a,d,c))):n||(d=Ds(a,r),d!=null&&i.push(Ls(a,d,c)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var ng=/\r\n?/g,rg=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(ng,`
`).replace(rg,"")}function Wf(e,t){return t=Qd(t),Qd(e)===t}function zr(){}function we(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ll(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ll(e,""+s);break;case"className":hn(e,"class",s);break;case"tabIndex":hn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,a,s);break;case"style":Pu(e,s,r);break;case"data":if(t!=="object"){hn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=kn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&we(e,t,"name",n.name,n,null),we(e,t,"formEncType",n.formEncType,n,null),we(e,t,"formMethod",n.formMethod,n,null),we(e,t,"formTarget",n.formTarget,n,null)):(we(e,t,"encType",n.encType,n,null),we(e,t,"method",n.method,n,null),we(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=kn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=zr);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(R(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=kn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Tn(e,"popover",s);break;case"xlinkActuate":Ft(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ft(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ft(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ft(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ft(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ft(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ft(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Tn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lh.get(a)||a,Tn(e,a,s))}}function uo(e,t,a,s,n,r){switch(a){case"style":Pu(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(R(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ll(e,s):(typeof s=="number"||typeof s=="bigint")&&Ll(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[dt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Tn(e,a,s)}}}function Ie(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var i=a[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:we(e,t,r,i,a,null)}}n&&we(e,t,"srcSet",a.srcSet,a,null),s&&we(e,t,"src",a.src,a,null);return;case"input":ue("invalid",e);var o=r=i=n=null,c=null,d=null;for(s in a)if(a.hasOwnProperty(s)){var f=a[s];if(f!=null)switch(s){case"name":n=f;break;case"type":i=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(R(137,t));break;default:we(e,t,s,f,a,null)}}Ku(e,r,o,c,d,i,n,!1),Zn(e);return;case"select":ue("invalid",e),s=i=r=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:we(e,t,n,o,a,null)}t=r,a=i,e.multiple=!!s,t!=null?Tl(e,!!s,t,!1):a!=null&&Tl(e,!!s,a,!0);return;case"textarea":ue("invalid",e),r=n=s=null;for(i in a)if(a.hasOwnProperty(i)&&(o=a[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":n=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:we(e,t,i,o,a,null)}Ju(e,s,n,r),Zn(e);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(s=a[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:we(e,t,c,s,a,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<zs.length;s++)ue(zs[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&(s=a[d],s!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:we(e,t,d,s,a,null)}return;default:if(Lo(t)){for(f in a)a.hasOwnProperty(f)&&(s=a[f],s!==void 0&&uo(e,t,f,s,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(s=a[o],s!=null&&we(e,t,o,s,a,null))}function ig(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,o=null,c=null,d=null,f=null;for(y in a){var b=a[y];if(a.hasOwnProperty(y)&&b!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=b;default:s.hasOwnProperty(y)||we(e,t,y,null,s,b)}}for(var u in s){var y=s[u];if(b=a[u],s.hasOwnProperty(u)&&(y!=null||b!=null))switch(u){case"type":r=y;break;case"name":n=y;break;case"checked":d=y;break;case"defaultChecked":f=y;break;case"value":i=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(R(137,t));break;default:y!==b&&we(e,t,u,y,s,b)}}Ri(e,i,o,c,d,f,r,n);return;case"select":y=i=o=u=null;for(r in a)if(c=a[r],a.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":y=c;default:s.hasOwnProperty(r)||we(e,t,r,null,s,c)}for(n in s)if(r=s[n],c=a[n],s.hasOwnProperty(n)&&(r!=null||c!=null))switch(n){case"value":u=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&we(e,t,n,r,s,c)}t=o,a=i,s=y,u!=null?Tl(e,!!a,u,!1):!!s!=!!a&&(t!=null?Tl(e,!!a,t,!0):Tl(e,!!a,a?[]:"",!1));return;case"textarea":y=u=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:we(e,t,o,null,s,n)}for(i in s)if(n=s[i],r=a[i],s.hasOwnProperty(i)&&(n!=null||r!=null))switch(i){case"value":u=n;break;case"defaultValue":y=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(R(91));break;default:n!==r&&we(e,t,i,n,s,r)}Fu(e,u,y);return;case"option":for(var N in a)if(u=a[N],a.hasOwnProperty(N)&&u!=null&&!s.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:we(e,t,N,null,s,u)}for(c in s)if(u=s[c],y=a[c],s.hasOwnProperty(c)&&u!==y&&(u!=null||y!=null))switch(c){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:we(e,t,c,u,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in a)u=a[p],a.hasOwnProperty(p)&&u!=null&&!s.hasOwnProperty(p)&&we(e,t,p,null,s,u);for(d in s)if(u=s[d],y=a[d],s.hasOwnProperty(d)&&u!==y&&(u!=null||y!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(R(137,t));break;default:we(e,t,d,u,s,y)}return;default:if(Lo(t)){for(var C in a)u=a[C],a.hasOwnProperty(C)&&u!==void 0&&!s.hasOwnProperty(C)&&uo(e,t,C,void 0,s,u);for(f in s)u=s[f],y=a[f],!s.hasOwnProperty(f)||u===y||u===void 0&&y===void 0||uo(e,t,f,u,s,y);return}}for(var g in a)u=a[g],a.hasOwnProperty(g)&&u!=null&&!s.hasOwnProperty(g)&&we(e,t,g,null,s,u);for(b in s)u=s[b],y=a[b],!s.hasOwnProperty(b)||u===y||u==null&&y==null||we(e,t,b,u,s,y)}var mo=null,fo=null;function mr(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function If(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ji=null;function og(){var e=window.event;return e&&e.type==="popstate"?e===ji?!1:(ji=e,!0):(ji=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(e){return Vd.resolve(null).then(e).catch(ug)}:e0;function ug(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function Kd(e,t){var a=t,s=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<s&&8>s){a=s;var i=e.ownerDocument;if(a&1&&Ts(i.documentElement),a&2&&Ts(i.body),a&4)for(a=i.head,Ts(a),i=a.firstChild;i;){var o=i.nextSibling,c=i.nodeName;i[Vs]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}if(n===0){e.removeChild(r),Gs(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:s=a.charCodeAt(0)-48;else s=0;a=r}while(a);Gs(t)}function xo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xo(a),zo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mg(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Vs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function fg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zt(e.nextSibling),e===null))return null;return e}function go(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var yo=null;function Fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function t0(e,t,a){switch(t=mr(a),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function Ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zo(e)}var Mt=new Map,Jd=new Set;function fr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=pe.d;pe.d={f:xg,r:gg,D:yg,C:bg,L:pg,m:vg,X:Ng,S:jg,M:wg};function xg(){var e=fa.f(),t=Or();return e||t}function gg(e){var t=Vl(e);t!==null&&t.tag===5&&t.type==="form"?Vm(t):fa.r(e)}var Jl=typeof document>"u"?null:document;function a0(e,t,a){var s=Jl;if(s&&typeof t=="string"&&t){var n=Tt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Jd.has(n)||(Jd.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ie(t,"link",e),Qe(t),s.head.appendChild(t)))}}function yg(e){fa.D(e),a0("dns-prefetch",e,null)}function bg(e,t){fa.C(e,t),a0("preconnect",e,t)}function pg(e,t,a){fa.L(e,t,a);var s=Jl;if(s&&e&&t){var n='link[rel="preload"][as="'+Tt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Tt(a.imageSizes)+'"]')):n+='[href="'+Tt(e)+'"]';var r=n;switch(t){case"style":r=Xl(e);break;case"script":r=Pl(e)}Mt.has(r)||(e=ke({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Mt.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(ln(r))||t==="script"&&s.querySelector(sn(r))||(t=s.createElement("link"),Ie(t,"link",e),Qe(t),s.head.appendChild(t)))}}function vg(e,t){fa.m(e,t);var a=Jl;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Tt(s)+'"][href="'+Tt(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Pl(e)}if(!Mt.has(r)&&(e=ke({rel:"modulepreload",href:e},t),Mt.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sn(r)))return}s=a.createElement("link"),Ie(s,"link",e),Qe(s),a.head.appendChild(s)}}}function jg(e,t,a){fa.S(e,t,a);var s=Jl;if(s&&e){var n=Cl(s).hoistableStyles,r=Xl(e);t=t||"default";var i=n.get(r);if(!i){var o={loading:0,preload:null};if(i=s.querySelector(ln(r)))o.loading=5;else{e=ke({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Mt.get(r))&&bc(e,a);var c=i=s.createElement("link");Qe(c),Ie(c,"link",e),c._p=new Promise(function(d,f){c.onload=d,c.onerror=f}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Un(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:o},n.set(r,i)}}}function Ng(e,t){fa.X(e,t);var a=Jl;if(a&&e){var s=Cl(a).hoistableScripts,n=Pl(e),r=s.get(n);r||(r=a.querySelector(sn(n)),r||(e=ke({src:e,async:!0},t),(t=Mt.get(n))&&pc(e,t),r=a.createElement("script"),Qe(r),Ie(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function wg(e,t){fa.M(e,t);var a=Jl;if(a&&e){var s=Cl(a).hoistableScripts,n=Pl(e),r=s.get(n);r||(r=a.querySelector(sn(n)),r||(e=ke({src:e,async:!0,type:"module"},t),(t=Mt.get(n))&&pc(e,t),r=a.createElement("script"),Qe(r),Ie(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function Pd(e,t,a,s){var n=(n=ka.current)?fr(n):null;if(!n)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xl(a.href),a=Cl(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xl(a.href);var r=Cl(n).hoistableStyles,i=r.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=n.querySelector(ln(e)))&&!r._p&&(i.instance=r,i.state.loading=5),Mt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mt.set(e,a),r||Sg(n,e,a,i.state))),t&&s===null)throw Error(R(528,""));return i}if(t&&s!==null)throw Error(R(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pl(a),a=Cl(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function Xl(e){return'href="'+Tt(e)+'"'}function ln(e){return'link[rel="stylesheet"]['+e+"]"}function l0(e){return ke({},e,{"data-precedence":e.precedence,precedence:null})}function Sg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ie(t,"link",a),Qe(t),e.head.appendChild(t))}function Pl(e){return'[src="'+Tt(e)+'"]'}function sn(e){return"script[async]"+e}function Wd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(s)return t.instance=s,Qe(s),s;var n=ke({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Qe(s),Ie(s,"style",n),Un(s,a.precedence,e),t.instance=s;case"stylesheet":n=Xl(a.href);var r=e.querySelector(ln(n));if(r)return t.state.loading|=4,t.instance=r,Qe(r),r;s=l0(a),(n=Mt.get(n))&&bc(s,n),r=(e.ownerDocument||e).createElement("link"),Qe(r);var i=r;return i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ie(r,"link",s),t.state.loading|=4,Un(r,a.precedence,e),t.instance=r;case"script":return r=Pl(a.src),(n=e.querySelector(sn(r)))?(t.instance=n,Qe(n),n):(s=a,(n=Mt.get(r))&&(s=ke({},a),pc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Qe(n),Ie(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,Un(s,a.precedence,e));return t.instance}function Un(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,i=0;i<s.length;i++){var o=s[i];if(o.dataset.precedence===t)r=o;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bn=null;function Id(e,t,a){if(Bn===null){var s=new Map,n=Bn=new Map;n.set(a,s)}else n=Bn,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[Vs]||r[et]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var o=s.get(i);o?o.push(r):s.set(i,[r])}}return s}function eu(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Eg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function s0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Us=null;function Cg(){}function Tg(e,t,a){if(Us===null)throw Error(R(475));var s=Us;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=Xl(a.href),r=e.querySelector(ln(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=hr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=r,Qe(r);return}r=e.ownerDocument||e,a=l0(a),(n=Mt.get(n))&&bc(a,n),r=r.createElement("link"),Qe(r);var i=r;i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),Ie(r,"link",a),t.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=hr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function kg(){if(Us===null)throw Error(R(475));var e=Us;return e.stylesheets&&e.count===0&&bo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&bo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hr(){if(this.count--,this.count===0){if(this.stylesheets)bo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xr=null;function bo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xr=new Map,t.forEach(Dg,e),xr=null,hr.call(e))}function Dg(e,t){if(!(t.state.loading&4)){var a=xr.get(e);if(a)var s=a.get(null);else{a=new Map,xr.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var i=n[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),s=i)}s&&a.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),r=a.get(i)||s,r===s&&a.set(null,n),a.set(i,n),this.count++,s=hr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:It,Provider:null,Consumer:null,_currentValue:Za,_currentValue2:Za,_threadCount:0};function Ag(e,t,a,s,n,r,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function n0(e,t,a,s,n,r,i,o,c,d,f,b){return e=new Ag(e,t,a,i,o,c,d,b),t=1,r===!0&&(t|=24),r=gt(3,null,null,t),e.current=r,r.stateNode=e,t=Vo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},Fo(r),e}function r0(e){return e?(e=Nl,e):Nl}function i0(e,t,a,s,n,r){n=r0(n),s.context===null?s.context=n:s.pendingContext=n,s=Da(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=Aa(e,s,t),a!==null&&(vt(a,e,t),ps(a,e,t))}function tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function vc(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function o0(e){if(e.tag===13){var t=Kl(e,67108864);t!==null&&vt(t,e,67108864),vc(e,67108864)}}var gr=!0;function Mg(e,t,a,s){var n=ae.T;ae.T=null;var r=pe.p;try{pe.p=2,jc(e,t,a,s)}finally{pe.p=r,ae.T=n}}function Og(e,t,a,s){var n=ae.T;ae.T=null;var r=pe.p;try{pe.p=8,jc(e,t,a,s)}finally{pe.p=r,ae.T=n}}function jc(e,t,a,s){if(gr){var n=po(s);if(n===null)vi(e,t,s,yr,a),au(e,s);else if(Rg(n,e,t,a,s))s.stopPropagation();else if(au(e,s),t&4&&-1<_g.indexOf(e)){for(;n!==null;){var r=Vl(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=Ya(r.pendingLanes);if(i!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var c=1<<31-bt(i);o.entanglements[1]|=c,i&=~c}Vt(r),!(Ne&6)&&(ir=Xt()+500,an(0,!1))}}break;case 13:o=Kl(r,2),o!==null&&vt(o,r,2),Or(),vc(r,2)}if(r=po(s),r===null&&vi(e,t,s,yr,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else vi(e,t,s,null,a)}}function po(e){return e=Uo(e),Nc(e)}var yr=null;function Nc(e){if(yr=null,e=gl(e),e!==null){var t=Ys(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Ou(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yr=e,null}function c0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bh()){case Lu:return 2;case Uu:return 8;case Qn:case ph:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var vo=!1,_a=null,Ra=null,za=null,Hs=new Map,qs=new Map,wa=[],_g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function is(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=Vl(t),t!==null&&o0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Rg(e,t,a,s,n){switch(t){case"focusin":return _a=is(_a,e,t,a,s,n),!0;case"dragenter":return Ra=is(Ra,e,t,a,s,n),!0;case"mouseover":return za=is(za,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return Hs.set(r,is(Hs.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,qs.set(r,is(qs.get(r)||null,e,t,a,s,n)),!0}return!1}function d0(e){var t=gl(e.target);if(t!==null){var a=Ys(t);if(a!==null){if(t=a.tag,t===13){if(t=Ou(a),t!==null){e.blockedOn=t,Th(e.priority,function(){if(a.tag===13){var s=pt();s=_o(s);var n=Kl(a,s);n!==null&&vt(n,a,s),vc(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=po(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Li=s,a.target.dispatchEvent(s),Li=null}else return t=Vl(a),t!==null&&o0(t),e.blockedOn=a,!1;t.shift()}return!0}function lu(e,t,a){Hn(e)&&a.delete(t)}function zg(){vo=!1,_a!==null&&Hn(_a)&&(_a=null),Ra!==null&&Hn(Ra)&&(Ra=null),za!==null&&Hn(za)&&(za=null),Hs.forEach(lu),qs.forEach(lu)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,vo||(vo=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,zg)))}var wn=null;function su(e){wn!==e&&(wn=e,$e.unstable_scheduleCallback($e.unstable_NormalPriority,function(){wn===e&&(wn=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Nc(s||a)===null)continue;break}var r=Vl(a);r!==null&&(e.splice(t,3),t-=3,Wi(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function Gs(e){function t(c){return Nn(c,e)}_a!==null&&Nn(_a,e),Ra!==null&&Nn(Ra,e),za!==null&&Nn(za,e),Hs.forEach(t),qs.forEach(t);for(var a=0;a<wa.length;a++){var s=wa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)d0(a),a.blockedOn===null&&wa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],i=n[dt]||null;if(typeof r=="function")i||su(a);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(n=r,i=r[dt]||null)o=i.formAction;else if(Nc(n)!==null)continue}else o=i.action;typeof o=="function"?a[s+1]=o:(a.splice(s,3),s-=3),su(a)}}}function wc(e){this._internalRoot=e}Lr.prototype.render=wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var a=t.current,s=pt();i0(a,s,e,t,null,null)};Lr.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;i0(e.current,2,null,e,null,null),Or(),t[Zl]=null}};function Lr(e){this._internalRoot=e}Lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<wa.length&&t!==0&&t<wa[a].priority;a++);wa.splice(a,0,e),a===0&&d0(e)}};var nu=Au.version;if(nu!=="19.1.1")throw Error(R(527,nu,"19.1.1"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=uh(t),e=e!==null?_u(e):null,e=e===null?null:e.stateNode,e};var Lg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sn.isDisabled&&Sn.supportsFiber)try{Xs=Sn.inject(Lg),yt=Sn}catch{}}vr.createRoot=function(e,t){if(!Mu(e))throw Error(R(299));var a=!1,s="",n=sf,r=nf,i=rf,o=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=n0(e,1,!1,null,null,a,s,n,r,i,o,null),e[Zl]=t.current,yc(e),new wc(t)};vr.hydrateRoot=function(e,t,a){if(!Mu(e))throw Error(R(299));var s=!1,n="",r=sf,i=nf,o=rf,c=null,d=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(c=a.unstable_transitionCallbacks),a.formState!==void 0&&(d=a.formState)),t=n0(e,1,!0,t,a??null,s,n,r,i,o,c,d),t.context=r0(null),a=t.current,s=pt(),s=_o(s),n=Da(s),n.callback=null,Aa(a,n,s),a=s,t.current.lanes=a,Zs(t,a),Vt(t),e[Zl]=t.current,yc(e),new Lr(t)};vr.version="19.1.1";function u0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u0)}catch(e){console.error(e)}}u0(),Su.exports=vr;var Ug=Su.exports;const Bg="modulepreload",Hg=function(e){return"/"+e},ru={},qg=function(t,a,s){if(!a||a.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=Hg(r),r in ru)return;ru[r]=!0;const i=r.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(!!s)for(let f=n.length-1;f>=0;f--){const b=n[f];if(b.href===r&&(!i||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":Bg,i||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),i)return new Promise((f,b)=>{d.addEventListener("load",f),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})};var iu="popstate";function Gg(e={}){function t(s,n){let{pathname:r,search:i,hash:o}=s.location;return jo("",{pathname:r,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:$s(n)}return Yg(t,a,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $g(){return Math.random().toString(36).substring(2,10)}function ou(e,t){return{usr:e.state,key:e.key,idx:t}}function jo(e,t,a=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wl(t):t,state:a,key:t&&t.key||s||$g()}}function $s({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Wl(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function Yg(e,t,a,s={}){let{window:n=document.defaultView,v5Compat:r=!1}=s,i=n.history,o="POP",c=null,d=f();d==null&&(d=0,i.replaceState({...i.state,idx:d},""));function f(){return(i.state||{idx:null}).idx}function b(){o="POP";let C=f(),g=C==null?null:C-d;d=C,c&&c({action:o,location:p.location,delta:g})}function u(C,g){o="PUSH";let x=jo(p.location,C,g);a&&a(x,C),d=f()+1;let h=ou(x,d),v=p.createHref(x);try{i.pushState(h,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(v)}r&&c&&c({action:o,location:p.location,delta:1})}function y(C,g){o="REPLACE";let x=jo(p.location,C,g);a&&a(x,C),d=f();let h=ou(x,d),v=p.createHref(x);i.replaceState(h,"",v),r&&c&&c({action:o,location:p.location,delta:0})}function N(C){return Xg(C)}let p={get action(){return o},get location(){return e(n,i)},listen(C){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(iu,b),c=C,()=>{n.removeEventListener(iu,b),c=null}},createHref(C){return t(n,C)},createURL:N,encodeLocation(C){let g=N(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:u,replace:y,go(C){return i.go(C)}};return p}function Xg(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),_e(a,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:$s(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function m0(e,t,a="/"){return Qg(e,t,a,!1)}function Qg(e,t,a,s){let n=typeof t=="string"?Wl(t):t,r=ua(n.pathname||"/",a);if(r==null)return null;let i=f0(e);Zg(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=ly(r);o=ty(i[c],d,s)}return o}function f0(e,t=[],a=[],s="",n=!1){let r=(i,o,c=n,d)=>{let f={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&c)return;_e(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let b=ra([s,f.relativePath]),u=a.concat(f);i.children&&i.children.length>0&&(_e(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),f0(i.children,t,u,b,c)),!(i.path==null&&!i.index)&&t.push({path:b,score:Ig(b,i.index),routesMeta:u})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,o);else for(let d of h0(i.path))r(i,o,!0,d)}),t}function h0(e){let t=e.split("/");if(t.length===0)return[];let[a,...s]=t,n=a.endsWith("?"),r=a.replace(/\?$/,"");if(s.length===0)return n?[r,""]:[r];let i=h0(s.join("/")),o=[];return o.push(...i.map(c=>c===""?r:[r,c].join("/"))),n&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Zg(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:ey(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var Vg=/^:[\w-]+$/,Kg=3,Fg=2,Jg=1,Pg=10,Wg=-2,cu=e=>e==="*";function Ig(e,t){let a=e.split("/"),s=a.length;return a.some(cu)&&(s+=Wg),t&&(s+=Fg),a.filter(n=>!cu(n)).reduce((n,r)=>n+(Vg.test(r)?Kg:r===""?Jg:Pg),s)}function ey(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function ty(e,t,a=!1){let{routesMeta:s}=e,n={},r="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,f=r==="/"?t:t.slice(r.length)||"/",b=br({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),u=c.route;if(!b&&d&&a&&!s[s.length-1].route.index&&(b=br({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!b)return null;Object.assign(n,b.params),i.push({params:n,pathname:ra([r,b.pathname]),pathnameBase:iy(ra([r,b.pathnameBase])),route:u}),b.pathnameBase!=="/"&&(r=ra([r,b.pathnameBase]))}return i}function br(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=ay(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let r=n[0],i=r.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:b},u)=>{if(f==="*"){let N=o[u]||"";i=r.slice(0,r.length-N.length).replace(/(.)\/+$/,"$1")}const y=o[u];return b&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:i,pattern:e}}function ay(e,t=!1,a=!0){Lt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function ly(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function sy(e,t="/"){let{pathname:a,search:s="",hash:n=""}=typeof e=="string"?Wl(e):e;return{pathname:a?a.startsWith("/")?a:ny(a,t):t,search:oy(s),hash:cy(n)}}function ny(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Ni(e,t,a,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ry(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function x0(e){let t=ry(e);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function g0(e,t,a,s=!1){let n;typeof e=="string"?n=Wl(e):(n={...e},_e(!n.pathname||!n.pathname.includes("?"),Ni("?","pathname","search",n)),_e(!n.pathname||!n.pathname.includes("#"),Ni("#","pathname","hash",n)),_e(!n.search||!n.search.includes("#"),Ni("#","search","hash",n)));let r=e===""||n.pathname==="",i=r?"/":n.pathname,o;if(i==null)o=a;else{let b=t.length-1;if(!s&&i.startsWith("..")){let u=i.split("/");for(;u[0]==="..";)u.shift(),b-=1;n.pathname=u.join("/")}o=b>=0?t[b]:"/"}let c=sy(n,o),d=i&&i!=="/"&&i.endsWith("/"),f=(r||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var ra=e=>e.join("/").replace(/\/\/+/g,"/"),iy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cy=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var uy=["GET",...y0];new Set(uy);var Il=m.createContext(null);Il.displayName="DataRouter";var Ur=m.createContext(null);Ur.displayName="DataRouterState";m.createContext(!1);var b0=m.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var my=m.createContext(new Map);my.displayName="Fetchers";var fy=m.createContext(null);fy.displayName="Await";var Kt=m.createContext(null);Kt.displayName="Navigation";var nn=m.createContext(null);nn.displayName="Location";var Bt=m.createContext({outlet:null,matches:[],isDataRoute:!1});Bt.displayName="Route";var Sc=m.createContext(null);Sc.displayName="RouteError";function hy(e,{relative:t}={}){_e(rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=m.useContext(Kt),{hash:n,pathname:r,search:i}=on(e,{relative:t}),o=r;return a!=="/"&&(o=r==="/"?a:ra([a,r])),s.createHref({pathname:o,search:i,hash:n})}function rn(){return m.useContext(nn)!=null}function ha(){return _e(rn(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(nn).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(e){m.useContext(Kt).static||m.useLayoutEffect(e)}function Fe(){let{isDataRoute:e}=m.useContext(Bt);return e?Dy():xy()}function xy(){_e(rn(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Il),{basename:t,navigator:a}=m.useContext(Kt),{matches:s}=m.useContext(Bt),{pathname:n}=ha(),r=JSON.stringify(x0(s)),i=m.useRef(!1);return v0(()=>{i.current=!0}),m.useCallback((c,d={})=>{if(Lt(i.current,p0),!i.current)return;if(typeof c=="number"){a.go(c);return}let f=g0(c,JSON.parse(r),n,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ra([t,f.pathname])),(d.replace?a.replace:a.push)(f,d.state,d)},[t,a,r,n,e])}var gy=m.createContext(null);function yy(e){let t=m.useContext(Bt).outlet;return t&&m.createElement(gy.Provider,{value:e},t)}function Ec(){let{matches:e}=m.useContext(Bt),t=e[e.length-1];return t?t.params:{}}function on(e,{relative:t}={}){let{matches:a}=m.useContext(Bt),{pathname:s}=ha(),n=JSON.stringify(x0(a));return m.useMemo(()=>g0(e,JSON.parse(n),s,t==="path"),[e,n,s,t])}function by(e,t){return j0(e,t)}function j0(e,t,a,s,n){var x;_e(rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=m.useContext(Kt),{matches:i}=m.useContext(Bt),o=i[i.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",b=o&&o.route;{let h=b&&b.path||"";N0(d,!b||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let u=ha(),y;if(t){let h=typeof t=="string"?Wl(t):t;_e(f==="/"||((x=h.pathname)==null?void 0:x.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${h.pathname}" was given in the \`location\` prop.`),y=h}else y=u;let N=y.pathname||"/",p=N;if(f!=="/"){let h=f.replace(/^\//,"").split("/");p="/"+N.replace(/^\//,"").split("/").slice(h.length).join("/")}let C=m0(e,{pathname:p});Lt(b||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Lt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=wy(C&&C.map(h=>Object.assign({},h,{params:Object.assign({},c,h.params),pathname:ra([f,r.encodeLocation?r.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?f:ra([f,r.encodeLocation?r.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,a,s,n);return t&&g?m.createElement(nn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},g):g}function py(){let e=ky(),t=dy(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:r},"ErrorBoundary")," or"," ",m.createElement("code",{style:r},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),a?m.createElement("pre",{style:n},a):null,i)}var vy=m.createElement(py,null),jy=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?m.createElement(Bt.Provider,{value:this.props.routeContext},m.createElement(Sc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ny({routeContext:e,match:t,children:a}){let s=m.useContext(Il);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Bt.Provider,{value:e},a)}function wy(e,t=[],a=null,s=null,n=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let r=e,i=a==null?void 0:a.errors;if(i!=null){let d=r.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);_e(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let o=!1,c=-1;if(a)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:b,errors:u}=a,y=f.route.loader&&!b.hasOwnProperty(f.route.id)&&(!u||u[f.route.id]===void 0);if(f.route.lazy||y){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,f,b)=>{let u,y=!1,N=null,p=null;a&&(u=i&&f.route.id?i[f.route.id]:void 0,N=f.route.errorElement||vy,o&&(c<0&&b===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,p=null):c===b&&(y=!0,p=f.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,b+1)),g=()=>{let x;return u?x=N:y?x=p:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(Ny,{match:f,routeContext:{outlet:d,matches:C,isDataRoute:a!=null},children:x})};return a&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?m.createElement(jy,{location:a.location,revalidation:a.revalidation,component:N,error:u,children:g(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:s}):g()},null)}function Cc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(e){let t=m.useContext(Il);return _e(t,Cc(e)),t}function Ey(e){let t=m.useContext(Ur);return _e(t,Cc(e)),t}function Cy(e){let t=m.useContext(Bt);return _e(t,Cc(e)),t}function Tc(e){let t=Cy(e),a=t.matches[t.matches.length-1];return _e(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Ty(){return Tc("useRouteId")}function ky(){var s;let e=m.useContext(Sc),t=Ey("useRouteError"),a=Tc("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[a]}function Dy(){let{router:e}=Sy("useNavigate"),t=Tc("useNavigate"),a=m.useRef(!1);return v0(()=>{a.current=!0}),m.useCallback(async(n,r={})=>{Lt(a.current,p0),a.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...r}))},[e,t])}var du={};function N0(e,t,a){!t&&!du[e]&&(du[e]=!0,Lt(!1,a))}m.memo(Ay);function Ay({routes:e,future:t,state:a,unstable_onError:s}){return j0(e,void 0,a,s,t)}function My(e){return yy(e.context)}function Ye(e){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oy({basename:e="/",children:t=null,location:a,navigationType:s="POP",navigator:n,static:r=!1}){_e(!rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),o=m.useMemo(()=>({basename:i,navigator:n,static:r,future:{}}),[i,n,r]);typeof a=="string"&&(a=Wl(a));let{pathname:c="/",search:d="",hash:f="",state:b=null,key:u="default"}=a,y=m.useMemo(()=>{let N=ua(c,i);return N==null?null:{location:{pathname:N,search:d,hash:f,state:b,key:u},navigationType:s}},[i,c,d,f,b,u,s]);return Lt(y!=null,`<Router basename="${i}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:m.createElement(Kt.Provider,{value:o},m.createElement(nn.Provider,{children:t,value:y}))}function _y({children:e,location:t}){return by(No(e),t)}function No(e,t=[]){let a=[];return m.Children.forEach(e,(s,n)=>{if(!m.isValidElement(s))return;let r=[...t,n];if(s.type===m.Fragment){a.push.apply(a,No(s.props.children,r));return}_e(s.type===Ye,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!s.props.index||!s.props.children,"An index route cannot have child routes.");let i={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=No(s.props.children,r)),a.push(i)}),a}var qn="get",Gn="application/x-www-form-urlencoded";function Br(e){return e!=null&&typeof e.tagName=="string"}function Ry(e){return Br(e)&&e.tagName.toLowerCase()==="button"}function zy(e){return Br(e)&&e.tagName.toLowerCase()==="form"}function Ly(e){return Br(e)&&e.tagName.toLowerCase()==="input"}function Uy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function By(e,t){return e.button===0&&(!t||t==="_self")&&!Uy(e)}function wo(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let s=e[a];return t.concat(Array.isArray(s)?s.map(n=>[a,n]):[[a,s]])},[]))}function Hy(e,t){let a=wo(e);return t&&t.forEach((s,n)=>{a.has(n)||t.getAll(n).forEach(r=>{a.append(n,r)})}),a}var En=null;function qy(){if(En===null)try{new FormData(document.createElement("form"),0),En=!1}catch{En=!0}return En}var Gy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wi(e){return e!=null&&!Gy.has(e)?(Lt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gn}"`),null):e}function $y(e,t){let a,s,n,r,i;if(zy(e)){let o=e.getAttribute("action");s=o?ua(o,t):null,a=e.getAttribute("method")||qn,n=wi(e.getAttribute("enctype"))||Gn,r=new FormData(e)}else if(Ry(e)||Ly(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?ua(c,t):null,a=e.getAttribute("formmethod")||o.getAttribute("method")||qn,n=wi(e.getAttribute("formenctype"))||wi(o.getAttribute("enctype"))||Gn,r=new FormData(o,e),!qy()){let{name:d,type:f,value:b}=e;if(f==="image"){let u=d?`${d}.`:"";r.append(`${u}x`,"0"),r.append(`${u}y`,"0")}else d&&r.append(d,b)}}else{if(Br(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=qn,s=null,n=Gn,i=e}return r&&n==="text/plain"&&(i=r,r=void 0),{action:s,method:a.toLowerCase(),encType:n,formData:r,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yy(e,t,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${a}`:t&&ua(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function Xy(e,t){if(e.id in t)return t[e.id];try{let a=await qg(()=>import(e.module),[]);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qy(e){return e!=null&&typeof e.page=="string"}function Zy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vy(e,t,a){let s=await Promise.all(e.map(async n=>{let r=t.routes[n.route.id];if(r){let i=await Xy(r,a);return i.links?i.links():[]}return[]}));return Py(s.flat(1).filter(Zy).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function uu(e,t,a,s,n,r){let i=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,o=(c,d)=>{var f;return a[d].pathname!==c.pathname||((f=a[d].route.path)==null?void 0:f.endsWith("*"))&&a[d].params["*"]!==c.params["*"]};return r==="assets"?t.filter((c,d)=>i(c,d)||o(c,d)):r==="data"?t.filter((c,d)=>{var b;let f=s.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(i(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let u=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((b=a[0])==null?void 0:b.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Ky(e,t,{includeHydrateFallback:a}={}){return Fy(e.map(s=>{let n=t.routes[s.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function Fy(e){return[...new Set(e)]}function Jy(e){let t={},a=Object.keys(e).sort();for(let s of a)t[s]=e[s];return t}function Py(e,t){let a=new Set,s=new Set(t);return e.reduce((n,r)=>{if(t&&!Qy(r)&&r.as==="script"&&r.href&&s.has(r.href))return n;let o=JSON.stringify(Jy(r));return a.has(o)||(a.add(o),n.push({key:o,link:r})),n},[])}function w0(){let e=m.useContext(Il);return kc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Wy(){let e=m.useContext(Ur);return kc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Dc=m.createContext(void 0);Dc.displayName="FrameworkContext";function S0(){let e=m.useContext(Dc);return kc(e,"You must render this element inside a <HydratedRouter> element"),e}function Iy(e,t){let a=m.useContext(Dc),[s,n]=m.useState(!1),[r,i]=m.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:b}=t,u=m.useRef(null);m.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let p=g=>{g.forEach(x=>{i(x.isIntersecting)})},C=new IntersectionObserver(p,{threshold:.5});return u.current&&C.observe(u.current),()=>{C.disconnect()}}},[e]),m.useEffect(()=>{if(s){let p=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(p)}}},[s]);let y=()=>{n(!0)},N=()=>{n(!1),i(!1)};return a?e!=="intent"?[r,u,{}]:[r,u,{onFocus:os(o,y),onBlur:os(c,N),onMouseEnter:os(d,y),onMouseLeave:os(f,N),onTouchStart:os(b,y)}]:[!1,u,{}]}function os(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function eb({page:e,...t}){let{router:a}=w0(),s=m.useMemo(()=>m0(a.routes,e,a.basename),[a.routes,e,a.basename]);return s?m.createElement(ab,{page:e,matches:s,...t}):null}function tb(e){let{manifest:t,routeModules:a}=S0(),[s,n]=m.useState([]);return m.useEffect(()=>{let r=!1;return Vy(e,t,a).then(i=>{r||n(i)}),()=>{r=!0}},[e,t,a]),s}function ab({page:e,matches:t,...a}){let s=ha(),{manifest:n,routeModules:r}=S0(),{basename:i}=w0(),{loaderData:o,matches:c}=Wy(),d=m.useMemo(()=>uu(e,t,c,n,s,"data"),[e,t,c,n,s]),f=m.useMemo(()=>uu(e,t,c,n,s,"assets"),[e,t,c,n,s]),b=m.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let N=new Set,p=!1;if(t.forEach(g=>{var h;let x=n.routes[g.route.id];!x||!x.hasLoader||(!d.some(v=>v.route.id===g.route.id)&&g.route.id in o&&((h=r[g.route.id])!=null&&h.shouldRevalidate)||x.hasClientLoader?p=!0:N.add(g.route.id))}),N.size===0)return[];let C=Yy(e,i,"data");return p&&N.size>0&&C.searchParams.set("_routes",t.filter(g=>N.has(g.route.id)).map(g=>g.route.id).join(",")),[C.pathname+C.search]},[i,o,s,n,d,t,e,r]),u=m.useMemo(()=>Ky(f,n),[f,n]),y=tb(f);return m.createElement(m.Fragment,null,b.map(N=>m.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),u.map(N=>m.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),y.map(({key:N,link:p})=>m.createElement("link",{key:N,nonce:a.nonce,...p})))}function lb(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.8.2")}catch{}function sb({basename:e,children:t,window:a}){let s=m.useRef();s.current==null&&(s.current=Gg({window:a,v5Compat:!0}));let n=s.current,[r,i]=m.useState({action:n.action,location:n.location}),o=m.useCallback(c=>{m.startTransition(()=>i(c))},[i]);return m.useLayoutEffect(()=>n.listen(o),[n,o]),m.createElement(Oy,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=m.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:n,reloadDocument:r,replace:i,state:o,target:c,to:d,preventScrollReset:f,viewTransition:b,...u},y){let{basename:N}=m.useContext(Kt),p=typeof d=="string"&&C0.test(d),C,g=!1;if(typeof d=="string"&&p&&(C=d,E0))try{let j=new URL(window.location.href),M=d.startsWith("//")?new URL(j.protocol+d):new URL(d),J=ua(M.pathname,N);M.origin===j.origin&&J!=null?d=J+M.search+M.hash:g=!0}catch{Lt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=hy(d,{relative:n}),[h,v,w]=Iy(s,u),O=ob(d,{replace:i,state:o,target:c,preventScrollReset:f,relative:n,viewTransition:b});function k(j){t&&t(j),j.defaultPrevented||O(j)}let S=m.createElement("a",{...u,...w,href:C||x,onClick:g||r?t:k,ref:lb(y,v),target:c,"data-discover":!p&&a==="render"?"true":void 0});return h&&!p?m.createElement(m.Fragment,null,S,m.createElement(eb,{page:x})):S});Ze.displayName="Link";var nb=m.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:n=!1,style:r,to:i,viewTransition:o,children:c,...d},f){let b=on(i,{relative:d.relative}),u=ha(),y=m.useContext(Ur),{navigator:N,basename:p}=m.useContext(Kt),C=y!=null&&hb(b)&&o===!0,g=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,x=u.pathname,h=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(x=x.toLowerCase(),h=h?h.toLowerCase():null,g=g.toLowerCase()),h&&p&&(h=ua(h,p)||h);const v=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=x===g||!n&&x.startsWith(g)&&x.charAt(v)==="/",O=h!=null&&(h===g||!n&&h.startsWith(g)&&h.charAt(g.length)==="/"),k={isActive:w,isPending:O,isTransitioning:C},S=w?t:void 0,j;typeof s=="function"?j=s(k):j=[s,w?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof r=="function"?r(k):r;return m.createElement(Ze,{...d,"aria-current":S,className:j,ref:f,style:M,to:i,viewTransition:o},typeof c=="function"?c(k):c)});nb.displayName="NavLink";var rb=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:n,state:r,method:i=qn,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:b,...u},y)=>{let N=mb(),p=fb(o,{relative:d}),C=i.toLowerCase()==="get"?"get":"post",g=typeof o=="string"&&C0.test(o),x=h=>{if(c&&c(h),h.defaultPrevented)return;h.preventDefault();let v=h.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||i;N(v||h.currentTarget,{fetcherKey:t,method:w,navigate:a,replace:n,state:r,relative:d,preventScrollReset:f,viewTransition:b})};return m.createElement("form",{ref:y,method:C,action:p,onSubmit:s?c:x,...u,"data-discover":!g&&e==="render"?"true":void 0})});rb.displayName="Form";function ib(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(e){let t=m.useContext(Il);return _e(t,ib(e)),t}function ob(e,{target:t,replace:a,state:s,preventScrollReset:n,relative:r,viewTransition:i}={}){let o=Fe(),c=ha(),d=on(e,{relative:r});return m.useCallback(f=>{if(By(f,t)){f.preventDefault();let b=a!==void 0?a:$s(c)===$s(d);o(e,{replace:b,state:s,preventScrollReset:n,relative:r,viewTransition:i})}},[c,o,d,a,s,t,e,n,r,i])}function cb(e){Lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(wo(e)),a=m.useRef(!1),s=ha(),n=m.useMemo(()=>Hy(s.search,a.current?null:t.current),[s.search]),r=Fe(),i=m.useCallback((o,c)=>{const d=wo(typeof o=="function"?o(new URLSearchParams(n)):o);a.current=!0,r("?"+d,c)},[r,n]);return[n,i]}var db=0,ub=()=>`__${String(++db)}__`;function mb(){let{router:e}=T0("useSubmit"),{basename:t}=m.useContext(Kt),a=Ty();return m.useCallback(async(s,n={})=>{let{action:r,method:i,encType:o,formData:c,body:d}=$y(s,t);if(n.navigate===!1){let f=n.fetcherKey||ub();await e.fetch(f,a,n.action||r,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||i,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||r,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||i,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,a])}function fb(e,{relative:t}={}){let{basename:a}=m.useContext(Kt),s=m.useContext(Bt);_e(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),r={...on(e||".",{relative:t})},i=ha();if(e==null){r.search=i.search;let o=new URLSearchParams(r.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(b=>b).forEach(b=>o.append("index",b));let f=o.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&n.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(r.pathname=r.pathname==="/"?a:ra([a,r.pathname])),$s(r)}function hb(e,{relative:t}={}){let a=m.useContext(b0);_e(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),n=on(e,{relative:t});if(!a.isTransitioning)return!1;let r=ua(a.currentLocation.pathname,s)||a.currentLocation.pathname,i=ua(a.nextLocation.pathname,s)||a.nextLocation.pathname;return br(n.pathname,i)!=null||br(n.pathname,r)!=null}function Si(){const[e,t]=m.useState(!1);return l.jsx("nav",{className:"bg-white shadow-lg",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("div",{className:"flex-shrink-0",children:l.jsx("h1",{className:"text-2xl font-bold text-blue-600 dark:text-gray-100",children:"SportManager"})})}),l.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[l.jsx(Ze,{to:"/",className:"text-gray-700 hover:text-blue-600 px-2 md:px-3 py-2 rounded-md text-xs md:text-sm font-medium transition-colors duration-200",children:"Home"}),l.jsx(Ze,{to:"/login",className:"bg-blue-600 hover:bg-blue-700 text-white px-2 md:px-4 py-2 rounded-md text-xs md:text-sm font-medium transition-colors duration-200",children:"Login"})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{type:"button",className:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium",onClick:()=>t(!e),children:l.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e&&l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-200",children:[l.jsx(Ze,{to:"/",className:"text-gray-700 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>t(!1),children:"Home"}),l.jsx(Ze,{to:"/login",className:"text-gray-700 hover:text-blue-600 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>t(!1),children:"Login"}),l.jsx(Ze,{to:"/register",className:"bg-blue-600 hover:bg-blue-700 text-white block px-3 py-2 rounded-md text-base font-medium",onClick:()=>t(!1),children:"Register"})]})})]})})}const V={}.VITE_API_URL||"http://localhost:5001",k0={REGISTER:`${V}/api/auth/register`,LOGIN:`${V}/api/auth/login`,TEAMS:`${V}/api/auth/teams`,TEAM_BY_ID:e=>`${V}/api/auth/teams/${e}`};async function xb({email:e,password:t}){var o;const a=await fetch(k0.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});let s;try{s=await a.json()}catch{s=null}const n=(s==null?void 0:s.success)===!0;if(!a.ok||!n){const c=(s==null?void 0:s.message)||"Login failed",d=Array.isArray(s==null?void 0:s.errors)?s.errors.join(", "):"";throw new Error(d?`${c}: ${d}`:c)}const r=((o=s==null?void 0:s.data)==null?void 0:o.token)||(s==null?void 0:s.token),i=(s==null?void 0:s.data)||{teamName:s==null?void 0:s.teamName};return{token:r,user:i,message:s==null?void 0:s.message}}function D0(){return localStorage.removeItem("authToken"),localStorage.removeItem("teamName"),localStorage.removeItem("teamLogo"),sessionStorage.removeItem("authToken"),sessionStorage.removeItem("teamName"),sessionStorage.removeItem("teamLogo"),{success:!0,message:"Logged out successfully"}}const gb=[{to:"/dashboard",label:"Dashboard"},{to:"/dashboard/training-plans",label:"Training Plans"},{to:"/dashboard/events",label:"Events"},{to:"/dashboard/sessions",label:"Session Management"},{to:"/dashboard/settings",label:"Settings"}],yb=[{to:"/dashboard/players",label:"Players"},{to:"/dashboard/coaches",label:"Coaches"}];function bb(){const e=ha(),t=Fe(),[a,s]=m.useState(!1),[n,r]=m.useState(!1),i=()=>{D0(),t("/",{replace:!0})};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[l.jsx("div",{className:"font-semibold text-blue-600 dark:text-gray-100",children:"SportManager"}),l.jsx("button",{onClick:()=>s(o=>!o),className:"rounded-md border border-gray-300 px-3 py-1 text-sm","aria-label":"Toggle navigation",children:"Menu"})]}),l.jsx("div",{className:"mx-auto max-w-7xl",children:l.jsxs("div",{className:"flex",children:[l.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 z-40 w-64 transform bg-white border-r border-gray-200 transition-transform ${a?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[l.jsx("div",{className:"hidden md:flex items-center gap-2 px-4 py-4 border-b border-gray-200",children:l.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-gray-100",children:"SportManager"})}),l.jsxs("nav",{className:"p-3 space-y-1",children:[gb.map(o=>{const c=e.pathname===o.to;return l.jsx(Ze,{to:o.to,className:`block rounded-md px-3 py-2 text-sm ${c?"bg-blue-600 text-white":"text-gray-800 hover:bg-gray-100"}`,onClick:()=>s(!1),children:o.label},o.to)}),l.jsxs("div",{className:"border-t border-gray-200 pt-1 mt-1",children:[l.jsxs("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between rounded-md px-3 py-2 text-sm text-gray-800 hover:bg-gray-100",children:[l.jsx("span",{children:"Administration des Ressources Humaines"}),l.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&l.jsx("div",{className:"pl-4 py-1 space-y-1",children:yb.map(o=>{const c=e.pathname===o.to;return l.jsx(Ze,{to:o.to,className:`block rounded-md px-3 py-2 text-sm ${c?"bg-blue-600 text-white":"text-gray-800 hover:bg-gray-100"}`,onClick:()=>s(!1),children:o.label},o.to)})})]}),l.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to logout?")&&i()},className:"block w-full text-left rounded-md px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors duration-200",children:"Logout"})]})]}),l.jsxs("main",{className:"flex-1 md:ml-0 ml-0 w-full md:w-auto md:pl-0 pl-0 md:py-6",children:[l.jsx("div",{className:"md:ml-64"}),l.jsx("div",{className:"px-4 md:px-6 py-4",children:l.jsx(My,{})})]})]})})]})}const pb=({onClose:e})=>{const t=Fe(),[a,s]=m.useState(""),[n,r]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(!1),f=async b=>{if(b.preventDefault(),o(""),!a.trim()||!n.trim()){o("Please fill in all fields");return}d(!0);try{const u=await fetch(`${V}/api/player-auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})}),y=await u.json();if(!u.ok)throw new Error(y.message||"Login failed");localStorage.setItem("playerToken",y.data.token),localStorage.setItem("playerData",JSON.stringify(y.data.user)),localStorage.setItem("userType","player"),e(),t("/player-dashboard")}catch(u){o(u.message||"Login failed")}finally{d(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Player Login"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),i&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:i}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:a,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password (Your Name)"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:b=>r(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use your full name as the password"})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Need help? Contact your team administrator"})})]})})},vb=({onClose:e})=>{const t=Fe(),[a,s]=m.useState(""),[n,r]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(!1),f=async b=>{if(b.preventDefault(),o(""),!a.trim()||!n.trim()){o("Please fill in all fields");return}d(!0);try{const u=await fetch(`${V}/api/coach-auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:n})}),y=await u.json();if(!u.ok)throw new Error(y.message||"Login failed");localStorage.setItem("coachToken",y.data.token),localStorage.setItem("coachData",JSON.stringify(y.data.user)),localStorage.setItem("userType","coach"),e(),t("/coach-dashboard")}catch(u){o(u.message||"Login failed")}finally{d(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coach Login"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),i&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:i}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:a,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password (Your Name)"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:b=>r(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name",required:!0}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use your full name as the password"})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign In"})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Need help? Contact your team administrator"})})]})})},jb=()=>{const[e,t]=m.useState(!1),[a,s]=m.useState(!1),n=[{id:"Football",name:"Football",description:"Manage your football team with professional tools and analytics.",image:"/images/sports/football.jpg"},{id:"Natation",name:"Natation",description:"Track swimming performance and manage your swimming team effectively.",image:"/images/sports/natation.jpg"},{id:"Handball",name:"Handball",description:"Organize your handball team with comprehensive management features.",image:"/images/sports/handball.webp"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800"}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),l.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-32",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mb-8",children:l.jsx("span",{className:"inline-block px-4 py-2 bg-white bg-opacity-20 rounded-full text-blue-100 text-sm font-medium mb-4",children:" Professional Sports Management"})}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight",children:["Elevate Your",l.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500",children:"Team Performance"})]}),l.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-4xl mx-auto mb-10 leading-relaxed",children:"The ultimate sports management platform that empowers coaches, managers, and athletes to achieve peak performance through intelligent analytics, seamless communication, and professional tools."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[l.jsxs("button",{onClick:()=>s(!0),className:"group relative bg-white text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-xl font-bold text-base transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[l.jsx("span",{className:"relative z-10",children:"Join as a Coach"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]}),l.jsxs("button",{onClick:()=>t(!0),className:"group relative bg-blue-600 text-white hover:bg-blue-700 px-6 py-3 rounded-xl font-bold text-base transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[l.jsx("span",{className:"relative z-10",children:"Join as Player"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]}),l.jsxs(Ze,{to:"/register",className:"group relative bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-6 py-3 rounded-xl font-bold text-base transition-all duration-300 transform hover:scale-105 hover:shadow-2xl inline-flex items-center",children:[l.jsx("span",{className:"relative z-10",children:"Register Team"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500 to-green-600 rounded-xl opacity-0 group-hover:opacity-20 transition-opacity duration-300"})]})]}),l.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:l.jsxs("p",{className:"text-blue-100 text-center text-lg leading-relaxed",children:[l.jsx("span",{className:"font-semibold text-white",children:"Coaches:"})," Manage your team, track attendance, and create training plans.",l.jsx("br",{}),l.jsx("span",{className:"font-semibold text-white",children:"Players:"})," Join your team, view schedules, and track your performance."]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"500+"}),l.jsx("div",{className:"text-blue-100",children:"Teams Managed"})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"10K+"}),l.jsx("div",{className:"text-blue-100",children:"Active Players"})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6",children:[l.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"50+"}),l.jsx("div",{className:"text-blue-100",children:"Sports Supported"})]})]})]})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:l.jsx("svg",{viewBox:"0 0 1440 120",className:"w-full h-20 fill-white",children:l.jsx("path",{d:"M0,32L48,37.3C96,43,192,53,288,58.7C384,64,480,64,576,58.7C672,53,768,43,864,48C960,53,1056,75,1152,80C1248,85,1344,75,1392,69.3L1440,64L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})})})]}),l.jsx("div",{className:"py-24 bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Powerful Features for",l.jsx("span",{className:"block text-blue-600",children:"Every Athlete & Coach"})]}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover the comprehensive tools that make SportManager the preferred choice for sports teams worldwide."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-2xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Analytics"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Get detailed performance metrics, player statistics, and team analytics to make data-driven decisions."})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 p-8 rounded-2xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Communication"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Seamless communication tools for coaches, players, and staff with real-time messaging and notifications."})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 p-8 rounded-2xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Training Management"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Plan, schedule, and track training sessions with detailed workout plans and progress monitoring."})]})]})]})}),l.jsx("div",{className:"py-24 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Choose Your Sport"}),l.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select your sport to unlock specialized management tools and analytics tailored for your team's needs."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,i)=>l.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3",style:{animationDelay:`${i*150}ms`},children:[l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),l.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),l.jsxs("div",{className:"absolute bottom-6 left-6 z-20",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-yellow-400 transition-colors duration-300",children:r.name}),l.jsx("div",{className:"w-12 h-1 bg-yellow-400 rounded-full"})]})]}),l.jsxs("div",{className:"p-8",children:[l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:r.description}),l.jsxs(Ze,{to:`/register?pack=${r.id}`,className:"inline-flex items-center justify-center w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg",children:["Get Started",l.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]},r.id))})]})}),l.jsx("footer",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"SportManager"}),l.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Empowering sports teams with professional management tools, analytics, and communication platforms to achieve peak performance."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Product"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Features"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Pricing"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"API"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Documentation"})})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Help Center"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Contact Us"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Privacy Policy"})}),l.jsx("li",{children:l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Terms of Service"})})]})]})]}),l.jsx("div",{className:"border-t border-gray-700 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:" 2025 SportManager. All rights reserved."}),l.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Privacy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Terms"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Cookies"})]})]})})]})}),e&&l.jsx(pb,{onClose:()=>t(!1)}),a&&l.jsx(vb,{onClose:()=>s(!1)})]})},Nb=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function wb({onSuccess:e}){const[t,a]=m.useState(""),[s,n]=m.useState(""),[r,i]=m.useState(""),[o,c]=m.useState(!1),d=()=>Nb.test(t)?s.trim()?!0:(i("Password is required."),!1):(i("Please enter a valid email address."),!1),f=async b=>{if(b.preventDefault(),i(""),!!d()){c(!0);try{const{token:u,user:y}=await xb({email:t,password:s});e&&e(u,y)}catch(u){i(u.message||"Login failed")}finally{c(!1)}}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-md p-6 sm:p-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1 text-center",children:"Welcome back"}),l.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Sign in to your admin dashboard"}),r&&l.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-3 text-sm text-red-700 border border-red-200",children:r}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none",placeholder:"you@example.com",value:t,onChange:b=>a(b.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none",placeholder:"",value:s,onChange:b=>n(b.target.value)})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full inline-flex justify-center items-center rounded-md bg-blue-600 px-4 py-2 text-white font-medium shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-60 disabled:cursor-not-allowed",children:o?"Signing in":"Sign in"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",l.jsx(Ze,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Register here"})]})})]})})}function Sb(){const e=Fe();m.useEffect(()=>{(localStorage.getItem("authToken")||sessionStorage.getItem("authToken"))&&e("/dashboard",{replace:!0})},[e]);const t=(a,s)=>{a&&localStorage.setItem("authToken",a),(s!=null&&s._id||s!=null&&s.id)&&localStorage.setItem("teamId",s._id||s.id),s!=null&&s.teamName&&localStorage.setItem("teamName",s.teamName),s!=null&&s.logo&&localStorage.setItem("teamLogo",s.logo),s!=null&&s.discipline&&localStorage.setItem("teamDiscipline",s.discipline),e("/dashboard",{replace:!0})};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:l.jsx(Ze,{to:"/",className:"inline-flex items-center px-3 py-2 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50 font-medium",children:" Back to Home"})}),l.jsx(wb,{onSuccess:t})]})}const Eb=()=>{const[e]=cb(),t=Fe(),[a,s]=m.useState({teamName:"",discipline:"",email:"",password:"",confirmPassword:"",phone:""}),[n,r]=m.useState(""),[i,o]=m.useState(null),[c,d]=m.useState(null),[f,b]=m.useState({}),[u,y]=m.useState(!1),[N,p]=m.useState(!1),[C,g]=m.useState(!1),x=[{value:"Football",label:"Football",description:"Soccer team management"},{value:"Natation",label:"Natation",description:"Swimming team management"},{value:"Handball",label:"Handball",description:"Handball team management"}];m.useEffect(()=>{const k=e.get("pack");k&&s(S=>({...S,discipline:k}))},[e]);const h=k=>{const{name:S,value:j}=k.target;s(M=>({...M,[S]:j})),f[S]&&b(M=>({...M,[S]:""}))},v=k=>{const S=k.target.files[0];if(S){if(!S.type.startsWith("image/")){b(M=>({...M,teamLogo:"Please select a valid image file (JPG, PNG, GIF, WebP)"}));return}if(S.size>5*1024*1024){b(M=>({...M,teamLogo:"File size must be less than 5MB. Please choose a smaller image."}));return}o(S),b(M=>({...M,teamLogo:""}));const j=new FileReader;j.onload=M=>d(M.target.result),j.readAsDataURL(S)}},w=()=>{const k={};a.teamName.trim()?a.teamName.trim().length<2?k.teamName="Team name must be at least 2 characters":a.teamName.trim().length>50&&(k.teamName="Team name must be less than 50 characters"):k.teamName="Team name is required",a.discipline||(k.discipline="Please select a discipline");const S=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.email?S.test(a.email)||(k.email="Please enter a valid email address (e.g., team@example.com)"):k.email="Email is required",a.password?a.password.length<6?k.password="Password must be at least 6 characters":a.password.length>128&&(k.password="Password must be less than 128 characters"):k.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(k.confirmPassword="Passwords do not match. Please make sure both passwords are identical."):k.confirmPassword="Please confirm your password",n?/^\d{8}$/.test(n)||(k.phone="Enter 8 digits (Tunisia). Example: 50123456"):k.phone="Phone number is required",i&&!i.type.startsWith("image/")&&(k.teamLogo="Please select a valid image file"),b(k),Object.keys(k).length===0},O=async k=>{if(k.preventDefault(),!!w()){y(!0);try{const S=new FormData,j={...a,phone:n?`+216${n}`:""};Object.keys(j).forEach(J=>{S.append(J,j[J])}),i&&S.append("teamLogo",i);const M=await fetch(k0.REGISTER,{method:"POST",body:S});if(M.ok){const J=await M.json();alert(" Registration successful! Welcome to SportManager!"),t("/login")}else{const J=await M.json();alert(` Registration failed: ${J.message||"Something went wrong"}`)}}catch(S){console.error("Registration error:",S),alert(" Registration failed. Please check your internet connection and try again.")}finally{y(!1)}}};return l.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("div",{className:"mb-4 flex justify-start",children:l.jsx(Ze,{to:"/",className:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-sm text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:hover:bg-gray-800",title:"Back to Home",children:" Back"})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Ze,{to:"/",className:"text-2xl font-bold text-blue-600 mb-2 block",children:"SportManager"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Team Account"}),l.jsx("p",{className:"text-gray-600",children:"Join our platform and start managing your team like a pro"}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:[" ",l.jsx("strong",{children:"Tip:"})," All fields marked with * are required. Take your time to fill them out correctly!"]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[l.jsxs("form",{onSubmit:O,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Team Name * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(2-50 characters)"})]}),l.jsx("input",{type:"text",id:"teamName",name:"teamName",value:a.teamName,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.teamName?"border-red-500":"border-gray-300"}`,placeholder:"Enter your team name (e.g., Thunder Hawks)",maxLength:50}),f.teamName&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.teamName}),l.jsx("p",{className:"mt-1 text-xs text-gray-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"discipline",className:"block text-sm font-medium text-gray-700 mb-2",children:["Sport Discipline * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(Select your sport)"})]}),l.jsxs("select",{id:"discipline",name:"discipline",value:a.discipline,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.discipline?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a discipline"}),x.map(k=>l.jsxs("option",{value:k.value,children:[k.label," - ",k.description]},k.value))]}),f.discipline&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.discipline}),l.jsx("p",{className:"mt-1 text-xs text-gray-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Team Email * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(Used for login)"})]}),l.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:h,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"team@example.com"}),f.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email}),l.jsx("p",{className:"mt-1 text-xs text-gray-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(6+ characters)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:N?"text":"password",id:"password",name:"password",value:a.password,onChange:h,className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.password?"border-red-500":"border-gray-300"}`,placeholder:"Create a strong password",maxLength:128}),l.jsx("button",{type:"button",onClick:()=>p(!N),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:N?"":""})]}),f.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password}),l.jsx("p",{className:"mt-1 text-xs text-gray-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(Must match)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:C?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:h,className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Re-enter your password",maxLength:128}),l.jsx("button",{type:"button",onClick:()=>g(!C),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:C?"":""})]}),f.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.confirmPassword}),l.jsx("p",{className:"mt-1 text-xs text-gray-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Phone Number * ",l.jsx("span",{className:"text-xs text-gray-500",children:"(Tunisia only)"})]}),l.jsxs("div",{className:`flex items-stretch rounded-md border ${f.phone?"border-red-500":"border-gray-300"} overflow-hidden bg-white dark:bg-gray-900 dark:border-gray-600`,children:[l.jsxs("span",{className:"inline-flex items-center gap-2 px-3 text-sm bg-gray-50 border-r border-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100",children:[l.jsx("span",{role:"img","aria-label":"Tunisia",children:""}),"+216"]}),l.jsx("input",{type:"tel",inputMode:"numeric",maxLength:8,value:n,onChange:k=>{const S=k.target.value.replace(/[^\d]/g,"").slice(0,8);r(S)},className:"flex-1 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-900 dark:text-gray-100",placeholder:"50123456","aria-label":"Tunisian local number (8 digits)"})]}),f.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.phone}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We only support Tunisian numbers (+216). Enter 8 digits."})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"teamLogo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Team Logo ",l.jsx("span",{className:"text-xs text-gray-500",children:"(Optional - Max 5MB)"})]}),l.jsx("input",{type:"file",id:"teamLogo",name:"teamLogo",accept:"image/*",onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-900 dark:text-gray-100 dark:border-gray-600"}),f.teamLogo&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.teamLogo}),c&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Logo Preview:"}),l.jsx("img",{src:c,alt:"Team logo preview",className:"w-24 h-24 object-cover rounded-md border border-gray-300"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:" Upload your team logo (JPG, PNG, GIF, WebP). This will appear on your team profile."})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-md transition-colors duration-200",children:u?"Creating Account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",l.jsx(Ze,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Need Help?"}),l.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[l.jsx("li",{children:" Make sure all required fields (*) are filled"}),l.jsx("li",{children:" Use a strong password with 6+ characters"}),l.jsx("li",{children:" Ensure your email is valid and accessible"}),l.jsx("li",{children:" Phone number should include country code if international"}),l.jsx("li",{children:" Logo file should be an image under 5MB"})]})]})]})]})})},Cb=()=>localStorage.getItem("authToken")||localStorage.getItem("playerToken")||localStorage.getItem("coachToken")||sessionStorage.getItem("authToken")||sessionStorage.getItem("playerToken")||sessionStorage.getItem("coachToken"),se=()=>{const e=Cb(),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},Ha=async()=>{var a;console.log("Fetching players with headers:",se());const e=await fetch(`${V}/api/players`,{method:"GET",headers:se()});if(!e.ok){const s=await e.json();throw console.error("Player fetch error response:",s),new Error(s.message||"Failed to fetch players")}const t=await e.json();return console.log("Player service response:",t),console.log("Player service data length:",((a=t.data)==null?void 0:a.length)||0),t.data},Tb=async e=>{const t=await fetch(`${V}/api/players/${e}`,{method:"GET",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to fetch player")}return(await t.json()).data},kb=async e=>{const t=await fetch(`${V}/api/players`,{method:"POST",headers:se(),body:JSON.stringify(e)});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to create player")}return(await t.json()).data},Db=async(e,t)=>{const a=await fetch(`${V}/api/players/${e}`,{method:"PUT",headers:se(),body:JSON.stringify(t)});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to update player")}return(await a.json()).data},Ab=async e=>{const t=await fetch(`${V}/api/players/${e}`,{method:"DELETE",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to delete player")}return await t.json()};function A0({isOpen:e,onClose:t,onCreated:a}){const[s,n]=m.useState({fullName:"",dateOfBirth:"",group:"Minimum",subgroup:"",email:"",phone:"",heightCm:"",weightKg:"",monthlyFee:"",inscriptionFee:""}),[r,i]=m.useState(!1),[o,c]=m.useState(""),d=b=>{const{name:u,value:y}=b.target;n(N=>({...N,[u]:y}))},f=async b=>{b.preventDefault(),i(!0),c("");try{const u={...s};u.monthlyFee!==""&&(u.monthlyFee=Number(u.monthlyFee)),u.heightCm!==""&&(u.heightCm=Number(u.heightCm)),u.weightKg!==""&&(u.weightKg=Number(u.weightKg)),await kb(u),a(),n({fullName:"",dateOfBirth:"",group:"Minimum",subgroup:"",email:"",phone:"",heightCm:"",weightKg:"",monthlyFee:"",inscriptionFee:""}),t()}catch(u){c(u.message||"Failed to create player")}finally{i(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Player"}),o&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:o}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),l.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),l.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category *"}),l.jsxs("select",{name:"group",value:s.group,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"Poussin",children:"Poussin"}),l.jsx("option",{value:"Ecole",children:"Ecole"}),l.jsx("option",{value:"Minimum",children:"Minimum"}),l.jsx("option",{value:"Cadet",children:"Cadet"}),l.jsx("option",{value:"Junior",children:"Junior"}),l.jsx("option",{value:"Senior",children:"Senior"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Fee (DT)"}),l.jsx("input",{type:"number",name:"monthlyFee",value:s.monthlyFee,onChange:d,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inscription Fee (DT)"}),l.jsx("input",{type:"number",name:"inscriptionFee",value:s.inscriptionFee,onChange:d,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:d,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"+216 50123456"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Height (cm)"}),l.jsx("input",{type:"number",name:"heightCm",value:s.heightCm,onChange:d,min:"0",step:"0.1",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weightKg",value:s.weightKg,onChange:d,min:"0",step:"0.1",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:r?"Creating...":"Create Player"})]})]})]})]})}):null}const ll=async()=>{var a;const e=await fetch(`${V}/api/coaches`,{method:"GET",headers:se()});if(!e.ok){const s=await e.json();throw new Error(s.message||"Failed to fetch coaches")}const t=await e.json();return console.log("Coach service response:",t),console.log("Coach service data length:",((a=t.data)==null?void 0:a.length)||0),t.data},Mb=async e=>{const t=await fetch(`${V}/api/coaches/${e}`,{method:"GET",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to fetch coach")}return(await t.json()).data},Ob=async e=>{console.log("Creating coach with data:",e),console.log("Auth headers:",se());const t=await fetch(`${V}/api/coaches`,{method:"POST",headers:se(),body:JSON.stringify(e)});if(!t.ok){const s=await t.json();throw console.error("Coach creation error response:",s),new Error(s.message||"Failed to create coach")}return(await t.json()).data},_b=async(e,t)=>{const a=await fetch(`${V}/api/coaches/${e}`,{method:"PUT",headers:se(),body:JSON.stringify(t)});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to update coach")}return(await a.json()).data},Rb=async e=>{const t=await fetch(`${V}/api/coaches/${e}`,{method:"DELETE",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to delete coach")}return await t.json()};function M0({isOpen:e,onClose:t,onCreated:a}){const[s,n]=m.useState({fullName:"",email:"",dateOfBirth:"",specialization:"",yearsOfExperience:"",agreedSalary:"",contactNumber:""}),[r,i]=m.useState(!1),[o,c]=m.useState(""),d=b=>{const{name:u,value:y}=b.target;n(N=>({...N,[u]:y}))},f=async b=>{b.preventDefault(),i(!0),c("");try{const u={...s};u.yearsOfExperience!==""&&(u.yearsOfExperience=Number(u.yearsOfExperience)),u.agreedSalary!==""&&(u.agreedSalary=Number(u.agreedSalary)),await Ob(u),a(),n({fullName:"",email:"",dateOfBirth:"",specialization:"",yearsOfExperience:"",agreedSalary:"",contactNumber:""}),t()}catch(u){c(u.message||"Failed to create coach")}finally{i(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Coach"}),o&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:o}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),l.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),l.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specialization *"}),l.jsx("input",{type:"text",name:"specialization",value:s.specialization,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),l.jsx("input",{type:"number",name:"yearsOfExperience",value:s.yearsOfExperience,onChange:d,min:"0",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agreed Salary"}),l.jsx("input",{type:"number",name:"agreedSalary",value:s.agreedSalary,onChange:d,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),l.jsx("input",{type:"text",name:"contactNumber",value:s.contactNumber,onChange:d,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:r?"Creating...":"Create Coach"})]})]})]})]})}):null}const O0=async(e,{group:t,subgroup:a}={})=>{const s=new URLSearchParams;t&&s.set("group",t),a&&s.set("subgroup",a);const n=s.toString()?`?${s.toString()}`:"",r=await fetch(`${V}/api/training-sessions/session/${e}${n}`,{method:"GET",headers:se()});if(!r.ok){const o=await r.json();throw new Error(o.message||"Failed to fetch training sessions")}return(await r.json()).data},zb=async e=>{const t=await fetch(`${V}/api/training-sessions/${e}`,{method:"GET",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to fetch training session")}return(await t.json()).data},Lb=async e=>{const t=await fetch(`${V}/api/training-sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to create training session")}return(await t.json()).data},Ac=async(e,t)=>{const a=await fetch(`${V}/api/training-sessions/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to update training session")}return(await a.json()).data},Ub=async e=>{const t=await fetch(`${V}/api/training-sessions/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to delete training session")}return await t.json()},ma=async e=>{if(!e)throw new Error("Team ID is required");const t=await fetch(`${V}/api/sessions?teamId=${e}`,{method:"GET",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to fetch sessions")}return(await t.json()).data},Bb=async e=>{const t=await fetch(`${V}/api/sessions/${e}`,{method:"DELETE",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to delete session")}return await t.json()},_0=async(e,t)=>{const a=await fetch(`${V}/api/sessions/${e}/players/${t}`,{method:"POST",headers:se()});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to add player to session")}return(await a.json()).data},R0=async(e,t)=>{const a=await fetch(`${V}/api/sessions/${e}/players/${t}`,{method:"DELETE",headers:se()});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to remove player from session")}return(await a.json()).data},z0=async(e,t)=>{const a=await fetch(`${V}/api/sessions/${e}/coaches/${t}`,{method:"POST",headers:se()});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to add coach to session")}return(await a.json()).data},L0=async(e,t)=>{const a=await fetch(`${V}/api/sessions/${e}/coaches/${t}`,{method:"DELETE",headers:se()});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to remove coach from session")}return(await a.json()).data},Mc=async(e={})=>{const t=localStorage.getItem("teamId"),a={...e};t&&!a.team&&(a.team=t);const s=new URLSearchParams(a).toString(),n=`${V}/api/events${s?`?${s}`:""}`,r=await fetch(n,{method:"GET",headers:se()}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to fetch events");return i.data},Hb=async e=>{const t=await fetch(`${V}/api/events/${e}`,{method:"GET",headers:se()}),a=await t.json();if(!t.ok)throw new Error(a.message||"Failed to fetch event");return a.data},qb=async e=>{const t=localStorage.getItem("teamId"),a=await fetch(`${V}/api/events`,{method:"POST",headers:se(),body:JSON.stringify({...e,team:e.team||t})}),s=await a.json();if(!a.ok)throw new Error(s.message||"Failed to create event");return s.data},Gb=async(e,t)=>{const a=localStorage.getItem("teamId"),s=await fetch(`${V}/api/events/${e}`,{method:"PUT",headers:se(),body:JSON.stringify({...t,team:t.team||a})}),n=await s.json();if(!s.ok)throw new Error(n.message||"Failed to update event");return n.data},$b=async e=>{const t=await fetch(`${V}/api/events/${e}`,{method:"DELETE",headers:se()}),a=await t.json();if(!t.ok)throw new Error(a.message||"Failed to delete event");return a},So=async({sessionId:e,subjectType:t})=>{const a=await fetch(`${V}/api/payments/${e}/schedule?subjectType=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to load payment schedule")}return(await a.json()).data},Yb=async({sessionId:e,subjectId:t,subjectType:a,year:s,month:n,status:r,amount:i,notes:o})=>{const c=await fetch(`${V}/api/payments/${e}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subjectId:t,subjectType:a,year:s,month:n,status:r,amount:i,notes:o})});if(!c.ok){const f=await c.json();throw new Error(f.message||"Failed to update payment status")}return(await c.json()).data};function Xb(){var F,Z,_,X;const e=Fe(),[t,a]=m.useState(localStorage.getItem("teamName")||""),[s,n]=m.useState(localStorage.getItem("teamLogo")||""),[r,i]=m.useState(localStorage.getItem("teamDiscipline")||""),[o,c]=m.useState(!1),[d,f]=m.useState(!1),[b,u]=m.useState(!t),[y,N]=m.useState({players:[],coaches:[],trainingSessions:[],events:[]}),[p,C]=m.useState(!0),[g,x]=m.useState(""),[h,v]=m.useState({Minimum:0,Cadet:0,Junior:0,Senior:0}),[w,O]=m.useState([]),k=()=>localStorage.getItem("authToken")||sessionStorage.getItem("authToken");m.useEffect(()=>{const A=k();if(!A){e("/login",{replace:!0});return}if(t)u(!1);else{const T=new AbortController;return(async()=>{var q,te;try{const le=await fetch(`${V}/api/auth/me`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},signal:T.signal});if(le.ok){const ne=await le.json(),K=(ne==null?void 0:ne.data)||ne,ie=(K==null?void 0:K.teamName)||((q=K==null?void 0:K.team)==null?void 0:q.teamName)||"",ye=((te=K==null?void 0:K.team)==null?void 0:te.logo)||(K==null?void 0:K.logo)||"";ie&&(localStorage.setItem("teamName",ie),a(ie)),ye&&(localStorage.setItem("teamLogo",ye),n(ye))}}catch{}u(!1)})(),()=>T.abort()}},[e]),m.useEffect(()=>{const A=T=>{var le,ne;const q=(le=T==null?void 0:T.detail)==null?void 0:le.teamName,te=(ne=T==null?void 0:T.detail)==null?void 0:ne.teamLogo;typeof q=="string"&&a(q),typeof te=="string"&&n(te)};return window.addEventListener("sm-team-updated",A),()=>window.removeEventListener("sm-team-updated",A)},[]);const S=async()=>{C(!0),x("");try{console.log("Starting to load dashboard data...");let A=[],T=[],q=[],te=[];try{A=await Ha(),console.log("Players loaded:",(A==null?void 0:A.length)||0)}catch(K){console.error("Failed to load players:",K)}try{T=await ll(),console.log("Coaches loaded:",(T==null?void 0:T.length)||0)}catch(K){console.error("Failed to load coaches:",K)}try{const K=localStorage.getItem("teamId"),ie=K?await ma(K):[],xe=(await Promise.all((ie||[]).map(z=>O0(z._id)))).flat(),Y=new Date().toLocaleDateString("en-US",{weekday:"long"});q=xe.filter(z=>z.dayOfWeek===Y),console.log("Sessions loaded:",(q==null?void 0:q.length)||0)}catch(K){console.error("Failed to load training sessions:",K)}try{te=await Mc({startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().setDate(new Date().getDate()+7)).toISOString().split("T")[0]}),console.log("Events loaded:",(te==null?void 0:te.length)||0)}catch(K){console.error("Failed to load events:",K)}console.log("Dashboard data loaded:",{players:(A==null?void 0:A.length)||0,coaches:(T==null?void 0:T.length)||0,sessions:(q==null?void 0:q.length)||0,events:(te==null?void 0:te.length)||0}),N({players:A||[],coaches:T||[],trainingSessions:q||[],events:te||[]});const le={Minimum:[],Cadet:[],Junior:[],Senior:[]};(A||[]).forEach(K=>{if(!K.dateOfBirth)return;const ie=new Date(K.dateOfBirth),ye=new Date;let xe=ye.getFullYear()-ie.getFullYear();const G=ye.getMonth()-ie.getMonth();(G<0||G===0&&ye.getDate()<ie.getDate())&&xe--,Number.isFinite(xe)&&xe>=0&&xe<=100&&(le[K.group]||le.Minimum).push(xe)});const ne=Object.fromEntries(Object.entries(le).map(([K,ie])=>[K,ie.length?ie.reduce((ye,xe)=>ye+xe,0)/ie.length:0]));v(ne);try{const K=await So({sessionId:null,subjectType:"player"}),ie=(K.months||[]).slice(0,6),ye=K.schedule||[],xe=(I,Q)=>`${I}-${String(Q).padStart(2,"0")}`,G={},Y={};ie.forEach(({year:I,month:Q})=>{const ve=xe(I,Q);let L=0,$=0,U=0;ye.forEach(P=>{var B;const Je=Number(((B=P==null?void 0:P.subject)==null?void 0:B.baseAmount)||0);U+=Je;const E=(P.rows||[]).find(W=>W.year===I&&W.month===Q);E&&($+=1,E.status==="delayed"&&(L+=1))}),G[ve]=U,Y[ve]=$>0?L/$:0});const z=ie.map(({year:I,month:Q})=>({year:I,month:Q,expectedTotal:G[xe(I,Q)]||0,delayedPct:Y[xe(I,Q)]||0}));O(z)}catch(K){console.warn("Failed to load payment schedule for dashboard:",K==null?void 0:K.message),O([])}}catch(A){x("Failed to load dashboard data"),console.error("Dashboard data loading error:",A)}finally{C(!1)}};m.useEffect(()=>{b||S()},[b]);const j=()=>{D0(),e("/",{replace:!0})},J=(()=>{const A={Minimum:0,Cadet:0,Junior:0,Senior:0};return y.players.forEach(T=>{A.hasOwnProperty(T.group)&&A[T.group]++}),A})();console.log("Current dashboard data state:",{players:((F=y.players)==null?void 0:F.length)||0,coaches:((Z=y.coaches)==null?void 0:Z.length)||0,sessions:((_=y.trainingSessions)==null?void 0:_.length)||0,events:((X=y.events)==null?void 0:X.length)||0});const re=()=>y.events.sort((A,T)=>new Date(A.startDate)-new Date(T.startDate)).slice(0,5),ge=()=>y.trainingSessions.sort((A,T)=>A.startTime.localeCompare(T.startTime)).slice(0,5);return b?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"text-gray-600",children:"Loading dashboard"})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("header",{className:"mb-6 sm:mb-8 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[s?l.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full overflow-hidden ring-2 ring-gray-200 flex-shrink-0",children:l.jsx("img",{src:s.startsWith("http")?s:`${V}${s}`,alt:`${t} logo`,className:"w-full h-full object-cover",onError:A=>{A.currentTarget.src=s}})}):null,l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["Welcome, ",t]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your team resources from your dashboard."}),r&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Discipline: ",r]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:S,disabled:p,className:"inline-flex justify-center items-center rounded-md bg-gray-600 px-4 py-2 text-white font-medium shadow-sm hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 hover:scale-105 disabled:opacity-50",title:"Refresh dashboard data",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),l.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to logout?")&&j()},className:"inline-flex justify-center items-center rounded-md bg-red-600 px-4 py-2 text-white font-medium shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 hover:scale-105",children:"Logout"})]})]}),l.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative h-28 rounded-xl bg-white shadow-sm border border-gray-200 px-4 py-3 hover:shadow-md",children:[l.jsx("button",{onClick:()=>e("/dashboard/players"),className:"absolute inset-0 w-full h-full text-left focus:outline-none","aria-label":"Open players"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Players"}),l.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-gray-500"}):`${y.players.length} players`}),l.jsx("button",{onClick:A=>{A.stopPropagation(),c(!0)},className:"absolute bottom-3 right-3 inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Add player",children:"+"})]}),l.jsxs("div",{className:"relative h-28 rounded-xl bg-white shadow-sm border border-gray-200 px-4 py-3 hover:shadow-md",children:[l.jsx("button",{onClick:()=>e("/dashboard/coaches"),className:"absolute inset-0 w-full h-full text-left focus:outline-none","aria-label":"Open coaches"}),l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Coaches"}),l.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-gray-500"}):`${y.coaches.length} coaches`}),l.jsx("button",{onClick:A=>{A.stopPropagation(),f(!0)},className:"absolute bottom-3 right-3 inline-flex items-center justify-center w-10 h-10 rounded-full bg-green-600 text-white shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",title:"Add coach",children:"+"})]}),l.jsxs("button",{onClick:()=>e("/dashboard/training-plans"),className:"h-28 rounded-xl bg-white shadow-sm border border-gray-200 px-4 py-3 text-left hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition",children:[l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Training Plans"}),l.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-gray-500"}):`${y.trainingSessions.length} sessions today`})]}),l.jsxs("button",{onClick:()=>e("/dashboard/events"),className:"h-28 rounded-xl bg-white shadow-sm border border-gray-200 px-4 py-3 text-left hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition",children:[l.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Events"}),l.jsx("div",{className:"text-sm text-gray-500 mt-1",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-gray-500"}):`${y.events.length} events this week`})]})]}),l.jsxs("section",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Players by Group"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Live data"})]}),l.jsx("div",{className:"h-40 flex items-end gap-3",children:Object.entries(J).map(([A,T])=>{const te=T>0?Math.max(10,T/Math.max(...Object.values(J))*60):0,le={Minimum:"bg-blue-500",Cadet:"bg-green-500",Junior:"bg-yellow-500",Senior:"bg-purple-500"};return l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end",children:[l.jsx("div",{className:`${le[A]} rounded-t`,style:{height:`${te}px`,width:"100%",maxWidth:"32px"}}),l.jsx("div",{className:"mt-1 text-xs text-gray-600",children:A}),l.jsx("div",{className:"text-xs font-medium text-gray-900",children:T})]},A)})})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Average Age by Group"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Players"})]}),l.jsx("div",{className:"space-y-2",children:["Minimum","Cadet","Junior","Senior"].map(A=>{const T=h[A]||0,q=Math.min(1,T/40),te=A==="Minimum"?"bg-blue-500":A==="Cadet"?"bg-green-500":A==="Junior"?"bg-yellow-500":"bg-purple-500";return l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"flex justify-between text-gray-700 mb-1",children:[l.jsx("span",{children:A}),l.jsxs("span",{className:"font-medium",children:[T?T.toFixed(1):"0.0"," yrs"]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-100 rounded",children:l.jsx("div",{className:`${te} h-2 rounded`,style:{width:`${q*100}%`}})})]},A)})})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Payments (Expected & Delayed%)"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Players"})]}),l.jsx("div",{className:"space-y-3",children:w.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No payment data"}):w.map(({year:A,month:T,expectedTotal:q,delayedPct:te})=>{const le=new Date(A,T-1,1).toLocaleString(void 0,{month:"short"}),ne=Math.round(te*100),K=100-ne;return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[l.jsxs("span",{children:[le," ",String(A).slice(-2)]}),l.jsxs("span",{className:"font-medium",children:[q.toFixed(2)," DT"]})]}),l.jsxs("div",{className:"w-full h-3 bg-gray-100 rounded overflow-hidden flex",children:[l.jsx("div",{className:"bg-orange-400 h-3",style:{width:`${ne}%`},title:`Delayed ${ne}%`}),l.jsx("div",{className:"bg-emerald-400 h-3",style:{width:`${K}%`},title:`On-time/Pending ${K}%`})]})]},`${A}-${T}`)})})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Upcoming Events"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Next 7 days"})]}),l.jsx("div",{className:"h-40 overflow-y-auto",children:p?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"})}):g?l.jsx("div",{className:"text-red-500 text-sm",children:g}):y.events.length===0?l.jsx("div",{className:"text-gray-500 text-sm flex items-center justify-center h-full",children:"No upcoming events"}):l.jsx("ul",{className:"space-y-2",children:re().map(A=>{const T=new Date(A.startDate);return l.jsxs("li",{className:"text-sm border-b border-gray-100 pb-2 last:border-0",children:[l.jsx("div",{className:"font-medium text-gray-900 truncate",children:A.title}),l.jsxs("div",{className:"flex justify-between text-gray-500",children:[l.jsx("span",{children:T.toLocaleDateString()}),l.jsx("span",{children:A.eventType})]})]},A._id)})})})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Today's Sessions"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Today"})]}),l.jsx("div",{className:"h-40 overflow-y-auto",children:p?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"})}):l.jsx("ul",{className:"space-y-2",children:ge().length===0?l.jsx("div",{className:"text-gray-500 text-sm flex items-center justify-center h-full",children:"No sessions today"}):ge().map(A=>l.jsxs("li",{className:"text-sm border-b border-gray-100 pb-2 last:border-0",children:[l.jsx("div",{className:"font-medium text-gray-900 truncate",children:A.title}),l.jsxs("div",{className:"flex justify-between text-gray-500",children:[l.jsxs("span",{children:[A.startTime," - ",A.endTime]}),l.jsx("span",{children:A.group})]}),A.location&&l.jsx("div",{className:"text-xs text-gray-500 truncate",children:A.location})]},A._id))})})]})]}),l.jsxs("section",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-600"}):y.players.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Players"})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-green-600"}):y.coaches.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Coaches"})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-yellow-600"}):y.trainingSessions.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Sessions Today"})]}),l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:p?l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-purple-600"}):y.events.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Events This Week"})]})]}),l.jsx(A0,{isOpen:o,onClose:()=>c(!1),onCreated:()=>{S(),c(!1)}}),l.jsx(M0,{isOpen:d,onClose:()=>f(!1),onCreated:()=>{S(),f(!1)}})]})})}function Qb({isOpen:e,coach:t,onClose:a,onSaved:s}){const[n,r]=m.useState({fullName:"",email:"",dateOfBirth:"",specialization:"",yearsOfExperience:"",agreedSalary:"",contactNumber:""}),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[f,b]=m.useState("");m.useEffect(()=>{e&&t&&(d(!0),Mb(t._id).then(N=>{r({fullName:N.fullName||"",email:N.email||"",dateOfBirth:N.dateOfBirth?N.dateOfBirth.split("T")[0]:"",specialization:N.specialization||"",yearsOfExperience:N.yearsOfExperience||"",agreedSalary:N.agreedSalary||"",contactNumber:N.contactNumber||""})}).catch(N=>{b(N.message||"Failed to load coach data")}).finally(()=>{d(!1)}))},[e,t]);const u=N=>{const{name:p,value:C}=N.target;r(g=>({...g,[p]:C}))},y=async N=>{N.preventDefault(),o(!0),b("");try{const p={...n};p.yearsOfExperience!==""&&(p.yearsOfExperience=Number(p.yearsOfExperience)),p.agreedSalary!==""&&(p.agreedSalary=Number(p.agreedSalary)),await _b(t._id,p),s(),a()}catch(p){b(p.message||"Failed to update coach")}finally{o(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Edit Coach"}),f&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:f}),c?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading coach data..."})]}):l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),l.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),l.jsx("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specialization *"}),l.jsx("input",{type:"text",name:"specialization",value:n.specialization,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),l.jsx("input",{type:"number",name:"yearsOfExperience",value:n.yearsOfExperience,onChange:u,min:"0",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agreed Salary"}),l.jsx("input",{type:"number",name:"agreedSalary",value:n.agreedSalary,onChange:u,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),l.jsx("input",{type:"text",name:"contactNumber",value:n.contactNumber,onChange:u,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:a,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Updating...":"Update Coach"})]})]})]})]})}):null}function Zb(){const e=Fe(),[t,a]=m.useState([]),[s,n]=m.useState(!1),[r,i]=m.useState(""),[o,c]=m.useState(""),[d,f]=m.useState(null),[b,u]=m.useState(!1),[y,N]=m.useState(""),[p,C]=m.useState(""),g=w=>{if(w==null)return"N/A";try{return`${new Intl.NumberFormat(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}).format(w)} DT`}catch{return`${w} DT`}},x=async()=>{n(!0),i(""),c("");try{const w=await ll();a(w)}catch(w){i(w.message||"Failed to load coaches")}finally{n(!1)}};m.useEffect(()=>{x()},[]);const h=async w=>{if(window.confirm("Delete this coach?"))try{await Rb(w),c("Coach deleted successfully"),await x()}catch(O){i(O.message||"Failed to delete coach")}},v=m.useMemo(()=>{let w=t;if(p.trim()){const O=p.trim().toLowerCase();w=w.filter(k=>(k.fullName||"").toLowerCase().includes(O)||(k.email||"").toLowerCase().includes(O)||(k.specialization||"").toLowerCase().includes(O)||(k.contactNumber||"").toLowerCase().includes(O))}return w},[t,p]);return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Go back",children:" Back"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Coaches Management"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("input",{type:"text",value:p,onChange:w=>C(w.target.value),placeholder:"Search coaches...",className:"w-full sm:w-64 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{onClick:x,className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200 w-full sm:w-auto",title:"Refresh",children:"Refresh"}),l.jsx("button",{onClick:()=>u(!0),className:"text-sm rounded-md bg-blue-600 text-white px-3 py-2 hover:bg-blue-700 w-full sm:w-auto",title:"Add Coach",children:"+ Add Coach"})]})]}),o&&l.jsx("div",{className:"mb-3 text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:o}),s?l.jsx("div",{className:"text-gray-600",children:"Loading coaches"}):r?l.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-3 text-sm",children:r}):l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto hidden md:block",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date of Birth"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specialization"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agreed Salary"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:y?`No coaches found in category ${y}`:"No coaches found"})}):v.map(w=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.fullName})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:w.dateOfBirth?new Date(w.dateOfBirth).toLocaleDateString():"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:w.contactNumber||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:w.email||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:w.specialization||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:g(w.agreedSalary)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>f(w),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),l.jsx("button",{onClick:()=>h(w._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},w._id))})]})}),l.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:v.length===0?l.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:y?`No coaches found in category ${y}`:"No coaches found"}):v.map(w=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:w.fullName}),l.jsx("div",{className:"text-xs text-gray-500",children:w.dateOfBirth?new Date(w.dateOfBirth).toLocaleDateString():"N/A"}),l.jsx("div",{className:"text-xs text-gray-500",children:w.email||"N/A"}),l.jsx("div",{className:"text-xs text-gray-500",children:w.contactNumber||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"px-2 py-0.5 text-[10px] rounded-full bg-gray-100 text-gray-800",children:w.specialization||"N/A"}),l.jsx("span",{className:"px-2 py-0.5 text-[10px] rounded-full bg-emerald-100 text-emerald-800",children:g(w.agreedSalary)})]})]}),l.jsxs("div",{className:"mt-3 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>f(w),className:"text-xs text-blue-600",children:"Edit"}),l.jsx("button",{onClick:()=>h(w._id),className:"text-xs text-red-600",children:"Delete"})]})]},w._id))})]})]}),l.jsx(M0,{isOpen:b,onClose:()=>u(!1),onCreated:()=>{u(!1),x()}}),l.jsx(Qb,{isOpen:!!d,coach:d,onClose:()=>f(null),onSaved:()=>{f(null),x()}})]})}function Vb({isOpen:e,player:t,onClose:a,onSaved:s}){const[n,r]=m.useState({fullName:"",dateOfBirth:"",group:"Minimum",subgroup:"",email:"",phone:"",heightCm:"",weightKg:"",monthlyFee:""}),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[f,b]=m.useState("");m.useEffect(()=>{e&&t&&(d(!0),Tb(t._id).then(N=>{r({fullName:N.fullName||"",dateOfBirth:N.dateOfBirth?N.dateOfBirth.split("T")[0]:"",group:N.group||"Minimum",subgroup:N.subgroup||"",email:N.email||"",phone:N.phone||"",heightCm:(N.heightCm??"")===""?"":N.heightCm??"",weightKg:(N.weightKg??"")===""?"":N.weightKg??"",monthlyFee:N.monthlyFee||""})}).catch(N=>{b(N.message||"Failed to load player data")}).finally(()=>{d(!1)}))},[e,t]);const u=N=>{const{name:p,value:C}=N.target;r(g=>({...g,[p]:C}))},y=async N=>{N.preventDefault(),o(!0),b("");try{const p={...n};p.monthlyFee!==""&&(p.monthlyFee=Number(p.monthlyFee)),p.heightCm!==""&&(p.heightCm=Number(p.heightCm)),p.weightKg!==""&&(p.weightKg=Number(p.weightKg)),await Db(t._id,p),s(),a()}catch(p){b(p.message||"Failed to update player")}finally{o(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Edit Player"}),f&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:f}),c?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading player data..."})]}):l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),l.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth *"}),l.jsx("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category *"}),l.jsxs("select",{name:"group",value:n.group,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"Poussin",children:"Poussin"}),l.jsx("option",{value:"Ecole",children:"Ecole"}),l.jsx("option",{value:"Minimum",children:"Minimum"}),l.jsx("option",{value:"Cadet",children:"Cadet"}),l.jsx("option",{value:"Junior",children:"Junior"}),l.jsx("option",{value:"Senior",children:"Senior"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Fee (DT)"}),l.jsx("input",{type:"number",name:"monthlyFee",value:n.monthlyFee,onChange:u,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),l.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:u,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Height (cm)"}),l.jsx("input",{type:"number",name:"heightCm",value:n.heightCm,onChange:u,min:"0",step:"0.1",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weightKg",value:n.weightKg,onChange:u,min:"0",step:"0.1",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:a,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Updating...":"Update Player"})]})]})]})]})}):null}const Kb=["Poussin","Ecole","Minimum","Cadet","Junior","Senior"];function Fb(){const e=Fe(),[t,a]=m.useState([]),[s,n]=m.useState([]),[r,i]=m.useState(!1),[o,c]=m.useState(""),[d,f]=m.useState(""),[b,u]=m.useState(null),[y,N]=m.useState(!1),[p,C]=m.useState(""),[g,x]=m.useState(""),h=async()=>{i(!0),c(""),f("");try{const[S,j]=await Promise.all([Ha(),v()]);a(S),n(j)}catch(S){c(S.message||"Failed to load data")}finally{i(!1)}},v=async()=>{const S=localStorage.getItem("teamId");try{const j=await fetch(`${V}/api/sessions?teamId=${S}`,{method:"GET",headers:se()});if(!j.ok)return console.warn("Failed to fetch sessions, returning empty subgroups"),[];const re=((await j.json()).data||[]).map(async Z=>{try{const _=await fetch(`${V}/api/subgroups/session/${Z._id}?teamId=${S}`,{method:"GET",headers:se()});return _.ok?(await _.json()).data||[]:[]}catch(_){return console.warn(`Failed to fetch subgroups for session ${Z._id}:`,_),[]}});return(await Promise.all(re)).flat()}catch(j){return console.error("Error fetching subgroups:",j),[]}},w=S=>{if(!S)return"";const j=s.find(M=>M._id===S);return j?`${j.name} (${j.category})`:""};m.useEffect(()=>{h()},[]);const O=async S=>{if(window.confirm("Delete this player?"))try{await Ab(S),f("Player deleted"),await h()}catch(j){c(j.message||"Failed to delete player")}},k=m.useMemo(()=>{let S=t;if(p&&(S=S.filter(j=>j.group===p)),g.trim()){const j=g.trim().toLowerCase();S=S.filter(M=>(M.fullName||"").toLowerCase().includes(j)||(M.email||"").toLowerCase().includes(j)||(M.group||"").toLowerCase().includes(j)||w(M.subgroup).toLowerCase().includes(j))}return S},[t,p,g,s]);return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Go back",children:" Back"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Players Management"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("input",{type:"text",value:g,onChange:S=>x(S.target.value),placeholder:"Search players...",className:"w-full sm:w-64 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("select",{value:p,onChange:S=>C(S.target.value),className:"w-full sm:w-auto rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All Categories"}),Kb.map(S=>l.jsx("option",{value:S,children:S},S))]}),l.jsx("button",{onClick:h,className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200 w-full sm:w-auto",title:"Refresh",children:"Refresh"}),l.jsx("button",{onClick:()=>N(!0),className:"text-sm rounded-md bg-blue-600 text-white px-3 py-2 hover:bg-blue-700 w-full sm:w-auto",title:"Add Player",children:"+ Add Player"})]})]}),d&&l.jsx("div",{className:"mb-3 text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:d}),r?l.jsx("div",{className:"text-gray-600",children:"Loading players"}):o?l.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-3 text-sm",children:o}):l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto hidden md:block",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date of Birth"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subgroup"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:p?`No players found in category ${p}`:"No players found"})}):k.map(S=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.fullName})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:S.dateOfBirth?new Date(S.dateOfBirth).toLocaleDateString():"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:S.email||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:S.group||"Minimum"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800",children:w(S.subgroup)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>u(S),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),l.jsx("button",{onClick:()=>O(S._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},S._id))})]})}),l.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:k.length===0?l.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:p?`No players found in category ${p}`:"No players found"}):k.map(S=>l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 text-sm",children:S.fullName}),l.jsx("div",{className:"text-xs text-gray-500",children:S.dateOfBirth?new Date(S.dateOfBirth).toLocaleDateString():"N/A"}),l.jsx("div",{className:"text-xs text-gray-500",children:S.email||"N/A"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"px-2 py-0.5 text-[10px] rounded-full bg-blue-100 text-blue-800",children:S.group||"Minimum"}),l.jsx("span",{className:"px-2 py-0.5 text-[10px] rounded-full bg-gray-100 text-gray-800",children:w(S.subgroup)})]})]}),l.jsxs("div",{className:"mt-3 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>u(S),className:"text-xs text-blue-600",children:"Edit"}),l.jsx("button",{onClick:()=>O(S._id),className:"text-xs text-red-600",children:"Delete"})]})]},S._id))})]})]}),l.jsx(Vb,{isOpen:!!b,player:b,onClose:()=>u(null),onSaved:()=>{u(null),h()}}),l.jsx(A0,{isOpen:y,onClose:()=>N(!1),onCreated:()=>{N(!1),h()}})]})}const Jb=["Match","Tournament","Training Camp","Meeting","Other"];function Pb({isOpen:e,onClose:t,onCreated:a}){const[s,n]=m.useState({title:"",description:"",eventType:"Match",startDate:new Date().toISOString().split("T")[0],startTime:"09:00",endDate:new Date().toISOString().split("T")[0],endTime:"10:00",location:"",notes:""}),[r,i]=m.useState(!1),[o,c]=m.useState(""),d=b=>{const{name:u,value:y}=b.target;n(N=>({...N,[u]:y}))},f=async b=>{b.preventDefault(),i(!0),c("");try{const u=new Date(`${s.startDate}T${s.startTime}:00`),y=new Date(`${s.endDate}T${s.endTime}:00`),N=localStorage.getItem("teamId");await qb({title:s.title,description:s.description,eventType:s.eventType,startDate:u.toISOString(),endDate:y.toISOString(),location:s.location,notes:s.notes,team:N}),a(),n({title:"",description:"",eventType:"Match",startDate:new Date().toISOString().split("T")[0],startTime:"09:00",endDate:new Date().toISOString().split("T")[0],endTime:"10:00",location:"",notes:""}),t()}catch(u){c(u.message||"Failed to create event")}finally{i(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Event"}),o&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:o}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),l.jsx("input",{type:"text",name:"title",value:s.title,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:s.description,onChange:d,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Type *"}),l.jsx("select",{name:"eventType",value:s.eventType,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:Jb.map(b=>l.jsx("option",{value:b,children:b},b))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date *"}),l.jsx("input",{type:"date",name:"startDate",value:s.startDate,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time *"}),l.jsx("input",{type:"time",name:"startTime",value:s.startTime,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date *"}),l.jsx("input",{type:"date",name:"endDate",value:s.endDate,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time *"}),l.jsx("input",{type:"time",name:"endTime",value:s.endTime,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:s.location,onChange:d,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),l.jsx("textarea",{name:"notes",value:s.notes,onChange:d,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:r?"Creating...":"Create Event"})]})]})]})]})}):null}const Wb=["Match","Tournament","Training Camp","Meeting","Other"];function Ib({isOpen:e,event:t,onClose:a,onSaved:s}){const[n,r]=m.useState({title:"",description:"",eventType:"Match",startDate:"",startTime:"",endDate:"",endTime:"",location:"",notes:""}),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[f,b]=m.useState("");m.useEffect(()=>{e&&t&&(d(!0),Hb(t._id).then(N=>{const p=new Date(N.startDate),C=new Date(N.endDate);r({title:N.title||"",description:N.description||"",eventType:N.eventType||"Match",startDate:p.toISOString().split("T")[0],startTime:p.toTimeString().slice(0,5),endDate:C.toISOString().split("T")[0],endTime:C.toTimeString().slice(0,5),location:N.location||"",notes:N.notes||""})}).catch(N=>{b(N.message||"Failed to load event data")}).finally(()=>{d(!1)}))},[e,t]);const u=N=>{const{name:p,value:C}=N.target;r(g=>({...g,[p]:C}))},y=async N=>{N.preventDefault(),o(!0),b("");try{const p=new Date(`${n.startDate}T${n.startTime}:00`),C=new Date(`${n.endDate}T${n.endTime}:00`),g=localStorage.getItem("teamId");await Gb(t._id,{title:n.title,description:n.description,eventType:n.eventType,startDate:p.toISOString(),endDate:C.toISOString(),location:n.location,notes:n.notes,team:g}),s(),a()}catch(p){b(p.message||"Failed to update event")}finally{o(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Edit Event"}),f&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:f}),c?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading event data..."})]}):l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),l.jsx("input",{type:"text",name:"title",value:n.title,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:n.description,onChange:u,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Type *"}),l.jsx("select",{name:"eventType",value:n.eventType,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:Wb.map(N=>l.jsx("option",{value:N,children:N},N))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date *"}),l.jsx("input",{type:"date",name:"startDate",value:n.startDate,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time *"}),l.jsx("input",{type:"time",name:"startTime",value:n.startTime,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date *"}),l.jsx("input",{type:"date",name:"endDate",value:n.endDate,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time *"}),l.jsx("input",{type:"time",name:"endTime",value:n.endTime,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:n.location,onChange:u,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:u,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:a,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Updating...":"Update Event"})]})]})]})]})}):null}function ep(){const e=Fe(),[t,a]=m.useState([]),[s,n]=m.useState(!1),[r,i]=m.useState(""),[o,c]=m.useState(""),[d,f]=m.useState(null),[b,u]=m.useState(!1),[y,N]=m.useState({startDate:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0],endDate:new Date(new Date().setDate(new Date().getDate()+30)).toISOString().split("T")[0]}),p=async()=>{n(!0),i(""),c("");try{const h=await Mc({startDate:y.startDate,endDate:y.endDate});a(h)}catch(h){i(h.message||"Failed to load events")}finally{n(!1)}};m.useEffect(()=>{p()},[]);const C=async h=>{if(window.confirm("Delete this event?"))try{await $b(h),c("Event deleted successfully"),p()}catch(v){i(v.message||"Failed to delete event")}},g=t.reduce((h,v)=>{const w=new Date(v.startDate).toISOString().split("T")[0];return h[w]||(h[w]=[]),h[w].push(v),h},{}),x=Object.keys(g).sort();return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Go back",children:" Back"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Events Calendar"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"From:"}),l.jsx("input",{type:"date",value:y.startDate,onChange:h=>N(v=>({...v,startDate:h.target.value})),className:"rounded-md border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),l.jsx("input",{type:"date",value:y.endDate,onChange:h=>N(v=>({...v,endDate:h.target.value})),className:"rounded-md border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsx("button",{onClick:p,className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Refresh",children:"Refresh"}),l.jsx("button",{onClick:()=>u(!0),className:"text-sm rounded-md bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",title:"Add Event",children:"+ Add Event"})]})]}),o&&l.jsx("div",{className:"mb-3 text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:o}),r&&l.jsx("div",{className:"mb-3 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:r}),s?l.jsx("div",{className:"text-gray-600",children:"Loading events"}):x.length===0?l.jsx("div",{className:"text-gray-600 text-center py-10",children:"No events found in the selected date range."}):l.jsx("div",{className:"space-y-6",children:x.map(h=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:l.jsx("h2",{className:"font-semibold text-gray-900",children:new Date(h).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),l.jsx("div",{className:"divide-y divide-gray-100",children:g[h].map(v=>{const w=new Date(v.startDate),O=new Date(v.endDate);return l.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-3 h-3 rounded-full bg-blue-500"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:v.title}),l.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[w.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:v.eventType}),v.location&&l.jsxs("div",{className:"text-xs text-gray-500",children:["Location: ",v.location]}),v.description&&l.jsx("div",{className:"text-xs text-gray-600 mt-1",children:v.description})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>f(v),className:"text-xs text-blue-600 hover:text-blue-700",title:"Edit",children:"Edit"}),l.jsx("button",{onClick:()=>C(v._id),className:"text-xs text-red-600 hover:text-red-700",title:"Delete",children:"Delete"})]})]}),v.notes&&l.jsxs("div",{className:"text-xs text-gray-600 mt-2 border-t border-gray-100 pt-2",children:["Notes: ",v.notes]})]},v._id)})})]},h))})]}),l.jsx(Pb,{isOpen:b,onClose:()=>u(!1),onCreated:()=>{u(!1),p()}}),l.jsx(Ib,{isOpen:!!d,event:d,onClose:()=>f(null),onSaved:()=>{f(null),p()}})]})}const U0=async(e,t=null)=>{const a=new URL(`${V}/api/attendance/session/${e}`);t&&a.searchParams.append("coachId",t);const s=await fetch(a,{method:"GET",headers:se()});if(!s.ok){const r=await s.json();throw new Error(r.message||"Failed to fetch attendance")}return(await s.json()).data},tp=async(e,t,a,s=null)=>{const n={status:a};s&&(n.coachId=s);const r=await fetch(`${V}/api/attendance/session/${e}/player/${t}`,{method:"POST",headers:se(),body:JSON.stringify(n)});if(!r.ok){const o=await r.json();throw new Error(o.message||"Failed to mark attendance")}return(await r.json()).data},ap=async e=>{const t=await fetch(`${V}/api/attendance/session/${e}/stats`,{method:"GET",headers:se()});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to fetch attendance stats")}return(await t.json()).data},lp=()=>{var _,X,A;const e=Fe(),[t,a]=m.useState(null),[s,n]=m.useState([]),[r,i]=m.useState(null),[o,c]=m.useState([]),[d,f]=m.useState([]),[b,u]=m.useState(!0),[y,N]=m.useState(!1),[p,C]=m.useState(!1),[g,x]=m.useState(""),[h,v]=m.useState(""),[w,O]=m.useState(!1),[k,S]=m.useState("");m.useEffect(()=>{const T=localStorage.getItem("coachToken"),q=localStorage.getItem("coachData");if(!T||!q){e("/");return}try{const te=JSON.parse(q);a(te),j(T,te)}catch(te){console.error("Error parsing coach data:",te),e("/")}},[e]);const j=async(T,q)=>{var te;u(!0),x("");try{console.log("Coach data:",q);const le=(te=q.team)==null?void 0:te._id;if(!le){x("No team assigned to coach");return}const ie=(await(await fetch(`${V}/api/sessions?teamId=${le}`,{method:"GET",headers:se()})).json()).data||[];console.log("Sessions found:",ie);let ye=[];for(const G of ie)try{const I=(await(await fetch(`${V}/api/training-sessions/session/${G._id}`,{method:"GET",headers:se()})).json()).data||[],$=((await(await fetch(`${V}/api/subgroups/session/${G._id}?teamId=${le}`,{method:"GET",headers:se()})).json()).data||[]).filter(U=>U.coaches&&U.coaches.some(P=>(typeof P=="string"?P:P._id)===q._id));if($.length>0){const U=new Set($.map(E=>{var B;return((B=E._id)==null?void 0:B.toString())||E.toString()})),P=new Set($.map(E=>E.category)),Je=I.filter(E=>{const B=E.subgroup&&typeof E.subgroup=="object"?E.subgroup._id:E.subgroup;return B?U.has(B.toString()):P.has(E.group)});ye.push(...Je)}}catch(Y){console.error(`Error fetching data for session ${G._id}:`,Y)}console.log("Training sessions for coach subgroups:",ye);const xe=[...ye].sort((G,Y)=>{const z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],I=z.indexOf(G.dayOfWeek),Q=z.indexOf(Y.dayOfWeek);if(I!==Q){const ve=new Date().getDay(),L=(I-ve+7)%7,$=(Q-ve+7)%7;return L-$}return G.startTime.localeCompare(Y.startTime)});if(n(xe),xe.length>0){const G=xe[0];i(G),await M(G._id)}}catch(le){x("Failed to load data"),console.error("Error loading coach data:",le)}finally{u(!1)}},M=async T=>{N(!0);try{console.log("Loading attendance for session:",T);const q=await U0(T,t==null?void 0:t._id);console.log("Attendance data received:",q),c((q==null?void 0:q.attendance)||[]),f((q==null?void 0:q.subgroups)||[])}catch(q){console.error("Error loading attendance data:",q)}finally{N(!1)}},J=async(T,q,te="")=>{try{await tp(r._id,T,q,t==null?void 0:t._id),await M(r._id)}catch(le){console.error("Error marking attendance:",le)}},re=async T=>{console.log("Selected training session:",T),i(T),v((T==null?void 0:T.notes)||""),c([]),C(!0),await M(T._id)},ge=async()=>{if(r){O(!0),S("");try{await Ac(r._id,{notes:h}),S("Notes saved")}catch(T){S(T.message||"Failed to save notes")}finally{O(!1)}}},F=()=>{localStorage.removeItem("coachToken"),localStorage.removeItem("coachData"),localStorage.removeItem("userType"),e("/")},Z=T=>{switch(T){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return b?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Coach Dashboard"}),((_=t==null?void 0:t.team)==null?void 0:_.logo)&&l.jsx("img",{src:`${V}${t.team.logo}`,alt:"Team Logo",className:"h-10 w-10 rounded-full object-cover"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t==null?void 0:t.fullName]}),l.jsx("button",{onClick:F,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Logout"})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:g}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Coach Information"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Name:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.fullName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Email:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Specialization:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.specialization})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Team:"}),l.jsx("p",{className:"text-gray-900",children:(X=t==null?void 0:t.team)==null?void 0:X.teamName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Session:"}),l.jsx("p",{className:"text-gray-900",children:(A=t==null?void 0:t.session)==null?void 0:A.name})]})]})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Training Sessions"}),s.length===0?l.jsx("p",{className:"text-gray-500",children:"No training sessions assigned"}):l.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:s.map((T,q)=>l.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors relative ${(r==null?void 0:r._id)===T._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>re(T),children:[q===0&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:"Next"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:T.title}),l.jsxs("p",{className:"text-xs text-gray-600",children:[T.dayOfWeek,"  ",T.startTime," - ",T.endTime]})]}),l.jsx("div",{className:"flex items-center space-x-2 ml-2",children:l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(r==null?void 0:r._id)===T._id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:(r==null?void 0:r._id)===T._id?"Active":"Click"})})]})]},T._id))})]})]}),p&&r&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>C(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Attendance - ",r.title]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.dayOfWeek,"  ",r.startTime," - ",r.endTime]})]}),l.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading attendance data..."})]}):o.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Players Found"}),l.jsx("p",{className:"text-gray-500",children:"No players are assigned to subgroups you're responsible for in this training session."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coach Notes / Review"}),l.jsx("textarea",{value:h,onChange:T=>v(T.target.value),rows:3,placeholder:"Write your notes about this session (visible on Training Plans).",className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[l.jsx("button",{onClick:ge,disabled:w,className:"rounded-md bg-blue-600 text-white px-3 py-1.5 text-sm hover:bg-blue-700 disabled:opacity-50",children:w?"Saving":"Save Notes"}),k&&l.jsx("span",{className:"text-sm text-gray-600",children:k})]})]}),d.length>0&&l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Your Subgroups:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(T=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[T.name," (",T.playerCount," players)"]},T._id))})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[T.player.photo&&l.jsx("img",{src:`${V}${T.player.photo}`,alt:T.player.fullName,className:"h-10 w-10 rounded-full object-cover border-2 border-white shadow-sm"}),l.jsx("div",{className:"ml-4",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.player.fullName})})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900",children:T.player.group})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.status!=="not_marked"?l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(T.status)}`,children:T.status}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Not Marked"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>J(T.player._id,"present"),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${T.status==="present"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-green-50 border border-gray-300"}`,children:"Present"}),l.jsx("button",{onClick:()=>J(T.player._id,"late"),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${T.status==="late"?"bg-yellow-600 text-white":"bg-yellow-50 text-yellow-800 hover:bg-yellow-100 border border-yellow-300"}`,children:"Late"}),l.jsx("button",{onClick:()=>J(T.player._id,"absent"),className:`px-3 py-1 text-xs font-medium rounded transition-colors ${T.status==="absent"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-red-50 border border-gray-300"}`,children:"Absent"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.status!=="not_marked"&&T.markedAt?new Date(T.markedAt).toLocaleTimeString():"-"})]},T.player._id)),l.jsxs("tr",{className:"bg-gray-50 font-medium",children:[l.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["Total Players: ",o.length]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"-"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.filter(T=>T.status==="present").length," Present"]}),l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o.filter(T=>T.status==="late").length," Late"]}),l.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[o.filter(T=>T.status==="absent").length," Absent"]})]})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"-"}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:"-"})]})]})]})})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:()=>C(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Close"})})]})]})})]})]})},sp=()=>{var h,v,w,O,k,S,j,M,J,re,ge;const e=Fe(),[t,a]=m.useState(null),[s,n]=m.useState([]),[r,i]=m.useState([]),[o,c]=m.useState({}),[d,f]=m.useState(!0),[b,u]=m.useState("");m.useEffect(()=>{const F=localStorage.getItem("playerToken"),Z=localStorage.getItem("playerData");if(!F||!Z){e("/");return}try{const _=JSON.parse(Z);a(_),y(F,_)}catch(_){console.error("Error parsing player data:",_),e("/")}},[e]);const y=async(F,Z)=>{var _,X,A,T,q;f(!0),u("");try{if((_=Z.session)!=null&&_._id){const le=await fetch(`${V}/api/payments/schedule?sessionId=${Z.session._id}&subjectType=player&subjectId=${Z._id}`,{headers:{"Content-Type":"application/json"}});if(le.ok){const ne=await le.json();n(((X=ne.data)==null?void 0:X.schedule)||[])}}else n([]);const te=async le=>{const ne=await fetch(`${V}/api/training-sessions/session/${le}`,{headers:{"Content-Type":"application/json"}});if(ne.ok){const ie=(await ne.json()).data||[],ye=Z.subgroup&&typeof Z.subgroup=="object"?Z.subgroup._id:Z.subgroup,G=[...ie.filter(Q=>{const ve=Q.subgroup&&typeof Q.subgroup=="object"?Q.subgroup._id:Q.subgroup;return(!Z.group||Q.group===Z.group)&&(!ye||!ve||ve===ye)})].sort((Q,ve)=>{const L=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$=L.indexOf(Q.dayOfWeek),U=L.indexOf(ve.dayOfWeek);if($!==U){const P=new Date().getDay(),Je=($-P+7)%7,E=(U-P+7)%7;return Je-E}return Q.startTime.localeCompare(ve.startTime)});i(G);const Y=G.map(async Q=>{try{const ve=await U0(Q._id);return{sessionId:Q._id,attendance:ve}}catch(ve){return console.error(`Error loading attendance for session ${Q._id}:`,ve),{sessionId:Q._id,attendance:null}}}),z=await Promise.all(Y),I={};z.forEach(Q=>{Q.attendance&&(I[Q.sessionId]=Q.attendance)}),c(I)}};if((A=Z.session)!=null&&A._id&&(await te(Z.session._id),r.length===0)){const le=(T=Z.team)==null?void 0:T._id;if(le)try{const ne=await fetch(`${V}/api/sessions?teamId=${le}`,{headers:{"Content-Type":"application/json"}});if(ne.ok){const ie=(await ne.json()).data||[];ie.sort((ye,xe)=>new Date(xe.endDate)-new Date(ye.endDate)),(q=ie[0])!=null&&q._id&&ie[0]._id!==Z.session._id&&await te(ie[0]._id)}}catch(ne){console.error("Failed to fallback load sessions:",ne)}}}catch(te){u("Failed to load data"),console.error("Error loading player data:",te)}finally{f(!1)}},N=()=>{localStorage.removeItem("playerToken"),localStorage.removeItem("playerData"),localStorage.removeItem("userType"),e("/")},p=F=>{switch(F){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"delayed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=F=>{switch(F){case"present":return"bg-green-100 text-green-800 border-green-200";case"late":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"absent":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=F=>{const Z=o[F];if(!Z||!Z.attendance)return"not_marked";const _=Z.attendance.find(X=>X.player._id===(t==null?void 0:t._id));return _?_.status:"not_marked"},x=F=>{const Z={};return F.forEach(_=>{const A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(_.dayOfWeek),T=`Week ${Math.floor(A/7)+1}`;Z[T]||(Z[T]=[]),Z[T].push(_)}),Z};return d?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Player Dashboard"}),((h=t==null?void 0:t.team)==null?void 0:h.logo)&&l.jsx("img",{src:`${V}${t.team.logo}`,alt:"Team Logo",className:"h-10 w-10 rounded-full object-cover"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",t==null?void 0:t.fullName]}),l.jsx("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Logout"})]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700",children:b}),r.length>0&&l.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Next Training Session"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xl font-semibold",children:r[0].title}),l.jsxs("p",{className:"text-blue-100",children:[r[0].dayOfWeek,"  ",r[0].startTime," - ",r[0].endTime]}),r[0].description&&l.jsx("p",{className:"text-blue-100 text-sm",children:r[0].description})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-4",children:l.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 bg-white rounded-lg shadow-sm border p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Player Information"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Name:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.fullName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Email:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Group:"}),l.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.group})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Team:"}),l.jsx("p",{className:"text-gray-900",children:(v=t==null?void 0:t.team)==null?void 0:v.teamName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Session:"}),l.jsx("p",{className:"text-gray-900",children:(w=t==null?void 0:t.session)==null?void 0:w.name})]})]})]}),l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Training Sessions by Week"}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-gray-600",children:"Present"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-gray-600",children:"Late"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-gray-600",children:"Absent"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),l.jsx("span",{className:"text-gray-600",children:"Not Marked"})]})]})]}),r.length===0?l.jsx("p",{className:"text-gray-500",children:"No training sessions available"}):l.jsx("div",{className:"max-h-96 overflow-y-auto space-y-6",children:Object.entries(x(r)).map(([F,Z])=>l.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[l.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),F]}),l.jsx("div",{className:"space-y-2",children:Z.map((_,X)=>{const A=g(_._id),T=r.indexOf(_)===0;return l.jsxs("div",{className:`border rounded-lg p-3 transition-colors relative ${T?"border-green-500 bg-green-50":C(A).replace("bg-","border-").replace(" text-"," bg-").replace(" border-"," text-")}`,children:[T&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:"Next"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium text-gray-900 text-sm truncate",children:_.title}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${C(A)}`,children:A==="not_marked"?"Not Marked":A})]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[_.dayOfWeek,"  ",_.startTime," - ",_.endTime]}),_.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:_.description})]}),l.jsx("div",{className:"flex items-center space-x-2 ml-2",children:l.jsx("div",{className:`w-3 h-3 rounded-full ${A==="present"?"bg-green-500":A==="late"?"bg-yellow-500":A==="absent"?"bg-red-500":"bg-gray-400"}`})})]})]},_._id)})})]},F))})]})]}),l.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Schedule"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Paid"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Pending"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Delayed"})]})]})]})}),l.jsx("div",{className:"overflow-x-auto",children:s.length===0?l.jsxs("div",{className:"p-12 text-center",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payment Schedule"}),l.jsx("p",{className:"text-gray-500",children:"Your payment schedule will appear here once it's set up by the admin."})]}):l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(k=(O=s[0])==null?void 0:O.rows)==null?void 0:k.map((F,Z)=>l.jsxs("div",{className:`border rounded-lg p-4 transition-colors ${F.status==="paid"?"bg-green-50 border-green-200":F.status==="pending"?"bg-yellow-50 border-yellow-200":F.status==="delayed"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:new Date(F.year,F.month-1,1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}),l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(F.status)}`,children:F.status})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[F.amount||0," DT"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.status==="paid"?"Payment completed":F.status==="pending"?"Payment due":F.status==="delayed"?"Payment overdue":"No payment info"})]})]},Z))}),l.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Payment Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),l.jsxs("span",{className:"font-semibold",children:[(j=(S=s[0])==null?void 0:S.rows)==null?void 0:j.reduce((F,Z)=>F+(Z.amount||0),0)," DT"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Paid:"}),l.jsxs("span",{className:"font-semibold text-green-600",children:[(J=(M=s[0])==null?void 0:M.rows)==null?void 0:J.filter(F=>F.status==="paid").reduce((F,Z)=>F+(Z.amount||0),0)," DT"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Pending:"}),l.jsxs("span",{className:"font-semibold text-yellow-600",children:[(ge=(re=s[0])==null?void 0:re.rows)==null?void 0:ge.filter(F=>F.status==="pending").reduce((F,Z)=>F+(Z.amount||0),0)," DT"]})]})]})]})]})})]})]})]})},Cn=["Poussin","Ecole","Minimum","Cadet","Junior","Senior"];function mu(){var _c,Rc;const{sessionId:e}=Ec(),t=Fe(),[a,s]=m.useState(null),[n,r]=m.useState([]),[i,o]=m.useState([]),[c,d]=m.useState([]),[f,b]=m.useState(!0),[u,y]=m.useState(""),[N,p]=m.useState(""),[C,g]=m.useState("all"),[x,h]=m.useState(""),[v,w]=m.useState(!1),[O,k]=m.useState(!1),[S,j]=m.useState(!1),[M,J]=m.useState(!1),[re,ge]=m.useState(!1),[F,Z]=m.useState(!1),[_,X]=m.useState(!1),[A,T]=m.useState(null);m.useState("Minimum");const[q,te]=m.useState({name:"",category:"Minimum",description:""}),[le,ne]=m.useState({name:"",category:"Minimum",description:""}),[K,ie]=m.useState({name:"",startDate:"",endDate:"",type:"season"}),[ye,xe]=m.useState([]),G=async D=>{if(window.confirm("Are you sure you want to delete this session? This will also delete all associated subgroups and assignments."))try{await Bb(D),p("Session deleted successfully"),await L()}catch(H){y(H.message||"Failed to delete session")}},Y=D=>{alert(`Edit functionality for session "${D.name}" would be implemented here.

This would open a modal to edit session details like name, dates, and type.`)},z=D=>{const{name:H,value:ee}=D.target;ie(de=>({...de,[H]:ee}))},I=async D=>{D.preventDefault(),b(!0),y("");try{const H=localStorage.getItem("teamId"),ee=await fetch(`${V}/api/sessions`,{method:"POST",headers:se(),body:JSON.stringify({...K,teamId:H})});if(!ee.ok){const Ce=await ee.json();throw new Error(Ce.message||"Failed to create session")}const de=await ee.json();p("Session created successfully"),ie({name:"",startDate:"",endDate:"",type:"season"}),X(!1),await L()}catch(H){y(H.message||"Failed to create session")}finally{b(!1)}};m.useEffect(()=>{e?Q():L()},[e]);const Q=async()=>{b(!0),y("");try{const D=localStorage.getItem("teamId");if(!D)throw new Error("Team ID not found");let H=[],ee=[],de=[],Ce=[];try{H=await ma(D)}catch{throw new Error("Failed to load sessions")}try{ee=await ve(e)}catch{ee=[]}try{de=await Ha()}catch{de=[]}try{Ce=await ll()}catch{Ce=[]}const _t=H.find(rt=>rt._id===e||rt._id.toString()===e);if(!_t)throw new Error("Session not found");s(_t),r(ee||[]),o(de||[]),d(Ce||[])}catch(D){y(D.message||"Failed to load session data")}finally{b(!1)}},ve=async D=>{const H=localStorage.getItem("teamId"),ee=await fetch(`${V}/api/subgroups/session/${D}?teamId=${H}`,{method:"GET",headers:se()});if(!ee.ok){const Ce=await ee.json();throw new Error(Ce.message||"Failed to fetch subgroups")}return(await ee.json()).data},L=async()=>{b(!0),y("");try{const D=localStorage.getItem("teamId");if(!D)throw new Error("Team ID not found");const H=await ma(D);xe(H||[])}catch(D){y(D.message||"Failed to load sessions")}finally{b(!1)}},$=D=>{const{name:H,value:ee}=D.target;te(de=>({...de,[H]:ee}))},U=D=>{const{name:H,value:ee}=D.target;ne(de=>({...de,[H]:ee}))},P=D=>{T(D),ne({name:D.name,category:D.category,description:D.description||""}),k(!0)},Je=()=>{k(!1),T(null),ne({name:"",category:"Minimum",description:""})},E=async D=>{D.preventDefault(),b(!0),y("");try{const H=localStorage.getItem("teamId"),de=n.filter(rt=>rt.category===q.category).length+1,Ce=await fetch(`${V}/api/subgroups/session/${e}`,{method:"POST",headers:se(),body:JSON.stringify({...q,name:`${q.category} ${de}`,teamId:H})});if(!Ce.ok){const rt=await Ce.json();throw new Error(rt.message||"Failed to create subgroup")}const _t=await Ce.json();p("Subgroup created successfully"),te({name:"",category:"Minimum",description:""}),w(!1),await Q()}catch(H){y(H.message||"Failed to create subgroup")}finally{b(!1)}},B=async D=>{D.preventDefault(),b(!0),y("");try{const H=localStorage.getItem("teamId"),ee=await fetch(`${V}/api/subgroups/${A._id}`,{method:"PUT",headers:se(),body:JSON.stringify({...le,teamId:H})});if(!ee.ok){const Ce=await ee.json();throw new Error(Ce.message||"Failed to update subgroup")}const de=await ee.json();p("Subgroup updated successfully"),Je(),await Q()}catch(H){y(H.message||"Failed to update subgroup")}finally{b(!1)}},W=async D=>{if(window.confirm("Are you sure you want to delete this subgroup? This will remove all player and coach assignments."))try{const H=localStorage.getItem("teamId"),ee=await fetch(`${V}/api/subgroups/${D}`,{method:"DELETE",headers:se(),body:JSON.stringify({teamId:H})});if(!ee.ok){const de=await ee.json();throw new Error(de.message||"Failed to delete subgroup")}p("Subgroup deleted successfully"),await Q()}catch(H){y(H.message||"Failed to delete subgroup")}},fe=async(D,H)=>{try{const ee=localStorage.getItem("teamId"),de=await fetch(`${V}/api/subgroups/${D._id}/players/${H}`,{method:"POST",headers:se(),body:JSON.stringify({teamId:ee})});if(!de.ok){const Ce=await de.json();throw new Error(Ce.message||"Failed to assign player to subgroup")}p("Player assigned to subgroup successfully"),await Q()}catch(ee){y(ee.message||"Failed to assign player to subgroup")}},at=async(D,H)=>{try{const ee=localStorage.getItem("teamId"),de=await fetch(`${V}/api/subgroups/${D._id}/players/${H}`,{method:"DELETE",headers:se(),body:JSON.stringify({teamId:ee})});if(!de.ok){const Ce=await de.json();throw new Error(Ce.message||"Failed to remove player from subgroup")}p("Player removed from subgroup successfully"),await Q()}catch(ee){y(ee.message||"Failed to remove player from subgroup")}},mt=async(D,H)=>{try{const ee=localStorage.getItem("teamId"),de=await fetch(`${V}/api/subgroups/${D._id}/coaches/${H}`,{method:"POST",headers:se(),body:JSON.stringify({teamId:ee})});if(!de.ok){const Ce=await de.json();throw new Error(Ce.message||"Failed to assign coach to subgroup")}p("Coach assigned to subgroup successfully"),await Q()}catch(ee){y(ee.message||"Failed to assign coach to subgroup")}},Nt=async(D,H)=>{try{const ee=localStorage.getItem("teamId"),de=await fetch(`${V}/api/subgroups/${D._id}/coaches/${H}`,{method:"DELETE",headers:se(),body:JSON.stringify({teamId:ee})});if(!de.ok){const Ce=await de.json();throw new Error(Ce.message||"Failed to remove coach from subgroup")}p("Coach removed from subgroup successfully"),await Q()}catch(ee){y(ee.message||"Failed to remove coach from subgroup")}},Ot=D=>{const H=i.filter(de=>de.group===D),ee=n.reduce((de,Ce)=>Ce.category===D?de.concat(Ce.players.map(_t=>_t._id)):de,[]);return H.filter(de=>!ee.includes(de._id))},Ht=()=>{const D=new Set(((a==null?void 0:a.players)||[]).map(H=>H._id||H));return i.filter(H=>!D.has(H._id))},cn=async D=>{try{await _0(e,D),p("Player added to session"),await Q()}catch(H){y(H.message||"Failed to add player to session")}},B0=async D=>{try{await R0(e,D),p("Player removed from session"),await Q()}catch(H){y(H.message||"Failed to remove player from session")}},Oc=D=>{const H=D.coaches.map(ee=>ee._id);return c.filter(ee=>!H.includes(ee._id))},Hr=()=>{const D=new Set(((a==null?void 0:a.coaches)||[]).map(H=>H._id||H));return c.filter(H=>!D.has(H._id))},H0=async D=>{try{await z0(e,D),p("Coach added to session"),await Q()}catch(H){y(H.message||"Failed to add coach to session")}},q0=async D=>{try{await L0(e,D),p("Coach removed from session"),await Q()}catch(H){y(H.message||"Failed to remove coach from session")}},qr=n.filter(D=>{const H=C==="all"||D.category===C,ee=D.name.toLowerCase().includes(x.toLowerCase())||D.description.toLowerCase().includes(x.toLowerCase());return H&&ee}),G0=D=>{const H=n.filter(_t=>_t.category===D),ee=H.reduce((_t,rt)=>_t+rt.players.length,0),de=H.reduce((_t,rt)=>_t+rt.coaches.length,0),Ce=Ot(D);return{subgroups:H.length,players:ee,coaches:de,availablePlayers:Ce.length}};return f?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading session management..."})]})}):e?a?l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",children:" Back to Sessions"}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Session Management: ",a.name]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"text-sm rounded-md bg-green-600 text-white px-4 py-2 hover:bg-green-700",children:"+ Add New Session"}),l.jsx("button",{onClick:()=>w(!0),className:"text-sm rounded-md bg-blue-600 text-white px-4 py-2 hover:bg-blue-700",children:"+ Create Subgroup"}),l.jsx("button",{onClick:()=>ge(!0),className:"text-sm rounded-md bg-gray-800 text-white px-4 py-2 hover:bg-gray-900",children:"Manage Session Players"}),l.jsx("button",{onClick:()=>Z(!0),className:"text-sm rounded-md bg-gray-700 text-white px-4 py-2 hover:bg-gray-800",children:"Manage Session Coaches"})]})]}),N&&l.jsx("div",{className:"mb-4 text-green-700 bg-green-50 border border-green-200 rounded p-3 text-sm",children:N}),u&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-3 text-sm",children:u}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Overview"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Cn.map(D=>{const H=G0(D);return l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[l.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:D}),l.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-600",children:[l.jsxs("p",{children:[H.subgroups," subgroups"]}),l.jsxs("p",{children:[H.players," players"]}),l.jsxs("p",{children:[H.coaches," coaches"]}),l.jsxs("p",{children:[H.availablePlayers," available"]})]})]},D)})})]}),l.jsx("div",{className:"mb-6 bg-white rounded-lg p-4 border border-gray-200",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Subgroups"}),l.jsx("input",{type:"text",placeholder:"Search by name or description...",value:x,onChange:D=>h(D.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{className:"sm:w-48",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),l.jsxs("select",{value:C,onChange:D=>g(D.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:"All Categories"}),Cn.map(D=>l.jsx("option",{value:D,children:D},D))]})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Subgroups (",qr.length,")"]})}),qr.length===0?l.jsxs("div",{className:"p-8 text-center text-gray-500",children:[x||C!=="all"?"No subgroups match your filters":"No subgroups created yet",l.jsx("button",{onClick:()=>w(!0),className:"mt-2 block mx-auto text-sm text-blue-600 hover:text-blue-700",children:"Create first subgroup"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subgroup Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category & Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Players"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coaches"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:qr.map(D=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Subgroup ",D.name.split(" ").pop()]}),D.description&&l.jsx("div",{className:"text-sm text-gray-500",children:D.description})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:D.category}),l.jsx("div",{className:"text-xs text-gray-500",children:D.name})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsxs("div",{className:"text-sm text-gray-900",children:[D.players.length," assigned"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Ot(D.category).length," available"]}),D.players.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:D.players.map(H=>l.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 px-2 py-1 rounded",children:[l.jsx("span",{className:"text-gray-700",children:H.fullName}),l.jsx("button",{onClick:()=>at(D,H._id),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]},H._id))}),l.jsx("button",{onClick:()=>{T(D),j(!0)},className:"mt-2 text-xs text-blue-600 hover:text-blue-700",children:"+ Add Player"})]}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsxs("div",{className:"text-sm text-gray-900",children:[D.coaches.length," assigned"]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Oc(D).length," available"]}),D.coaches.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:D.coaches.map(H=>l.jsxs("div",{className:"flex items-center justify-between text-xs bg-gray-50 px-2 py-1 rounded",children:[l.jsx("span",{className:"text-gray-700",children:H.fullName}),l.jsx("button",{onClick:()=>Nt(D,H._id),className:"text-red-600 hover:text-red-700 text-xs",children:"Remove"})]},H._id))}),l.jsx("button",{onClick:()=>{T(D),J(!0)},className:"mt-2 text-xs text-blue-600 hover:text-blue-700",children:"+ Add Coach"})]}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>P(D),className:"text-blue-600 hover:text-blue-900 text-sm",children:"Edit"}),l.jsx("button",{onClick:()=>W(D._id),className:"text-red-600 hover:text-red-900 text-sm",children:"Delete"})]})})]},D._id))})]})})]})]}),v&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>w(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Create New Subgroup"}),l.jsxs("form",{onSubmit:E,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category *"}),l.jsx("select",{name:"category",value:q.category,onChange:$,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:Cn.map(D=>l.jsx("option",{value:D,children:D},D))}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Subgroup name will be auto-generated (e.g., Minimum 1, Minimum 2)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:q.description,onChange:$,rows:"3",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"Optional description for this subgroup"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>w(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:f,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:f?"Creating...":"Create Subgroup"})]})]})]})]})}),O&&A&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:Je}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:["Edit Subgroup: ",A.name]}),l.jsxs("form",{onSubmit:B,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subgroup Name *"}),l.jsx("input",{type:"text",name:"name",value:le.name,onChange:U,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Group A, Team 1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category *"}),l.jsx("select",{name:"category",value:le.category,onChange:U,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:Cn.map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:le.description,onChange:U,rows:"3",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"Optional description for this subgroup"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:Je,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:f,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:f?"Updating...":"Update Subgroup"})]})]})]})]})}),S&&A&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>j(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:["Assign Player to ",A.name]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:(()=>{const D=Ot(A.category);return D.length===0?l.jsx("p",{className:"text-center text-gray-500",children:"No available players in this category"}):l.jsx("div",{className:"space-y-2",children:D.map(H=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:[l.jsx("span",{className:"text-sm text-gray-900",children:H.fullName}),l.jsx("button",{onClick:()=>{fe(A,H._id),j(!1)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Assign"})]},H._id))})})()}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>j(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})]})}),F&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>Z(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Manage Session Coaches"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Coaches in Session (",((_c=a==null?void 0:a.coaches)==null?void 0:_c.length)||0,")"]}),l.jsx("div",{className:"max-h-72 overflow-y-auto border rounded",children:((a==null?void 0:a.coaches)||[]).length===0?l.jsx("p",{className:"p-3 text-sm text-gray-500",children:"No coaches assigned yet"}):((a==null?void 0:a.coaches)||[]).map(D=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b text-sm",children:[l.jsx("span",{children:D.fullName}),l.jsx("button",{onClick:()=>q0(D._id),className:"text-red-600 hover:text-red-700",children:"Remove"})]},D._id))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Available Coaches (",Hr().length,")"]}),l.jsx("div",{className:"max-h-72 overflow-y-auto border rounded",children:Hr().length===0?l.jsx("p",{className:"p-3 text-sm text-gray-500",children:"All coaches are already in this session"}):Hr().map(D=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b text-sm",children:[l.jsx("span",{children:D.fullName}),l.jsx("button",{onClick:()=>H0(D._id),className:"text-blue-600 hover:text-blue-700",children:"Add"})]},D._id))})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>Z(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})]})}),re&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>ge(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-2xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Manage Session Players"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Players in Session (",((Rc=a==null?void 0:a.players)==null?void 0:Rc.length)||0,")"]}),l.jsx("div",{className:"max-h-72 overflow-y-auto border rounded",children:((a==null?void 0:a.players)||[]).length===0?l.jsx("p",{className:"p-3 text-sm text-gray-500",children:"No players assigned yet"}):((a==null?void 0:a.players)||[]).map(D=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b text-sm",children:[l.jsx("span",{children:D.fullName}),l.jsx("button",{onClick:()=>B0(D._id),className:"text-red-600 hover:text-red-700",children:"Remove"})]},D._id))})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:["Available Players (",Ht().length,")"]}),l.jsx("div",{className:"max-h-72 overflow-y-auto border rounded",children:Ht().length===0?l.jsx("p",{className:"p-3 text-sm text-gray-500",children:"All players are already in this session"}):Ht().map(D=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b text-sm",children:[l.jsxs("span",{children:[D.fullName," ",l.jsxs("span",{className:"text-xs text-gray-500",children:["(",D.group,")"]})]}),l.jsx("button",{onClick:()=>cn(D._id),className:"text-blue-600 hover:text-blue-700",children:"Add"})]},D._id))})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>ge(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})]})}),M&&A&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>J(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:["Assign Coach to ",A.name]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:(()=>{const D=Oc(A);return D.length===0?l.jsx("p",{className:"text-center text-gray-500",children:"No available coaches"}):l.jsx("div",{className:"space-y-2",children:D.map(H=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-900",children:H.fullName}),H.specialization&&l.jsx("p",{className:"text-xs text-gray-500",children:H.specialization})]}),l.jsx("button",{onClick:()=>{mt(A,H._id),J(!1)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Assign"})]},H._id))})})()}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>J(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>X(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Create New Session"}),l.jsxs("form",{onSubmit:I,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Session Name *"}),l.jsx("input",{type:"text",name:"name",value:K.name,onChange:z,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",placeholder:"e.g., Season 2025/2026"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date *"}),l.jsx("input",{type:"date",name:"startDate",value:K.startDate,onChange:z,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date *"}),l.jsx("input",{type:"date",name:"endDate",value:K.endDate,onChange:z,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),l.jsxs("select",{name:"type",value:K.type,onChange:z,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"season",children:"Season"}),l.jsx("option",{value:"tournament",children:"Tournament"}),l.jsx("option",{value:"camp",children:"Camp"}),l.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>X(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:f,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:f?"Creating...":"Create Session"})]})]})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[u?l.jsxs("div",{children:[l.jsx("p",{className:"text-red-600 mb-4",children:u}),l.jsx("button",{onClick:()=>{y(""),e?Q():L()},className:"mr-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Retry"})]}):l.jsx("p",{className:"text-red-600",children:"Session not found"}),l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Sessions"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("div",{className:"flex items-center justify-between gap-4 mb-6",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",children:" Back to Sessions"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Session Management"})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select a Session to Manage"}),f?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sessions..."})]}):u?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-red-600",children:u})}):ye.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500",children:"No sessions available"}),l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create a Session"})]}):l.jsx("div",{className:"grid gap-4",children:ye.map(D=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:D.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(D.startDate).toLocaleDateString()," - ",new Date(D.endDate).toLocaleDateString()]}),l.jsx("p",{className:"text-sm text-gray-500",children:D.type})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>t(`/dashboard/session-management/${D._id}`),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Manage Session"}),l.jsx("button",{onClick:()=>handleSchedulePayments(D),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Schedule"}),l.jsx("button",{onClick:()=>Y(D),className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:"Edit"}),l.jsx("button",{onClick:()=>G(D._id),className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Delete"})]})]})},D._id))})]})]})})}const np=[{value:"yearly",label:"Yearly"},{value:"monthly",label:"Monthly"}];function rp(){const e=Fe(),[t,a]=m.useState([]),[s,n]=m.useState([]),[r,i]=m.useState([]),[o,c]=m.useState(!1),[d,f]=m.useState(""),[b,u]=m.useState(""),[y,N]=m.useState(!1),[p,C]=m.useState(""),[g,x]=m.useState(null),[h,v]=m.useState(null),[w,O]=m.useState(!1),[k,S]=m.useState({Minimum:!0,Cadet:!0,Junior:!0,Senior:!0}),[j,M]=m.useState({Minimum:!0,Cadet:!0,Junior:!0,Senior:!0}),[J,re]=m.useState({}),[ge,F]=m.useState({}),[Z,_]=m.useState({name:"",description:"",startDate:"",endDate:"",type:"yearly"}),X=async()=>{c(!0),f(""),u("");try{const L=localStorage.getItem("teamId");if(!L)throw new Error("Team ID not found");const $=await ma(L);a($||[])}catch(L){f(L.message||"Failed to load sessions")}finally{c(!1)}},A=async()=>{try{const L=await Ha(),$=await ll();n(L||[]),i($||[])}catch(L){f(L.message||"Failed to load players and coaches")}};m.useEffect(()=>{X(),A()},[]);const T=L=>{const{name:$,value:U}=L.target;_(P=>({...P,[$]:U}))},q=async L=>{L.preventDefault(),c(!0),f("");try{const $=localStorage.getItem("teamId");if(!$)throw new Error("Team ID not found");const U={...Z,team:$},P=g?`${V}/api/sessions/${g._id}`:`${V}/api/sessions`,E=await fetch(P,{method:g?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!E.ok){const W=await E.json();throw new Error(W.message||`Failed to ${g?"update":"create"} session`)}const B=await E.json();u(`Session ${g?"updated":"created"} successfully`),_({name:"",description:"",startDate:"",endDate:"",type:"yearly"}),x(null),N(!1),X()}catch($){f($.message||`Failed to ${g?"update":"create"} session`)}finally{c(!1)}},te=L=>{x(L),_({name:L.name||"",description:L.description||"",startDate:L.startDate?L.startDate.split("T")[0]:"",endDate:L.endDate?L.endDate.split("T")[0]:"",type:L.type||"yearly"}),N(!0)},le=async L=>{if(window.confirm("Are you sure you want to delete this session?"))try{const $=await fetch(`${V}/api/sessions/${L}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!$.ok){const U=await $.json();throw new Error(U.message||"Failed to delete session")}u("Session deleted successfully"),X()}catch($){f($.message||"Failed to delete session")}},ne=async L=>{try{const $=localStorage.getItem("teamId"),[U,P,Je]=await Promise.all([ma($),Ha(),ll()]);a(U||[]),n(P||[]),i(Je||[]);const E=(U||[]).find(B=>B._id===L);E&&v(E)}catch($){f($.message||"Failed to refresh participants")}},K=async L=>{try{await _0(h._id,L),u("Player added to session successfully"),await ne(h._id)}catch($){f($.message||"Failed to add player to session")}},ie=async L=>{try{await R0(h._id,L),u("Player removed from session successfully"),await ne(h._id)}catch($){f($.message||"Failed to remove player from session")}},ye=async L=>{try{await z0(h._id,L),u("Coach added to session successfully"),await ne(h._id)}catch($){f($.message||"Failed to add coach to session")}},xe=async L=>{try{await L0(h._id,L),u("Coach removed from session successfully"),await ne(h._id)}catch($){f($.message||"Failed to remove coach from session")}},G=t.filter(L=>L.name.toLowerCase().includes(p.toLowerCase())||L.description.toLowerCase().includes(p.toLowerCase())),Y=h?s.filter(L=>{var $;return!(($=h.players)!=null&&$.some(U=>U._id===L._id))}):[],z=h?r.filter(L=>{var $;return!(($=h.coaches)!=null&&$.some(U=>U._id===L._id))}):[],I=h?s.filter(L=>{var $;return($=h.players)==null?void 0:$.some(U=>U._id===L._id)}):[],Q=h?r.filter(L=>{var $;return($=h.coaches)==null?void 0:$.some(U=>U._id===L._id)}):[],ve=(L,$,U=[])=>{const P=L.reduce((E,B)=>{const W=$(B)||"Other";return E[W]||(E[W]=[]),E[W].push(B),E},{});return{keys:U.length?U.filter(E=>P[E]):Object.keys(P).sort(),groups:P}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Go back",children:" Back"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Session Management"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search sessions...",value:p,onChange:L=>C(L.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm w-full sm:w-40 focus:outline-none focus:ring-2 focus:ring-blue-500"}),p&&l.jsx("button",{onClick:()=>C(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),l.jsx("button",{onClick:X,className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Refresh",children:"Refresh"}),l.jsx("button",{onClick:()=>{x(null),_({name:"",description:"",startDate:"",endDate:"",type:"yearly"}),N(!0)},className:"text-sm rounded-md bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",title:"Add Session",children:"+ Add Session"})]})]}),b&&l.jsx("div",{className:"mb-4 text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:b}),d&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:d}),o?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading sessions..."})]}):l.jsx("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session Name"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Players"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coaches"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-sm text-gray-500",children:p?"No sessions found matching your criteria":"No sessions found"})}):G.map(L=>{var $,U;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:L.description||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:L.startDate?new Date(L.startDate).toLocaleDateString():"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:L.endDate?new Date(L.endDate).toLocaleDateString():"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:L.type})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-gray-500",children:[(($=L.players)==null?void 0:$.length)||0," players"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-gray-500",children:[((U=L.coaches)==null?void 0:U.length)||0," coaches"]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx(Ze,{to:`/dashboard/sessions/${L._id}/schedule`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"Schedule"}),l.jsx(Ze,{to:`/dashboard/session-management/${L._id}`,className:"text-blue-600 hover:text-blue-900 mr-3",children:"Manage"}),l.jsx("button",{onClick:()=>te(L),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),l.jsx("button",{onClick:()=>le(L._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},L._id)})})]})})})]}),y&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>N(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:g?"Edit Session":"Create New Session"}),l.jsxs("form",{onSubmit:q,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Session Name *"}),l.jsx("input",{type:"text",name:"name",value:Z.name,onChange:T,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:Z.description,onChange:T,rows:"3",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date *"}),l.jsx("input",{type:"date",name:"startDate",value:Z.startDate,onChange:T,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date *"}),l.jsx("input",{type:"date",name:"endDate",value:Z.endDate,onChange:T,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Session Type *"}),l.jsx("select",{name:"type",value:Z.type,onChange:T,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:np.map(L=>l.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>N(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:o?g?"Updating...":"Creating...":g?"Update Session":"Create Session"})]})]})]})]})}),w&&h&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>O(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-4xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:['Manage Participants for "',h.name,'"']}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Available Players"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-2",children:(()=>{const{keys:L,groups:$}=ve(Y,U=>U.group,["Minimum","Cadet","Junior","Senior"]);return L.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No available players"}):L.map(U=>l.jsxs("div",{className:"mb-2 border rounded-md",children:[l.jsxs("button",{type:"button",onClick:()=>S(P=>({...P,[U]:!P[U]})),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-900",children:U}),l.jsx("span",{className:"text-gray-500",children:k[U]?"":""})]}),k[U]&&l.jsx("ul",{className:"divide-y divide-gray-200",children:$[U].map(P=>l.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-gray-900",children:P.fullName}),l.jsx("button",{onClick:()=>K(P._id),className:"text-blue-600 hover:text-blue-900 text-sm",children:"Add"})]},P._id))})]},`avail-p-${U}`))})()})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Assigned Players"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-2",children:(()=>{const{keys:L,groups:$}=ve(I,U=>U.group,["Minimum","Cadet","Junior","Senior"]);return L.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No assigned players"}):L.map(U=>l.jsxs("div",{className:"mb-2 border rounded-md",children:[l.jsxs("button",{type:"button",onClick:()=>M(P=>({...P,[U]:!P[U]})),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-900",children:U}),l.jsx("span",{className:"text-gray-500",children:j[U]?"":""})]}),j[U]&&l.jsx("ul",{className:"divide-y divide-gray-200",children:$[U].map(P=>l.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-gray-900",children:P.fullName}),l.jsx("button",{onClick:()=>ie(P._id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove"})]},P._id))})]},`ass-p-${U}`))})()})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Available Coaches"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-2",children:(()=>{const{keys:L,groups:$}=ve(z,U=>U.specialization||"General");return L.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No available coaches"}):L.map(U=>l.jsxs("div",{className:"mb-2 border rounded-md",children:[l.jsxs("button",{type:"button",onClick:()=>re(P=>({...P,[U]:!P[U]})),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-900",children:U}),l.jsx("span",{className:"text-gray-500",children:J[U]?"":""})]}),J[U]&&l.jsx("ul",{className:"divide-y divide-gray-200",children:$[U].map(P=>l.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-gray-900",children:P.fullName}),l.jsx("button",{onClick:()=>ye(P._id),className:"text-blue-600 hover:text-blue-900 text-sm",children:"Add"})]},P._id))})]},`avail-c-${U}`))})()})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Assigned Coaches"}),l.jsx("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md p-2",children:(()=>{const{keys:L,groups:$}=ve(Q,U=>U.specialization||"General");return L.length===0?l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No coaches assigned"}):L.map(U=>l.jsxs("div",{className:"mb-2 border rounded-md",children:[l.jsxs("button",{type:"button",onClick:()=>F(P=>({...P,[U]:!P[U]})),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-900",children:U}),l.jsx("span",{className:"text-gray-500",children:ge[U]?"":""})]}),ge[U]&&l.jsx("ul",{className:"divide-y divide-gray-200",children:$[U].map(P=>l.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-gray-900",children:P.fullName}),l.jsx("button",{onClick:()=>xe(P._id),className:"text-red-600 hover:text-red-900 text-sm",children:"Remove"})]},P._id))})]},`ass-c-${U}`))})()})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{type:"button",onClick:()=>O(!1),className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Close"})})]})]})})]})}function ip(){const{sessionId:e}=Ec(),t=Fe(),[a,s]=m.useState(null),[n,r]=m.useState([]),[i,o]=m.useState([]),[c,d]=m.useState(!0),[f,b]=m.useState(""),[u,y]=m.useState("");m.useEffect(()=>{e&&N()},[e]);const N=async()=>{d(!0),b("");try{const x=localStorage.getItem("teamId");if(!x)throw new Error("Team ID not found");const[h,v,w]=await Promise.all([ma(x),Ha(),ll()]),O=h.find(j=>j._id===e||j._id.toString()===e);if(!O)throw new Error("Session not found");const k=v.filter(j=>(O.players||[]).some(M=>M._id===j._id||M===j._id)),S=w.filter(j=>(O.coaches||[]).some(M=>M._id===j._id||M===j._id));s(O),r(k||[]),o(S||[])}catch(x){b(x.message||"Failed to load payment schedule data")}finally{d(!1)}},p=x=>{const h=[],v=new Date(x.startDate),w=new Date(x.endDate),O=new Date;O.setDate(1);const k=new Date(v);for(;k<=w;){const S=new Date(k.getFullYear(),k.getMonth()+1,0),j=S<O;h.push({key:`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}`,label:k.toLocaleDateString("en-US",{month:"short",year:"2-digit"}),isPast:j,monthEnd:S}),k.setMonth(k.getMonth()+1)}return h},C=(x,h="pending")=>x.isPast&&h==="pending"?"delayed":h,g=x=>{switch(x){case"paid":return"bg-green-100 text-green-800 border-green-200";case"delayed":return"bg-red-100 text-red-800 border-red-200";case"pending":default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}};return c?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment schedule..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",children:" Back to Sessions"}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Payment Schedule: ",a.name]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(a.startDate).toLocaleDateString()," - ",new Date(a.endDate).toLocaleDateString()]})]})]}),l.jsx("button",{onClick:()=>{alert("Payment status would be saved here")},className:"text-sm rounded-md bg-green-600 text-white px-4 py-2 hover:bg-green-700",children:"Save Changes"})]}),u&&l.jsx("div",{className:"mb-4 text-green-700 bg-green-50 border border-green-200 rounded p-3 text-sm",children:u}),f&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-3 text-sm",children:f}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Players Payment Status"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),p(a).map(x=>l.jsxs("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${x.isPast?"text-red-600 bg-red-50":"text-gray-500"}`,children:[x.label,x.isPast&&l.jsx("div",{className:"text-xs font-normal text-red-500 mt-1",children:"Past Due"})]},x.key))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length?n.map(x=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.fullName})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:x.group})}),p(a).map(h=>{const v=C(h,"pending"),w=g(v);return l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:[l.jsxs("select",{className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 ${w} ${h.isPast?"font-semibold":""}`,defaultValue:v,disabled:h.isPast&&v==="delayed",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"paid",children:"Paid"}),l.jsx("option",{value:"delayed",children:"Delayed"})]}),h.isPast&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Past due"})]},h.key)})]},x._id)):l.jsx("tr",{children:l.jsx("td",{colSpan:p(a).length+2,className:"px-6 py-4 text-center text-gray-500",children:"No players assigned to this session"})})})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Coaches Payment Status"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coach Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specialization"}),p(a).map(x=>l.jsxs("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${x.isPast?"text-red-600 bg-red-50":"text-gray-500"}`,children:[x.label,x.isPast&&l.jsx("div",{className:"text-xs font-normal text-red-500 mt-1",children:"Past Due"})]},x.key))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length?i.map(x=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.fullName})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:x.specialization||"General"})}),p(a).map(h=>{const v=C(h,"pending"),w=g(v);return l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:[l.jsxs("select",{className:`text-xs border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 ${w} ${h.isPast?"font-semibold":""}`,defaultValue:v,disabled:h.isPast&&v==="delayed",children:[l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"paid",children:"Paid"}),l.jsx("option",{value:"delayed",children:"Delayed"})]}),h.isPast&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Past due"})]},h.key)})]},x._id)):l.jsx("tr",{children:l.jsx("td",{colSpan:p(a).length+2,className:"px-6 py-4 text-center text-gray-500",children:"No coaches assigned to this session"})})})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Players"}),l.jsx("div",{className:"text-2xl font-semibold text-blue-600",children:n.length})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Coaches"}),l.jsx("div",{className:"text-2xl font-semibold text-green-600",children:i.length})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Months to Track"}),l.jsx("div",{className:"text-2xl font-semibold text-purple-600",children:p(a).length})]})]})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-center",children:f?l.jsxs("div",{children:[l.jsx("p",{className:"text-red-600 mb-4",children:f}),l.jsx("button",{onClick:()=>t("/dashboard/sessions"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Back to Sessions"})]}):l.jsx("p",{className:"text-red-600",children:"Session not found"})})})}const op=[{name:"Default Blue",primary:"#2563eb",accent:"#10b981"},{name:"Emerald",primary:"#059669",accent:"#22c55e"},{name:"Indigo",primary:"#4f46e5",accent:"#06b6d4"},{name:"Amber",primary:"#d97706",accent:"#84cc16"},{name:"Rose",primary:"#e11d48",accent:"#f97316"}];function cp(){const[e,t]=m.useState(localStorage.getItem("theme_primary")||"#2563eb"),[a,s]=m.useState(localStorage.getItem("theme_accent")||"#10b981"),[n,r]=m.useState(localStorage.getItem("theme_dark")==="1");m.useEffect(()=>{const d=document.documentElement;d.style.setProperty("--sm-primary",e),d.style.setProperty("--sm-accent",a),n?d.classList.add("dark"):d.classList.remove("dark"),localStorage.setItem("theme_primary",e),localStorage.setItem("theme_accent",a),localStorage.setItem("theme_dark",n?"1":"0")},[e,a,n]);const i=m.useMemo(()=>({backgroundColor:e}),[e]),o=()=>{const d=document.documentElement;d.style.setProperty("--sm-primary",e),d.style.setProperty("--sm-accent",a)},c=()=>{t("#2563eb"),s("#10b981"),r(!1)};return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 sm:p-6",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Settings"}),l.jsxs("div",{className:"rounded-xl bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Theme"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Primary Color"}),l.jsx("input",{type:"color",value:e,onChange:d=>t(d.target.value),className:"w-16 h-10 p-0 border rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Accent Color"}),l.jsx("input",{type:"color",value:a,onChange:d=>s(d.target.value),className:"w-16 h-10 p-0 border rounded"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:d=>r(d.target.checked),className:"rounded"}),"Enable dark mode"]})}),l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Presets"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:op.map(d=>{const f=e===d.primary&&a===d.accent;return l.jsx("button",{onClick:()=>{t(d.primary),s(d.accent)},"aria-pressed":f,className:`px-3 py-1.5 text-sm rounded border transition-colors ${f?"border-blue-600 text-blue-600 bg-blue-50 dark:bg-gray-700":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200"}`,title:d.name,children:d.name},d.name)})})]}),l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{onClick:o,className:"rounded-md bg-blue-600 text-white px-3 py-1.5 text-sm hover:bg-blue-700",children:"Apply"}),l.jsx("button",{onClick:c,className:"rounded-md border border-gray-300 dark:border-gray-600 px-3 py-1.5 text-sm text-gray-800 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Reset to Default"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Preview"}),l.jsxs("div",{className:"rounded-lg p-4 text-white",style:i,children:[l.jsx("div",{className:"text-lg font-semibold",children:localStorage.getItem("teamName")||"Your Team"}),l.jsx("div",{className:"text-sm opacity-90",children:"Primary colored header sample"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Professional Options"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"High-contrast mode for accessibility"}),l.jsx("input",{type:"checkbox",onChange:d=>document.documentElement.classList.toggle("hc",d.target.checked),className:"rounded"})]}),l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Compact tables"}),l.jsx("input",{type:"checkbox",onChange:d=>document.documentElement.classList.toggle("compact",d.target.checked),className:"rounded"})]}),l.jsxs("label",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Reduce motion"}),l.jsx("input",{type:"checkbox",onChange:d=>document.documentElement.classList.toggle("reduce-motion",d.target.checked),className:"rounded"})]})]})]}),l.jsx(dp,{})]})]})})}function dp(){const[e,t]=m.useState(localStorage.getItem("teamName")||""),[a,s]=m.useState(null),[n,r]=m.useState(localStorage.getItem("teamLogo")||""),[i,o]=m.useState("No file chosen"),c=f=>{var y;const b=(y=f.target.files)==null?void 0:y[0];if(!b)return;if(!b.type.startsWith("image/")){alert("Please select an image file");return}s(b),o(b.name);const u=new FileReader;u.onload=N=>{var p;return r(((p=N.target)==null?void 0:p.result)||"")},u.readAsDataURL(b)},d=async()=>{var f,b,u,y;try{const N=new FormData;e&&N.append("teamName",e),a&&N.append("teamLogo",a);const p=localStorage.getItem("authToken")||sessionStorage.getItem("authToken"),C=await fetch(`${V}/api/auth/me`,{method:"PUT",headers:p?{Authorization:`Bearer ${p}`}:void 0,body:N}),g=await C.json().catch(()=>({}));if(!C.ok)throw new Error((g==null?void 0:g.message)||"Failed to update profile");(f=g==null?void 0:g.data)!=null&&f.teamName&&localStorage.setItem("teamName",g.data.teamName),(b=g==null?void 0:g.data)!=null&&b.logo&&localStorage.setItem("teamLogo",g.data.logo),window.dispatchEvent(new CustomEvent("sm-team-updated",{detail:{teamName:(u=g==null?void 0:g.data)==null?void 0:u.teamName,teamLogo:(y=g==null?void 0:g.data)==null?void 0:y.logo}})),alert("Saved. Refresh dashboard to see changes.")}catch{n&&localStorage.setItem("teamLogo",n),window.dispatchEvent(new CustomEvent("sm-team-updated",{detail:{teamName:e,teamLogo:n}})),alert("Saved locally. Refresh dashboard to see changes.")}};return l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Team"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Team Name"}),l.jsx("input",{value:e,onChange:f=>t(f.target.value),className:"w-full rounded border border-gray-300 dark:border-gray-600 px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"inline-block px-3 py-1.5 text-sm rounded border border-gray-300 dark:border-gray-600 cursor-pointer bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700",children:["Choose file",l.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 truncate max-w-[12rem]",children:i})]}),n&&l.jsx("img",{src:n,alt:"Logo preview",className:"mt-2 h-16 w-16 object-cover rounded border"})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{onClick:d,className:"rounded-md bg-blue-600 text-white px-3 py-1.5 text-sm hover:bg-blue-700",children:"Save Team Settings"})})]})}const fu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function up({isOpen:e,onClose:t,onCreated:a,initialDate:s}){const[n,r]=m.useState({title:"",description:"",date:s||new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"10:00",location:"",group:"",subgroup:"",isWeekly:!1,dayOfWeek:"Monday",isSpecialDate:!1,notes:""}),[i,o]=m.useState([]),[c,d]=m.useState([]),[f,b]=m.useState([]),[u,y]=m.useState(""),[N,p]=m.useState(!1),[C,g]=m.useState("");m.useEffect(()=>{e&&(x(),h())},[e]),m.useEffect(()=>{n.group&&u&&(console.log("Loading subgroups for group:",n.group,"session:",u),v())},[n.group,u]);const x=async()=>{try{const j=localStorage.getItem("teamId");if(!j)return;const M=await ma(j);o(M||[])}catch(j){console.error("Failed to load sessions:",j)}},h=async()=>{try{const j=await Ha();d(j||[])}catch(j){console.error("Failed to load players:",j)}},v=async()=>{try{const j=localStorage.getItem("teamId");if(!j||!u){console.log("Missing teamId or sessionId:",{teamId:j,selectedSessionId:u});return}console.log("Fetching subgroups from:",`${V}/api/subgroups/session/${u}?teamId=${j}`);const M=await fetch(`${V}/api/subgroups/session/${u}?teamId=${j}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error("Failed to fetch subgroups");const J=await M.json();console.log("Subgroups response:",J);const re=J.data.filter(ge=>ge.category===n.group);console.log("Filtered subgroups for category:",n.group,":",re),b(re||[])}catch(j){console.error("Failed to load subgroups:",j),b([])}},w=()=>[...new Set(c.map(M=>M.group))].filter(M=>M&&M.trim()!==""),O=j=>{const{name:M,value:J,type:re,checked:ge}=j.target;r(F=>({...F,[M]:re==="checkbox"?ge:J}))},k=async j=>{j.preventDefault(),p(!0),g("");try{if(!u)throw new Error("Please select a season/session");if(!n.group)throw new Error("Please select a group");const M={title:n.title,description:n.description,startTime:n.startTime,endTime:n.endTime,dayOfWeek:n.isSpecialDate?null:n.dayOfWeek,location:n.location,group:n.group,subgroup:n.subgroup||null,session:u,isWeekly:n.isWeekly&&!n.isSpecialDate,notes:n.notes};await Lb(M),a(),r({title:"",description:"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"10:00",location:"",group:"",subgroup:"",isWeekly:!1,dayOfWeek:"Monday",isSpecialDate:!1,notes:""}),y(""),b([]),t()}catch(M){g(M.message||"Failed to create training session")}finally{p(!1)}};if(!e)return null;const S=w();return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Training Session"}),C&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:C}),l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("input",{id:"isWeekly",type:"checkbox",name:"isWeekly",checked:!!n.isWeekly&&!n.isSpecialDate,onChange:O,disabled:n.isSpecialDate,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isWeekly",className:"text-sm font-medium text-blue-800",children:"Repeat weekly (same day/time for this group)"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("input",{id:"isSpecialDate",type:"checkbox",name:"isSpecialDate",checked:!!n.isSpecialDate,onChange:O,className:"h-4 w-4 text-green-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isSpecialDate",className:"text-sm font-medium text-green-800",children:"Special date training (one-time session)"})]})]}),!n.isSpecialDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Week *"}),l.jsx("select",{name:"dayOfWeek",value:n.dayOfWeek,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:fu.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),l.jsx("input",{type:"text",name:"title",value:n.title,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:n.description,onChange:O,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Season/Session *"}),l.jsxs("select",{value:u,onChange:j=>y(j.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select a session"}),i.map(j=>l.jsx("option",{value:j._id,children:j.name},j._id))]})]}),(!n.isWeekly||n.isSpecialDate)&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date *"}),l.jsx("input",{type:"date",name:"date",value:n.date,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),!n.isSpecialDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Week *"}),l.jsx("select",{name:"dayOfWeek",value:n.dayOfWeek,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:fu.map(j=>l.jsx("option",{value:j,children:j},j))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time *"}),l.jsx("input",{type:"time",name:"startTime",value:n.startTime,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time *"}),l.jsx("input",{type:"time",name:"endTime",value:n.endTime,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:n.location,onChange:O,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Group *"}),l.jsxs("select",{name:"group",value:n.group,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select a group"}),S.map(j=>l.jsx("option",{value:j,children:j},j))]}),S.length===0&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"No groups with players available"})]}),n.group&&f.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subgroup (Optional)"}),l.jsxs("select",{name:"subgroup",value:n.subgroup,onChange:O,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All subgroups"}),f.map(j=>l.jsx("option",{value:j._id,children:j.name},j._id))]}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[f.length," subgroup",f.length!==1?"s":""," available for ",n.group]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:O,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:t,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:N,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:N?"Creating...":"Create Session"})]})]})]})]})})}const hu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function mp({isOpen:e,session:t,onClose:a,onSaved:s}){const[n,r]=m.useState({title:"",description:"",date:"",startTime:"",endTime:"",location:"",group:"",subgroup:"",notes:"",isWeekly:!1,dayOfWeek:"Monday",isSpecialDate:!1,session:""}),[i,o]=m.useState([]),[c,d]=m.useState([]),[f,b]=m.useState([]),[u,y]=m.useState(!1),[N,p]=m.useState(!1),[C,g]=m.useState("");m.useEffect(()=>{e&&t&&(p(!0),zb(t._id).then(j=>{r({title:j.title||"",description:j.description||"",date:j.date?j.date.split("T")[0]:"",startTime:j.startTime||"",endTime:j.endTime||"",location:j.location||"",group:j.group||"",subgroup:j.subgroup||"",notes:j.notes||"",isWeekly:!!j.isWeekly,dayOfWeek:j.dayOfWeek||"Monday",isSpecialDate:!j.isWeekly&&!j.dayOfWeek,session:j.session||""})}).catch(j=>{g(j.message||"Failed to load training session data")}).finally(()=>{p(!1)}))},[e,t]),m.useEffect(()=>{e&&(x(),h())},[e]),m.useEffect(()=>{n.group&&n.session&&(console.log("Loading subgroups for group:",n.group,"session:",n.session),v())},[n.group,n.session]);const x=async()=>{try{const j=await Ha();o(j||[])}catch(j){console.error("Failed to load players:",j)}},h=async()=>{try{const j=localStorage.getItem("teamId");if(!j)return;const M=await ma(j);d(M||[])}catch(j){console.error("Failed to load sessions:",j)}},v=async()=>{try{const j=localStorage.getItem("teamId");if(!j||!n.session)return;console.log("Fetching subgroups for session:",n.session);const M=await fetch(`${V}/api/subgroups/session/${n.session}?teamId=${j}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error("Failed to fetch subgroups");const J=await M.json();console.log("Subgroups response:",J);const re=J.data.filter(ge=>ge.category===n.group);console.log("Filtered subgroups for category:",n.group,":",re),b(re||[])}catch(j){console.error("Failed to load subgroups:",j),b([])}},w=()=>[...new Set(i.map(M=>M.group))].filter(M=>M&&M.trim()!==""),O=j=>{const{name:M,value:J,type:re,checked:ge}=j.target;r(F=>({...F,[M]:re==="checkbox"?ge:J}))},k=async j=>{j.preventDefault(),y(!0),g("");try{if(!n.session)throw new Error("Please select a season/session");if(!n.group)throw new Error("Please select a group");const M={title:n.title,description:n.description,startTime:n.startTime,endTime:n.endTime,dayOfWeek:n.isSpecialDate?null:n.dayOfWeek,location:n.location,group:n.group,subgroup:n.subgroup||null,session:n.session,notes:n.notes,isWeekly:n.isWeekly&&!n.isSpecialDate};await Ac(t._id,M),s(),a()}catch(M){g(M.message||"Failed to update training session")}finally{y(!1)}};if(m.useEffect(()=>{e||(r({title:"",description:"",date:"",startTime:"",endTime:"",location:"",group:"",subgroup:"",notes:"",isWeekly:!1,dayOfWeek:"Monday",isSpecialDate:!1,session:""}),g(""),b([]))},[e]),!e)return null;const S=w();return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Edit Training Session"}),C&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:C}),N?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Loading session data..."})]}):l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("input",{id:"edit-isWeekly",type:"checkbox",name:"isWeekly",checked:!!n.isWeekly&&!n.isSpecialDate,onChange:O,disabled:n.isSpecialDate,className:"h-4 w-4 text-blue-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"edit-isWeekly",className:"text-sm font-medium text-blue-800",children:"Repeat weekly (same day/time for this group)"})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("input",{id:"edit-isSpecialDate",type:"checkbox",name:"isSpecialDate",checked:!!n.isSpecialDate,onChange:O,className:"h-4 w-4 text-green-600 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"edit-isSpecialDate",className:"text-sm font-medium text-green-800",children:"Special date training (one-time session)"})]})]}),!n.isSpecialDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Week *"}),l.jsx("select",{name:"dayOfWeek",value:n.dayOfWeek,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:hu.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),l.jsx("input",{type:"text",name:"title",value:n.title,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{name:"description",value:n.description,onChange:O,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Season/Session *"}),l.jsxs("select",{value:n.session||"",onChange:j=>r(M=>({...M,session:j.target.value})),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select a session"}),c.map(j=>l.jsx("option",{value:j._id,children:j.name},j._id))]})]}),(!n.isWeekly||n.isSpecialDate)&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date *"}),l.jsx("input",{type:"date",name:"date",value:n.date,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),!n.isSpecialDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Week *"}),l.jsx("select",{name:"dayOfWeek",value:n.dayOfWeek,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:hu.map(j=>l.jsx("option",{value:j,children:j},j))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Time *"}),l.jsx("input",{type:"time",name:"startTime",value:n.startTime,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Time *"}),l.jsx("input",{type:"time",name:"endTime",value:n.endTime,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),l.jsx("input",{type:"text",name:"location",value:n.location,onChange:O,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Group *"}),l.jsxs("select",{name:"group",value:n.group,onChange:O,required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select a group"}),S.map(j=>l.jsx("option",{value:j,children:j},j))]}),S.length===0&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"No groups with players available"})]}),n.group&&f.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subgroup (Optional)"}),l.jsxs("select",{name:"subgroup",value:n.subgroup,onChange:O,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All subgroups"}),f.map(j=>l.jsx("option",{value:j._id,children:j.name},j._id))]}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[f.length," subgroup",f.length!==1?"s":""," available for ",n.group]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),l.jsx("textarea",{name:"notes",value:n.notes,onChange:O,rows:"2",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:a,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:u?"Updating...":"Update Session"})]})]})]})]})})}const fp=["Minimum","Cadet","Junior","Senior"];function hp(){const e=Fe(),[t,a]=m.useState([]),[s,n]=m.useState(!1),[r,i]=m.useState(""),[o,c]=m.useState(""),[d,f]=m.useState(null),[b,u]=m.useState(!1),[y,N]=m.useState(null),[p,C]=m.useState(!1),[g,x]=m.useState(new Date().toISOString().split("T")[0]),[h,v]=m.useState(()=>{const G=new Date,Y=G.getDay(),z=Y===0?-6:1-Y,I=new Date(G);return I.setDate(G.getDate()+z),I.setHours(0,0,0,0),I}),[w,O]=m.useState(""),[k,S]=m.useState([]),[j,M]=m.useState({}),[J,re]=m.useState([]),[ge,F]=m.useState([]),[Z,_]=m.useState([]),X=async(G=g)=>{n(!0),i(""),c("");try{const Y=localStorage.getItem("teamId"),z=Y?await ma(Y):[];let Q=(await Promise.all((z||[]).map(U=>O0(U._id)))).flat();w&&(Q=Q.filter(U=>U.group===w)),a(Q),await A(Q);try{const U=await ll();re(U||[])}catch(U){console.error("Failed to load coaches:",U),re([])}try{const U=await ye();F(U||[])}catch(U){console.error("Failed to load subgroups:",U),F([])}const ve=new Date(h).toISOString().split("T")[0],L=new Date(h);L.setDate(h.getDate()+5);const $=L.toISOString().split("T")[0];try{const U=await Mc({startDate:ve,endDate:$});S(U||[])}catch{S([])}}catch(Y){i(Y.message||"Failed to load training sessions")}finally{n(!1)}},A=async G=>{const Y={};try{await Promise.all(G.map(async z=>{try{const I=await ap(z._id);Y[z._id]=(I==null?void 0:I.stats)||{present:0,absent:0,late:0,total:0}}catch(I){console.error(`Error loading attendance stats for session ${z._id}:`,I)}})),M(Y)}catch(z){console.error("Error loading attendance statistics:",z)}};m.useEffect(()=>{X()},[g,w,h]);const T=()=>{const G=[];for(let Y=0;Y<7;Y++){const z=new Date(h);z.setDate(h.getDate()+Y);const I=z.toLocaleDateString(void 0,{weekday:"long"});G.push({date:z,label:I})}return G},q=()=>{const G=h,Y=new Date(h);Y.setDate(h.getDate()+6);const z={month:"short",day:"numeric"};return`${G.toLocaleDateString(void 0,z)} - ${Y.toLocaleDateString(void 0,z)}`},te=()=>v(G=>{const Y=new Date(G);return Y.setDate(G.getDate()-7),Y}),le=()=>v(G=>{const Y=new Date(G);return Y.setDate(G.getDate()+7),Y}),ne=async G=>{if(window.confirm("Delete this training session?"))try{await Ub(G),c("Training session deleted successfully"),X()}catch(Y){i(Y.message||"Failed to delete training session")}},K=async()=>{if(!(!y||Z.length===0))try{const G=y.coaches||[],Y=Z.map(I=>{const Q=J.find(ve=>ve._id===I);return Q?{_id:Q._id,fullName:Q.fullName}:{_id:I,fullName:"Unknown Coach"}}),z=[...G,...Y];await Ac(y._id,{coaches:z}),c(`${Z.length} coach(es) assigned successfully`),C(!1),N(null),_([]),X()}catch(G){i(G.message||"Failed to assign coaches")}},ie=G=>{_(Y=>Y.includes(G)?Y.filter(z=>z!==G):[...Y,G])},ye=async()=>{const G=localStorage.getItem("teamId");try{const Y=await fetch(`${API_BASE_URL}/api/sessions?teamId=${G}`,{method:"GET",headers:createAuthHeaders()});if(!Y.ok)return console.warn("Failed to fetch sessions, returning empty subgroups"),[];const Q=((await Y.json()).data||[]).map(async $=>{try{const U=await fetch(`${API_BASE_URL}/api/subgroups/session/${$._id}?teamId=${G}`,{method:"GET",headers:createAuthHeaders()});return U.ok?(await U.json()).data||[]:[]}catch(U){return console.warn(`Failed to fetch subgroups for session ${$._id}:`,U),[]}});return(await Promise.all(Q)).flat()}catch(Y){return console.error("Error fetching subgroups:",Y),[]}},xe=G=>{if(!G)return"";const Y=ge.find(z=>z._id===G);return Y?Y.name:""};return m.useMemo(()=>{const G={};for(let Y=6;Y<=22;Y++)for(let z=0;z<60;z+=30){const I=`${Y.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}`;G[I]=[]}return t.forEach(Y=>{const z=Y.startTime;G[z]&&G[z].push(Y)}),G},[t]),l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-4 sm:p-6 transition-colors",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 dark:bg-gray-700 px-3 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100 transition-colors",title:"Go back",children:" Back"}),l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Training Plans"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("input",{type:"date",value:g,onChange:G=>x(G.target.value),className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsxs("select",{value:w,onChange:G=>O(G.target.value),className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"All Groups"}),fp.map(G=>l.jsx("option",{value:G,children:G},G))]}),l.jsx("button",{onClick:X,className:"text-sm rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-2 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Refresh",children:"Refresh"}),l.jsx("button",{onClick:()=>u(!0),className:"text-sm rounded-md bg-blue-600 dark:bg-blue-700 text-white px-3 py-2 hover:bg-blue-700 dark:hover:bg-blue-800 transition-colors",title:"Add Training Session",children:"+ Add Session"})]})]}),o&&l.jsx("div",{className:"mb-3 text-green-700 dark:text-green-300 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded p-2 text-sm",children:o}),s?l.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Loading training sessions"}):r?l.jsx("div",{className:"text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded p-3 text-sm",children:r}):l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:[l.jsxs("div",{className:"p-3 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:["Week: ",q()]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:te,className:"px-2 py-1 text-sm rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:" Prev"}),l.jsx("button",{onClick:le,className:"px-2 py-1 text-sm rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Next "})]})]}),l.jsx("div",{className:"p-2 divide-y divide-gray-100 dark:divide-gray-700 transition-colors",children:T().map(({date:G,label:Y})=>l.jsxs("div",{className:"py-2",children:[l.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:Y}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-300",children:G.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),l.jsxs("div",{className:"mt-1 space-y-2",children:[k.filter(z=>new Date(z.startDate).toLocaleDateString(void 0,{weekday:"long"})===Y).map(z=>{var I,Q;return l.jsxs("div",{className:`px-2 py-1 rounded text-xs inline-flex items-center gap-2 border transition-colors ${((I=z.eventType)==null?void 0:I.toLowerCase())==="match"?"bg-red-200 dark:bg-red-900/40 text-red-800 dark:text-red-200 border-red-300 dark:border-red-600 hover:bg-red-300 dark:hover:bg-red-900/50":"bg-purple-200 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-300 dark:border-purple-600 hover:bg-purple-300 dark:hover:bg-purple-900/50"}`,children:[l.jsx("span",{className:"font-medium",children:((Q=z.eventType)==null?void 0:Q.toUpperCase())||"EVENT"}),l.jsx("span",{className:"truncate",children:z.title})]},z._id)}),t.filter(z=>z.dayOfWeek===Y&&(!w||z.group===w)).sort((z,I)=>(z.startTime||"").localeCompare(I.startTime||"")).map(z=>{var I;return l.jsxs("div",{className:`p-3 rounded-md border text-sm shadow-sm hover:shadow transition-colors ${z.group==="Minimum"?"bg-emerald-100 dark:bg-emerald-900/30 border-emerald-300 dark:border-emerald-600 hover:bg-emerald-200 dark:hover:bg-emerald-900/40":z.group==="Cadet"?"bg-indigo-100 dark:bg-indigo-900/30 border-indigo-300 dark:border-indigo-600 hover:bg-indigo-200 dark:hover:bg-indigo-900/40":z.group==="Junior"?"bg-amber-100 dark:bg-amber-900/30 border-amber-300 dark:border-amber-600 hover:bg-amber-200 dark:hover:bg-amber-900/40":z.group==="Poussin"?"bg-pink-100 dark:bg-pink-900/30 border-pink-300 dark:border-pink-600 hover:bg-pink-200 dark:hover:bg-pink-900/40":z.group==="Ecole"?"bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600 hover:bg-slate-200 dark:hover:bg-slate-700":"bg-sky-100 dark:bg-sky-900/30 border-sky-300 dark:border-sky-600 hover:bg-sky-200 dark:hover:bg-sky-900/40"}`,children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:z.title}),z.isWeekly&&l.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-blue-200 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-600 text-[11px] transition-colors",children:"Weekly"})]}),l.jsxs("div",{className:"mt-0.5 text-gray-700 dark:text-gray-300",children:[l.jsxs("div",{children:[z.startTime," - ",z.endTime,"  ",z.group]}),z.subgroup&&l.jsx("div",{className:"text-xs mt-0.5",children:xe(z.subgroup)||`Subgroup: ${z.subgroup}`})]}),(I=z.coaches)!=null&&I.length?l.jsx("div",{className:"text-gray-600 dark:text-gray-300 truncate text-xs",children:z.coaches.map(Q=>Q.fullName).join(", ")}):null]}),l.jsxs("div",{className:"flex-shrink-0 flex gap-1",children:[l.jsx("button",{onClick:()=>f(z),className:"px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-gray-800/70 dark:text-blue-300 border border-blue-300 dark:border-blue-700 text-xs transition-colors hover:bg-blue-200 dark:hover:bg-gray-700/80",children:"Edit"}),l.jsx("button",{onClick:()=>ne(z._id),className:"px-2 py-1 rounded bg-red-100 text-red-700 dark:bg-gray-800/70 dark:text-red-300 border border-red-300 dark:border-red-700 text-xs transition-colors hover:bg-red-200 dark:hover:bg-gray-700/80",children:"Del"}),l.jsx("button",{onClick:()=>{N(z),C(!0)},className:"px-2 py-1 rounded bg-green-100 text-green-700 dark:bg-gray-800/70 dark:text-green-300 border border-green-300 dark:border-green-700 text-xs transition-colors hover:bg-green-200 dark:hover:bg-gray-700/80",children:"Assign Coaches"})]})]}),z.notes&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Coach Notes:"}),l.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-200 bg-blue-100 dark:bg-blue-900/30 p-2 rounded border-l-2 border-blue-300 dark:border-blue-500 transition-colors",children:z.notes})]}),j[z._id]&&l.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-300",children:"Attendance:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full bg-green-200 dark:bg-green-900/40 text-green-800 dark:text-green-200 text-xs transition-colors border border-green-300 dark:border-green-700",children:[j[z._id].present," Present"]}),l.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full bg-yellow-200 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200 text-xs transition-colors border border-yellow-300 dark:border-yellow-700",children:[j[z._id].late," Late"]}),l.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full bg-red-200 dark:bg-red-900/40 text-red-800 dark:text-red-200 text-xs transition-colors border border-red-300 dark:border-red-700",children:[j[z._id].absent," Absent"]})]}),j[z._id].total>0&&l.jsxs("span",{className:"text-gray-500 dark:text-gray-300",children:["(",Math.round((j[z._id].present+j[z._id].late)/j[z._id].total*100),"%)"]})]})})]},z._id)}),t.filter(z=>z.dayOfWeek===Y&&(!w||z.group===w)).length===0&&l.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 px-2",children:"No sessions"})]})]},Y))})]})]}),l.jsx(up,{isOpen:b,onClose:()=>u(!1),onCreated:()=>{u(!1),X()},initialDate:g}),l.jsx(mp,{isOpen:!!d,session:d,onClose:()=>f(null),onSaved:()=>{f(null),X()}}),p&&y&&l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>C(!1)}),l.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:["Assign Coaches to ",y.title]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:J.length===0?l.jsx("p",{className:"text-center text-gray-500",children:"No coaches available"}):l.jsx("div",{className:"space-y-2",children:J.map(G=>{var I;const Y=Z.includes(G._id),z=(I=y.coaches)==null?void 0:I.some(Q=>Q._id===G._id||Q===G._id);return l.jsx("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:Y,onChange:()=>ie(G._id),disabled:z,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsxs("div",{children:[l.jsx("span",{className:`text-sm ${z?"text-gray-500":"text-gray-900"}`,children:G.fullName}),G.specialization&&l.jsx("p",{className:"text-xs text-gray-500",children:G.specialization}),z&&l.jsx("span",{className:"text-xs text-green-600 font-medium",children:"(Already assigned)"})]})]})},G._id)})})}),l.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:()=>{C(!1),N(null),_([])},className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),l.jsxs("button",{type:"button",onClick:K,disabled:Z.length===0,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:["Assign Coaches (",Z.length,")"]})]})]})]})})]})}const xp=["Minimum","Cadet","Junior","Senior"];function gp(){const e=Fe(),{sessionId:t}=Ec(),[a,s]=m.useState([]),[n,r]=m.useState(null),[i,o]=m.useState(!1),[c,d]=m.useState(""),[f,b]=m.useState("");m.useState(!1),m.useState(!1),m.useState(!1),m.useState(null),m.useState(null);const[u,y]=m.useState("");m.useState({}),m.useState([]),m.useState(null),m.useState({});const[N,p]=m.useState(!0),[C,g]=m.useState([]),[x,h]=m.useState([]),[v,w]=m.useState([]),[O,k]=m.useState(!1),[S,j]=m.useState(""),[M,J]=m.useState(""),[re,ge]=m.useState("All"),[F,Z]=m.useState("all"),[_,X]=m.useState("default"),[A,T]=m.useState("all"),[q,te]=m.useState(null),le=async()=>{o(!0),d(""),b("");try{const E=await fetch(`${V}/api/sessions/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!E.ok)throw new Error("Failed to load session details");const B=await E.json();r(B.data);const W=await fetch(`${V}/api/training-sessions/session/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!W.ok)throw new Error("Failed to load training sessions");const fe=await W.json();s(fe.data||[])}catch(E){d(E.message||"Failed to load training sessions")}finally{o(!1)}},ne=async()=>{};m.useEffect(()=>{le(),ne(),K()},[t]);const K=async()=>{k(!0),j("");try{const[E,B]=await Promise.all([So({sessionId:t,subjectType:"player"}),So({sessionId:t,subjectType:"coach"})]);g(E.months||[]),h(E.schedule||[]),w(B.schedule||[])}catch(E){j(E.message||"Failed to load payment schedules")}finally{k(!1)}},ie=E=>{const B=["pending","delayed","paid"],W=B.indexOf(E);return B[(W+1)%B.length]},ye=E=>new Date(2e3,E-1,1).toLocaleString(void 0,{month:"short"}),xe=m.useMemo(()=>{const E=new Date,B={year:E.getFullYear(),month:E.getMonth()+1},fe={year:new Date(B.year,B.month,1).getFullYear(),month:B.month%12+1},at=new Set([`${B.year}-${B.month}`,`${fe.year}-${fe.month}`]),mt=Nt=>(Nt||[]).forEach(Ot=>(Ot.rows||[]).forEach(Ht=>{Ht.status==="delayed"&&at.add(`${Ht.year}-${Ht.month}`)}));return mt(x),mt(v),Array.from(at).map(Nt=>({year:Number(Nt.split("-")[0]),month:Number(Nt.split("-")[1])})).sort((Nt,Ot)=>Nt.year-Ot.year||Nt.month-Ot.month)},[x,v]),G=(E,B)=>{te({type:E,data:B})},Y=()=>{te(null)},z=(E,B)=>{const W=new Date(E,B,0),fe=new Date;return W.setHours(23,59,59,999),W<fe},I=E=>{try{const B=[...C||[]].sort((W,fe)=>W.year-fe.year||W.month-fe.month);for(const{year:W,month:fe}of B){const at=(E.rows||[]).find(mt=>mt.year===W&&mt.month===fe);if(at&&at.status==="pending"&&!z(W,fe))return new Date(W,fe-1,1)}return null}catch{return null}},Q=E=>{var Nt,Ot,Ht,cn;const B=(M||"").trim().toLowerCase();if(!B)return!0;const W=String(((Nt=E==null?void 0:E.subject)==null?void 0:Nt.fullName)||"").toLowerCase(),fe=String(((Ot=E==null?void 0:E.subject)==null?void 0:Ot.group)||"").toLowerCase(),at=String(((Ht=E==null?void 0:E.subject)==null?void 0:Ht.specialization)||"").toLowerCase(),mt=String(((cn=E==null?void 0:E.subject)==null?void 0:cn._id)||"").toLowerCase();return W.includes(B)||fe.includes(B)||at.includes(B)||mt.includes(B)},ve=E=>{var B;return re==="All"?!0:String(((B=E==null?void 0:E.subject)==null?void 0:B.group)||"")===re},L=E=>{switch(F){case"delayed":return(E.rows||[]).some(B=>B.status==="delayed");case"pending":return(E.rows||[]).some(B=>B.status==="pending"&&!z(B.year,B.month));case"paid":return(E.rows||[]).some(B=>B.status==="paid");case"upcoming":return I(E)!==null;case"all":default:return!0}},$=E=>_!=="nearestDue"?E:[...E].sort((B,W)=>{const fe=I(B),at=I(W);return fe&&at?fe-at:fe?-1:at?1:0}),U=m.useMemo(()=>{const E=(x||[]).filter(B=>Q(B)&&ve(B)&&L(B));return $(E)},[x,M,re,F,_,C]),P=m.useMemo(()=>{const E=(v||[]).filter(B=>Q(B)&&L(B));return $(E)},[v,M,F,_,C]),Je=async({subjectId:E,subjectType:B,year:W,month:fe,currentStatus:at})=>{try{const mt=ie(at||"unpaid");await Yb({sessionId:t,subjectId:E,subjectType:B,year:W,month:fe,status:mt}),await K(),b("Payment status updated")}catch(mt){d(mt.message||"Failed to update payment status")}};return a.filter(E=>E.title.toLowerCase().includes(u.toLowerCase())||E.description.toLowerCase().includes(u.toLowerCase())),l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>e(-1),className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Go back",children:" Back"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Payment Schedule"}),n&&l.jsx("p",{className:"text-sm text-gray-600",children:n.name})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search by name, group",value:M,onChange:E=>J(E.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm w-44 focus:outline-none focus:ring-2 focus:ring-blue-500"}),M&&l.jsx("button",{onClick:()=>J(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear search",children:""})]}),l.jsxs("select",{value:re,onChange:E=>ge(E.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Filter players by group",children:[l.jsx("option",{value:"All",children:"All Groups"}),xp.map(E=>l.jsx("option",{value:E,children:E},E))]}),l.jsxs("select",{value:F,onChange:E=>Z(E.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Filter by payment status",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"upcoming",children:"Upcoming (nearest due)"}),l.jsx("option",{value:"delayed",children:"Delayed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"paid",children:"Paid"})]}),l.jsxs("select",{value:_,onChange:E=>X(E.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Sort order",children:[l.jsx("option",{value:"default",children:"Default order"}),l.jsx("option",{value:"nearestDue",children:"Sort by nearest due"})]}),l.jsxs("select",{value:A,onChange:E=>T(E.target.value),className:"rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",title:"Filter by payment type",children:[l.jsx("option",{value:"all",children:"All Payments"}),l.jsx("option",{value:"players",children:"Players Only"}),l.jsx("option",{value:"coaches",children:"Coaches Only"})]}),(re!=="All"||F!=="all"||M||_!=="default"||A!=="all")&&l.jsx("button",{onClick:()=>{J(""),ge("All"),Z("all"),X("default"),T("all")},className:"text-sm rounded-md bg-gray-100 px-3 py-2 hover:bg-gray-200",title:"Reset filters",children:"Reset"})]})]}),f&&l.jsx("div",{className:"mb-4 text-green-700 bg-green-50 border border-green-200 rounded p-2 text-sm",children:f}),c&&l.jsx("div",{className:"mb-4 text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:c})]}),N&&l.jsxs("div",{className:"space-y-4",children:[S&&l.jsx("div",{className:"text-red-700 bg-red-50 border border-red-200 rounded p-2 text-sm",children:S}),O?l.jsx("div",{className:"p-4 text-gray-600",children:"Loading"}):l.jsxs("div",{className:`grid gap-6 ${A==="all"?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[(A==="all"||A==="players")&&l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 font-semibold text-gray-900",children:"Players Payments"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fee (DT)"}),xe.map(E=>l.jsxs("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:[ye(E.month)," ",String(E.year).slice(-2)]},`phead-${E.year}-${E.month}`))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:U.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-3 text-center text-gray-500",colSpan:3+xe.length,children:"No players"})}):U.map(E=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-900 font-medium",children:E.subject.fullName||E.subject._id}),E.subject.group&&l.jsx("div",{className:"text-xs text-gray-500",children:E.subject.group})]}),l.jsx("button",{onClick:()=>G("player",E),className:"ml-2 bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1 rounded-lg transition-colors duration-200",children:"View Calendar"})]})}),l.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-gray-700",children:[(E.subject.baseAmount??0).toFixed(2)," DT"]}),xe.map(B=>{const W=(E.rows||[]).find(fe=>fe.year===B.year&&fe.month===B.month)||{status:"pending"};return l.jsx("td",{className:"px-2 py-2 text-center",children:l.jsx("button",{onClick:()=>Je({subjectId:E.subject._id,subjectType:"player",year:B.year,month:B.month,currentStatus:W.status}),className:`inline-flex items-center justify-center px-2 py-1 rounded-full text-xs font-medium 
                                        ${W.status==="paid"?"bg-green-100 text-green-700":""}
                                        ${W.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                                        ${W.status==="delayed"?"bg-orange-100 text-orange-800":""}
                                      `,title:"Click to change status",children:W.status})},`pcell-${E.subject._id}-${B.year}-${B.month}`)})]},`prow-${E.subject._id}`))})]})})]}),(A==="all"||A==="coaches")&&l.jsxs("div",{className:"rounded-xl bg-white shadow-sm border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 border-b bg-gray-50 font-semibold text-gray-900",children:"Coaches Payments"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coach"}),l.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salary (DT)"}),xe.map(E=>l.jsxs("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:[ye(E.month)," ",String(E.year).slice(-2)]},`chead-${E.year}-${E.month}`))]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:P.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-3 text-center text-gray-500",colSpan:3+xe.length,children:"No coaches"})}):P.map(E=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-900 font-medium",children:E.subject.fullName||E.subject._id}),E.subject.specialization&&l.jsx("div",{className:"text-xs text-gray-500",children:E.subject.specialization})]}),l.jsx("button",{onClick:()=>G("coach",E),className:"ml-2 bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded-lg transition-colors duration-200",children:"View Calendar"})]})}),l.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-gray-700",children:[(E.subject.baseAmount??0).toFixed(2)," DT"]}),xe.map(B=>{const W=(E.rows||[]).find(fe=>fe.year===B.year&&fe.month===B.month)||{status:"pending"};return l.jsx("td",{className:"px-2 py-2 text-center",children:l.jsx("button",{onClick:()=>Je({subjectId:E.subject._id,subjectType:"coach",year:B.year,month:B.month,currentStatus:W.status}),className:`inline-flex items-center justify-center px-2 py-1 rounded-full text-xs font-medium 
                                        ${W.status==="paid"?"bg-green-100 text-green-700":""}
                                        ${W.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                                        ${W.status==="delayed"?"bg-orange-100 text-orange-800":""}
                                      `,title:"Click to change status",children:W.status})},`ccell-${E.subject._id}-${B.year}-${B.month}`)})]},`crow-${E.subject._id}`))})]})})]})]})]}),q&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${q.type==="player"?"bg-blue-100":"bg-green-100"}`,children:l.jsx("svg",{className:`w-6 h-6 ${q.type==="player"?"text-blue-600":"text-green-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Full Payment Calendar"}),l.jsx("p",{className:"text-sm text-gray-600",children:q.data.subject.fullName})]})]}),l.jsx("button",{onClick:Y,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-full hover:bg-gray-100",title:"Close modal",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(E=>{const B=(q.data.rows||[]).find(fe=>fe.year===E.year&&fe.month===E.month)||{status:"pending",amount:q.data.subject.baseAmount||0},W=new Date(E.year,E.month-1,1).toLocaleDateString("en-US",{month:"long",year:"numeric"});return l.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 hover:shadow-md ${B.status==="paid"?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300 shadow-green-100":B.status==="pending"?"bg-gradient-to-br from-yellow-50 to-amber-50 border-yellow-300 shadow-yellow-100":B.status==="delayed"?"bg-gradient-to-br from-red-50 to-rose-50 border-red-300 shadow-red-100":"bg-gradient-to-br from-gray-50 to-slate-50 border-gray-300 shadow-gray-100"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h5",{className:"font-semibold text-gray-900 text-sm",children:W}),l.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${B.status==="paid"?"bg-green-200 text-green-800":B.status==="pending"?"bg-yellow-200 text-yellow-800":B.status==="delayed"?"bg-red-200 text-red-800":"bg-gray-200 text-gray-800"}`,children:B.status})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900 mb-3",children:[B.amount||q.data.subject.baseAmount||0," DT"]}),l.jsx("button",{onClick:()=>Je({subjectId:q.data.subject._id,subjectType:q.type,year:E.year,month:E.month,currentStatus:B.status}),className:`w-full text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors duration-200 ${q.type==="player"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700"}`,children:"Change Status"})]})]},`modal-${q.data.subject._id}-${E.year}-${E.month}`)})}),l.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200",children:[l.jsxs("h5",{className:"font-bold text-gray-900 mb-4 text-lg flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Payment Summary"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount:"}),l.jsxs("span",{className:"font-bold text-lg text-gray-900",children:[C.reduce((E,B)=>{const W=(q.data.rows||[]).find(fe=>fe.year===B.year&&fe.month===B.month);return E+((W==null?void 0:W.amount)||q.data.subject.baseAmount||0)},0).toFixed(2)," DT"]})]})}),l.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Paid:"}),l.jsxs("span",{className:"font-bold text-lg text-green-600",children:[C.filter(E=>{const B=(q.data.rows||[]).find(W=>W.year===E.year&&W.month===E.month);return(B==null?void 0:B.status)==="paid"}).length," months"]})]})}),l.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600 font-medium",children:"Pending:"}),l.jsxs("span",{className:"font-bold text-lg text-yellow-600",children:[C.filter(E=>{const B=(q.data.rows||[]).find(W=>W.year===E.year&&W.month===E.month);return(B==null?void 0:B.status)==="pending"}).length," months"]})]})})]})]})]})]})})]})}function yp(){return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs(_y,{children:[l.jsx(Ye,{path:"/",element:l.jsxs(l.Fragment,{children:[l.jsx(Si,{}),l.jsx(jb,{})]})}),l.jsx(Ye,{path:"/login",element:l.jsxs(l.Fragment,{children:[l.jsx(Si,{}),l.jsx(Sb,{})]})}),l.jsx(Ye,{path:"/register",element:l.jsxs(l.Fragment,{children:[l.jsx(Si,{}),l.jsx(Eb,{})]})}),l.jsxs(Ye,{path:"/dashboard/*",element:l.jsx(bb,{}),children:[l.jsx(Ye,{index:!0,element:l.jsx(Xb,{})}),l.jsx(Ye,{path:"coaches",element:l.jsx(Zb,{})}),l.jsx(Ye,{path:"players",element:l.jsx(Fb,{})}),l.jsx(Ye,{path:"events",element:l.jsx(ep,{})}),l.jsx(Ye,{path:"sessions",element:l.jsx(rp,{})}),l.jsx(Ye,{path:"sessions/:sessionId/schedule",element:l.jsx(ip,{})}),l.jsx(Ye,{path:"session-management",element:l.jsx(mu,{})}),l.jsx(Ye,{path:"session-management/:sessionId",element:l.jsx(mu,{})}),l.jsx(Ye,{path:"training-plans",element:l.jsx(hp,{})}),l.jsx(Ye,{path:"training-schedule",element:l.jsx(gp,{})}),l.jsx(Ye,{path:"settings",element:l.jsx(cp,{})})]}),l.jsx(Ye,{path:"/coach-dashboard",element:l.jsx(lp,{})}),l.jsx(Ye,{path:"/player-dashboard",element:l.jsx(sp,{})})]})})}Ug.createRoot(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(sb,{children:l.jsx(yp,{})})}));
